(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"5yQV":function(t,e,i){"use strict";i.d(e,"a",function(){return b});var o=i("AytR"),n=i("tk/3"),r=i("coGc"),a=i("lJxs"),s=i("IzEk"),c=i("MtjB"),d=i("PqYM"),l=i("fXoL");let b=(()=>{class t{constructor(t){this.http=t}hanflerError(t){return t.pipe(Object(r.a)(()=>Object(d.a)(3e3)),Object(a.a)(t=>{if(console.log("Entramos a intentos"),t instanceof ErrorEvent)throw new Error("Error de Red");if(404===t.status)throw new Error(" P\xe1gina no encontrada")}),Object(s.a)(3))}crearInventario(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/tipo/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}actualizarInventario(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/cierre/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerInventarios(t){const e={headers:new n.c({"x-token":t})};return this.http.get(`${o.a}/ivt/tipo/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerInventario(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.get(`${o.a}/ivt/tipo/uno`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarAcceso(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/tipo/accesos/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}BuscarUsuarios(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/empleados/buscar/`,{patron:e},i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearEmpleado(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/empleados/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarEmpleado(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/empleados/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerEmpleados(t){const e={headers:new n.c({"x-token":t})};return this.http.get(`${o.a}/empleados/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarEmpleados(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.delete(`${o.a}/empleados/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearProveedor(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/proveedores/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarProveedor(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/proveedores/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarProveedor(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.delete(`${o.a}/ivt/proveedores/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProveedor(t,e){const i={headers:new n.c({"x-token":t,"x-ivt":e})};return this.http.get(`${o.a}/ivt/proveedores/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearCategoria(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/categorias/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarCategoria(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/categorias/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarCategoria(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.delete(`${o.a}/ivt/categorias/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerCategoria(t,e){const i={headers:new n.c({"x-token":t,"x-ivt":e})};return this.http.get(`${o.a}/ivt/categorias/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearProducto(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/productos/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarProducto(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarProducto(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.delete(`${o.a}/ivt/productos/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProducto(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/filtro/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProductoEstadistica(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/filtro/estadistica/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProductosPorInventario(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/buscarivt/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}buscarProducto(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/buscar`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}buscarProductoEntrada(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/buscar/entrada`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearEntrada(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/entradas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerEntrada(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/entradas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarEntradas(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/entradas/buscar/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarEntradasPatron(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/entradas/buscar/patron/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearSalida(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/salidas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerSalida(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/salidas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarSalidas(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/salidas/buscar/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarSalidasPatron(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/salidas/buscar/patron/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}CargarInventarios(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/tipo/almacen/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}CierresInventario(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/cierre/buscar/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}MovCantidades(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/mov/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}MovCantidades2(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/mov/salidas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerMovmientos(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/movimientos/filtro/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerAgotados(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/agotados/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProximos(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/proximos/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(n.a))},t.\u0275prov=l.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},NaAF:function(t,e,i){"use strict";i.r(e),i.d(e,"FacturaNuevaPageModule",function(){return ot});var o=i("ofXK"),n=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),s=i("mrSG"),c=i("fXoL"),d=i("fsfq"),l=i("a/9d"),b=i("fmoy"),h=i("r3ab"),u=i("AQLj"),p=i("5yQV"),f=i("oQG1"),m=i("fqim");function g(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-item-divider",19),c.Mb(1,"ion-label",20),c.rc(2," Sacar producto del inventario "),c.Lb(),c.Mb(3,"ion-toggle",21),c.Ub("ionChange",function(e){return c.lc(t),c.Wb().cambiarr(e)}),c.Lb(),c.Lb()}if(2&t){const t=c.Wb();c.zb(3),c.dc("checked",t.mostrar)}}function v(t,e){1&t&&c.Kb(0,"ion-spinner",22)}function M(t,e){if(1&t&&(c.Mb(0,"ion-select-option",26),c.rc(1),c.Lb()),2&t){const t=e.$implicit;c.ec("value",t._id),c.zb(1),c.sc(t.name)}}function L(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-item",23),c.Mb(1,"ion-label"),c.rc(2,"Escoge el inventario"),c.Lb(),c.Mb(3,"ion-select",24),c.Ub("ionChange",function(e){return c.lc(t),c.Wb().cambioInventario(e)}),c.qc(4,M,2,2,"ion-select-option",25),c.Lb(),c.Lb()}if(2&t){const t=c.Wb();c.zb(4),c.dc("ngForOf",t.inventarios)}}function x(t,e){if(1&t&&(c.Mb(0,"div"),c.Mb(1,"strong"),c.rc(2,"C\xf3digo: "),c.Lb(),c.rc(3),c.Lb()),2&t){const t=c.Wb().$implicit;c.zb(3),c.tc(" ",t.codigo,"")}}function C(t,e){1&t&&(c.Mb(0,"ion-chip",34),c.rc(1,"AL DIA"),c.Lb())}function O(t,e){1&t&&(c.Mb(0,"ion-chip",35),c.rc(1,"SE EST\xc1 AGOTANDO"),c.Lb())}function E(t,e){1&t&&(c.Mb(0,"ion-chip",36),c.rc(1,"PRODUCTO AGOTADO"),c.Lb())}function k(t,e){if(1&t&&(c.Mb(0,"ion-item"),c.Mb(1,"ion-label"),c.Mb(2,"div"),c.rc(3),c.Lb(),c.qc(4,x,4,1,"div",8),c.Mb(5,"div"),c.Mb(6,"strong"),c.rc(7,"Categoria: "),c.Lb(),c.Mb(8,"strong",29),c.rc(9),c.Lb(),c.Lb(),c.Mb(10,"div",16),c.Mb(11,"strong"),c.rc(12,"Existencia: "),c.Mb(13,"span",17),c.rc(14),c.Lb(),c.Lb(),c.qc(15,C,2,0,"ion-chip",30),c.qc(16,O,2,0,"ion-chip",31),c.qc(17,E,2,0,"ion-chip",32),c.Lb(),c.Lb(),c.Kb(18,"ion-radio",33),c.Lb()),2&t){const t=e.$implicit;c.zb(3),c.sc(t.nombre),c.zb(1),c.dc("ngIf",t.codigo),c.zb(5),c.sc(t.categoria),c.zb(5),c.sc(t.existencia),c.zb(1),c.dc("ngIf",t.existencia>t.limote),c.zb(1),c.dc("ngIf",t.existencia<=t.limite&&t.existencia>0),c.zb(1),c.dc("ngIf",0===t.existencia),c.zb(1),c.dc("value",t)}}function j(t,e){if(1&t){const t=c.Nb();c.Mb(0,"div"),c.Mb(1,"ion-searchbar",27),c.Ub("ionChange",function(e){return c.lc(t),c.Wb().productoHijo(e)}),c.Lb(),c.Kb(2,"br"),c.Mb(3,"ion-radio-group",24),c.Ub("ionChange",function(e){return c.lc(t),c.Wb().prodDestino(e)}),c.qc(4,k,19,8,"ion-item",28),c.Lb(),c.Lb()}if(2&t){const t=c.Wb();c.zb(4),c.dc("ngForOf",t.productosHijos)}}function w(t,e){1&t&&(c.Mb(0,"ion-item",11),c.Mb(1,"ion-label",20),c.rc(2," Nombre del prodcuto "),c.Lb(),c.Lb())}function y(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-item",13),c.Mb(1,"ion-input",37),c.Ub("ngModelChange",function(e){return c.lc(t),c.Wb().nombre=e}),c.Lb(),c.Lb()}if(2&t){const t=c.Wb();c.zb(1),c.dc("ngModel",t.nombre)}}let z=(()=>{class t{constructor(t,e,i,o,n,r,a,s,c,d,l,b){this.modalCtrl=t,this.actionCtrl=e,this.almacenamiento=i,this.camera=o,this.toast=n,this.myLoading=r,this.hojaApi=a,this.activeRoute=s,this.router=c,this.nav=d,this.ivtApi=l,this.usuarioApi=b,this.titulo="",this.textoActual="",this.titulotipo="",this.load=!1,this.mostrar=!1,this.mod=!1,this.listaModulos="",this.ivtSelect="",this.idprod="",this.ivtid="",this.prod="",this.cod="",this.productosHijos=[],this.inventarios=[],this.cargado=!1,this.cantidad=0,this.existencia=0,this.precio=0,this.nombre="",this.total=0,this.necesita=!1}ngOnInit(){}ionViewWillEnter(){return Object(s.a)(this,void 0,void 0,function*(){console.log(this.rep),this.modulos()})}cerrar(){this.modalCtrl.dismiss()}cambioInventario(t){return Object(s.a)(this,void 0,void 0,function*(){this.ivtSelect=t.detail.value})}modulos(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(t._id&&""!==t._id?this.usuarioApi.modulos(t.token).subscribe(t=>{t.exe?t.response.length>0&&(this.listaModulos=t.response[0].modulos,this.listaModulos.includes("inventarios")&&(this.mod=!0)):this.toast.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")}):this.nav.navigateRoot("/home"))})}productoHijo(t){return Object(s.a)(this,void 0,void 0,function*(){if(""!==t.detail.value){const e=yield this.almacenamiento.obtenerToken();e&&this.ivtApi.leerProductosPorInventario(e.token,{id:this.ivtSelect,patron:t.detail.value}).subscribe(t=>{t.exe?this.productosHijos=t.response:this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")})}else this.productosHijos=[]})}prodDestino(t){console.log(t),this.idprod=t.detail.value._id,this.prod=t.detail.value.nombre,this.cod=t.detail.value.codigo,0===t.detail.value.existencia?this.toast.toastError("No puede escoger este producto ya que se encuentra agotado"):(this.cantidad>this.existencia&&this.toast.toastError("No puede tener una cantidad mayor a la exisencia del producto, por favor verifique"),this.nombre=t.detail.value.nombre,this.existencia=t.detail.value.existencia,this.necesita=!0)}cambiarr(t){t.detail.checked?(this.inventarios=[],this.cargarInventarios(),this.mostrar=!0):this.mostrar=!1}cargarInventarios(){return Object(s.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&this.ivtApi.CargarInventarios(t.token,{creador:t._id}).subscribe(t=>Object(s.a)(this,void 0,void 0,function*(){t.exe?t.response.forEach(t=>{this.inventarios.push(t)}):this.toast.toastError("No se traer la lista de inventarios, intentelo m\xe1s tarde"),this.load=!1}),t=>{this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1})})}salidaCambioProd(t,e){"precio"===e?this.precio=t.detail.value:"canti"===e&&(this.mostrar&&t.detail.value>this.existencia?this.toast.toastError("No puede tener una cantidad mayor a la exisencia del producto, por favor verifique"):this.cantidad=t.detail.value),this.total=this.precio*this.cantidad}guardar(){this.modalCtrl.dismiss({nombre:this.nombre,cantidad:this.cantidad,precio:this.precio,ivt:this.ivtSelect,idprod:this.idprod,total:this.total,necesita:this.necesita,cod:this.cod})}cancelar(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(r.pb),c.Jb(r.a),c.Jb(d.a),c.Jb(l.a),c.Jb(b.a),c.Jb(h.a),c.Jb(u.a),c.Jb(a.a),c.Jb(a.g),c.Jb(r.qb),c.Jb(p.a),c.Jb(f.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-modal-factura-item"]],inputs:{rep:"rep",tipoVista:"tipoVista",id:"id"},decls:40,vars:14,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],["color","light","lines","none",4,"ngIf"],["name","crescent","color","primary",4,"ngIf"],["color","light",4,"ngIf"],[4,"ngIf"],["class","sinfondo","lines","none",4,"ngIf"],["class","sinfondo",4,"ngIf"],["lines","none",1,"sinfondo"],["slot","start"],[1,"sinfondo"],["type","number","placeholder","Digitar valor",3,"disabled","ngModel","ionChange","ngModelChange"],[1,"total"],[1,"flexbet"],[1,"verdei"],["color","oscuro","expand","block","mode","ios","shape","round",1,"btn",3,"click"],["color","light","lines","none"],["slot","start",1,"ion-text-wrap"],["slot","end","color","primary","mode","ios",3,"checked","ionChange"],["name","crescent","color","primary"],["color","light"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placeholder","Buscar producto ","debounce","500",3,"ionChange"],[4,"ngFor","ngForOf"],[1,"rojoi"],["color","success",4,"ngIf"],["color","warning",4,"ngIf"],["color","danger",4,"ngIf"],["slot","end","mode","md",3,"value"],["color","success"],["color","warning"],["color","danger"],["type","text","placeholder","Nombre del producto",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar",1),c.Mb(2,"ion-title"),c.rc(3,"Agregar Item"),c.Lb(),c.Mb(4,"ion-buttons",2),c.Mb(5,"ion-button",3),c.Ub("click",function(){return e.cerrar()}),c.Kb(6,"ion-icon",4),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(7,"ion-content"),c.Mb(8,"ion-list"),c.qc(9,g,4,1,"ion-item-divider",5),c.Kb(10,"br"),c.qc(11,v,1,0,"ion-spinner",6),c.Kb(12,"br"),c.qc(13,L,5,1,"ion-item",7),c.qc(14,j,5,1,"div",8),c.qc(15,w,3,0,"ion-item",9),c.qc(16,y,2,1,"ion-item",10),c.Kb(17,"br"),c.Mb(18,"ion-item",11),c.Mb(19,"ion-label",12),c.rc(20," Precio Unitario "),c.Lb(),c.Lb(),c.Mb(21,"ion-item",13),c.Mb(22,"ion-input",14),c.Ub("ionChange",function(t){return e.salidaCambioProd(t,"precio")})("ngModelChange",function(t){return e.precio=t}),c.Lb(),c.Lb(),c.Mb(23,"ion-item",11),c.Mb(24,"ion-label",12),c.rc(25," Cantidad "),c.Lb(),c.Lb(),c.Mb(26,"ion-item",13),c.Mb(27,"ion-input",14),c.Ub("ionChange",function(t){return e.salidaCambioProd(t,"canti")})("ngModelChange",function(t){return e.cantidad=t}),c.Lb(),c.Lb(),c.Kb(28,"br"),c.Kb(29,"br"),c.Mb(30,"div",15),c.Mb(31,"div",16),c.Mb(32,"strong"),c.rc(33,"Total: "),c.Lb(),c.Mb(34,"span",17),c.rc(35),c.Xb(36,"decimales"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(37,"div",16),c.Mb(38,"ion-button",18),c.Ub("click",function(){return e.guardar()}),c.rc(39,"GUARDAR"),c.Lb(),c.Lb(),c.Lb()),2&t&&(c.zb(9),c.dc("ngIf",e.mod),c.zb(2),c.dc("ngIf",e.load),c.zb(2),c.dc("ngIf",e.mostrar),c.zb(1),c.dc("ngIf",e.mostrar&&""!==e.ivtSelect),c.zb(1),c.dc("ngIf",!e.mostrar),c.zb(1),c.dc("ngIf",!e.mostrar),c.zb(6),c.dc("disabled",!e.idprod&&e.mostrar)("ngModel",e.precio),c.zb(5),c.dc("disabled",!e.idprod&&e.mostrar)("ngModel",e.cantidad),c.zb(8),c.tc("$",c.Zb(36,11,e.total,"es-CO"),""))},directives:[r.z,r.kb,r.ib,r.k,r.j,r.A,r.t,r.L,o.j,r.F,r.K,r.E,r.rb,n.i,n.k,r.G,r.jb,r.d,r.cb,r.X,r.wb,o.i,r.Y,r.U,r.xb,r.O,r.N,r.ub,r.r],pipes:[m.a],styles:[""]}),t})();var I=i("6POk");function $(t,e){1&t&&(c.Mb(0,"div",8),c.Kb(1,"ion-spinner",9),c.Mb(2,"strong"),c.rc(3,"Cargando la interfaz..."),c.Lb(),c.Lb())}function F(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-item-sliding"),c.Mb(1,"ion-item"),c.Mb(2,"ion-label",25),c.Mb(3,"div"),c.rc(4),c.Lb(),c.Mb(5,"div",26),c.Mb(6,"strong"),c.rc(7,"Cantidad: "),c.Lb(),c.Mb(8,"span"),c.rc(9),c.Lb(),c.Lb(),c.Mb(10,"div",26),c.Mb(11,"strong"),c.rc(12,"Valor unitario: "),c.Lb(),c.Mb(13,"span"),c.rc(14),c.Xb(15,"decimales"),c.Lb(),c.Lb(),c.Mb(16,"div",26),c.Mb(17,"strong"),c.rc(18,"Total: "),c.Lb(),c.Mb(19,"span"),c.rc(20),c.Xb(21,"decimales"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(22,"ion-item-options",27),c.Mb(23,"ion-item-option",28),c.Ub("click",function(){c.lc(t);const i=e.index;return c.Wb(3).eliminar(i)}),c.Kb(24,"ion-icon",29),c.Lb(),c.Lb(),c.Lb()}if(2&t){const t=e.$implicit;c.zb(4),c.sc(t.item),c.zb(5),c.sc(t.cantidad),c.zb(5),c.tc("$",c.Zb(15,4,t.valoru,"es-CO"),""),c.zb(6),c.tc(" $",c.Zb(21,7,t.total,"es-CO"),"")}}function N(t,e){if(1&t&&(c.Mb(0,"div",32),c.Mb(1,"h3"),c.Mb(2,"strong",33),c.rc(3,"Subtotal: "),c.Lb(),c.Mb(4,"span"),c.rc(5),c.Xb(6,"decimales"),c.Lb(),c.Lb(),c.Lb()),2&t){const t=c.Wb().$implicit;c.zb(5),c.tc("$",c.Zb(6,1,t.subtotal,"es-CO"),"")}}function P(t,e){if(1&t&&(c.Mb(0,"div",32),c.Mb(1,"h3"),c.Mb(2,"strong",34),c.rc(3,"Iva: "),c.Lb(),c.Mb(4,"span"),c.rc(5),c.Xb(6,"decimales"),c.Lb(),c.Lb(),c.Lb()),2&t){const t=c.Wb(2).$implicit;c.zb(5),c.tc("$",c.Zb(6,1,t.iva,"es-CO"),"")}}function q(t,e){if(1&t&&(c.Mb(0,"div"),c.qc(1,P,7,4,"div",31),c.Lb()),2&t){const t=c.Wb(4);c.zb(1),c.dc("ngIf",t.items.length>0&&t.data.iva)}}function W(t,e){if(1&t&&(c.Mb(0,"div",32),c.Mb(1,"h3"),c.Mb(2,"strong",34),c.rc(3,"Iva: "),c.Lb(),c.Mb(4,"span"),c.rc(5),c.Xb(6,"decimales"),c.Lb(),c.Lb(),c.Lb()),2&t){const t=c.Wb(2).$implicit;c.zb(5),c.tc("$",c.Zb(6,1,t.iva,"es-CO"),"")}}function K(t,e){if(1&t&&(c.Mb(0,"div"),c.qc(1,W,7,4,"div",31),c.Lb()),2&t){const t=c.Wb(4);c.zb(1),c.dc("ngIf",t.items.length>0&&t.info.iva)}}function U(t,e){if(1&t&&(c.Mb(0,"div",32),c.Mb(1,"h3"),c.Mb(2,"strong"),c.rc(3,"Total: "),c.Lb(),c.Mb(4,"span"),c.rc(5),c.Xb(6,"decimales"),c.Lb(),c.Lb(),c.Lb()),2&t){const t=c.Wb().$implicit;c.zb(5),c.tc("$",c.Zb(6,1,t.total,"es-CO"),"")}}function A(t,e){if(1&t&&(c.Mb(0,"div",30),c.qc(1,N,7,4,"div",31),c.qc(2,q,2,1,"div",7),c.qc(3,K,2,1,"div",7),c.qc(4,U,7,4,"div",31),c.Lb()),2&t){const t=c.Wb(3);c.zb(1),c.dc("ngIf",t.items.length>0&&t.carga),c.zb(1),c.dc("ngIf",t.data),c.zb(1),c.dc("ngIf",t.info),c.zb(1),c.dc("ngIf",t.items.length>0&&t.carga)}}function J(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-list"),c.Mb(1,"ion-item",11),c.Mb(2,"ion-label"),c.rc(3,"A\xf1adir un nuevo item"),c.Lb(),c.Mb(4,"ion-buttons",12),c.Mb(5,"ion-button",3),c.Ub("click",function(){return c.lc(t),c.Wb(2).crear()}),c.Kb(6,"ion-icon",13),c.Lb(),c.Lb(),c.Lb(),c.Kb(7,"div",14),c.qc(8,F,25,10,"ion-item-sliding",15),c.Kb(9,"div",14),c.qc(10,A,5,4,"div",16),c.Kb(11,"div",14),c.Mb(12,"ion-item-divider",17),c.Mb(13,"ion-label"),c.rc(14,"Nombre del cliente"),c.Lb(),c.Lb(),c.Mb(15,"ion-item",18),c.Mb(16,"ion-input",19),c.Ub("ngModelChange",function(e){return c.lc(t),c.Wb(2).cliente=e}),c.Lb(),c.Lb(),c.Kb(17,"br"),c.Mb(18,"ion-item-divider",17),c.Mb(19,"ion-label"),c.rc(20,"Tel\xe9fono del cliente"),c.Lb(),c.Lb(),c.Mb(21,"ion-item",18),c.Mb(22,"ion-input",20),c.Ub("ngModelChange",function(e){return c.lc(t),c.Wb(2).telefono=e}),c.Lb(),c.Lb(),c.Kb(23,"br"),c.Mb(24,"ion-item-divider",17),c.Mb(25,"ion-label"),c.rc(26,"Direcci\xf3n del cliente"),c.Lb(),c.Lb(),c.Mb(27,"ion-item",18),c.Mb(28,"ion-input",21),c.Ub("ngModelChange",function(e){return c.lc(t),c.Wb(2).direccion=e}),c.Lb(),c.Lb(),c.Kb(29,"br"),c.Mb(30,"ion-item-divider",17),c.Mb(31,"ion-label"),c.rc(32,"C\xe9dula o Nit del cliente"),c.Lb(),c.Lb(),c.Mb(33,"ion-item",18),c.Mb(34,"ion-input",22),c.Ub("ngModelChange",function(e){return c.lc(t),c.Wb(2).cc=e}),c.Lb(),c.Lb(),c.Kb(35,"br"),c.Mb(36,"ion-item-divider",17),c.Mb(37,"ion-label"),c.rc(38,"Ciudad del cliente"),c.Lb(),c.Lb(),c.Mb(39,"ion-item",18),c.Mb(40,"ion-input",23),c.Ub("ngModelChange",function(e){return c.lc(t),c.Wb(2).ciudad=e}),c.Lb(),c.Lb(),c.Kb(41,"div",14),c.Mb(42,"ion-button",24),c.Ub("click",function(){return c.lc(t),c.Wb(2).guardar()}),c.rc(43,"CREAR FACTURA"),c.Lb(),c.Lb()}if(2&t){const t=c.Wb(2);c.zb(8),c.dc("ngForOf",t.items),c.zb(2),c.dc("ngForOf",t.totales),c.zb(6),c.dc("ngModel",t.cliente),c.zb(6),c.dc("ngModel",t.telefono),c.zb(6),c.dc("ngModel",t.direccion),c.zb(6),c.dc("ngModel",t.cc),c.zb(6),c.dc("ngModel",t.ciudad)}}function T(t,e){if(1&t&&(c.Mb(0,"div",10),c.qc(1,J,44,7,"ion-list",7),c.Lb()),2&t){const t=c.Wb();c.zb(1),c.dc("ngIf",t.data||t.info)}}function _(t,e){1&t&&c.Kb(0,"div")}let D=(()=>{class t{constructor(t,e,i,o,n){this.modalCtrl=t,this.almacenamiento=e,this.toast=i,this.alertCtrl=o,this.apiFactura=n,this.items=[],this.totales=[],this.subtotal=0,this.iva=0,this.total=0,this.cliente="",this.telefono="0",this.direccion="",this.cc="",this.ciudad="",this.id="",this.carga=!1,this.vista=1,this.cargador=!1}ngOnInit(){}ionViewWillEnter(){console.log(this.info),this.cargador=!0,this.info?(this.vista=1,this.items=this.info.lista,this.subtotal=this.info.subtotal,this.total=this.info.total,this.iva=this.info.ivatotal,this.ciudad=this.info.ciudad,this.telefono=this.info.tel,this.cc=this.info.nitcc,this.cliente=this.info.cliente,this.direccion=this.info.direccion,this.carga=!0,this.totales.push({total:this.total,subtotal:this.subtotal,iva:this.iva}),console.log(this.totales)):this.vista=1}cerrar(){this.modalCtrl.dismiss()}crear(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:z});yield t.present();const e=yield t.onWillDismiss();e&&e.data&&(this.items.push({valoru:e.data.precio,item:e.data.nombre,cantidad:e.data.cantidad,total:e.data.total,ivt:e.data.ivt,idprod:e.data.idprod,necesita:e.data.necesita,cod:e.data.cod}),this.carga=!1,this.calculo())})}eliminar(t){this.items.splice(t,1),this.calculo()}calculo(){this.subtotal=0,this.total=0,this.iva=0;let t=0;this.totales=[],this.items.forEach(e=>{t+=parseFloat(e.total)}),this.subtotal=t,this.data?this.data.iva&&(this.iva=.19*this.subtotal):this.info.iva&&(this.iva=.19*this.subtotal),this.total=this.subtotal+this.iva,this.carga=!0,this.totales.push({total:this.total,subtotal:this.subtotal,iva:this.iva})}guardar(){return Object(s.a)(this,void 0,void 0,function*(){if(this.items.length>0&&""!==this.cliente&&""!==this.cc){const t=yield this.almacenamiento.obtenerToken();t&&(this.data?this.apiFactura.guardarConfiguracion(t.token,{cliente:this.cliente,direccion:this.direccion,telefono:this.telefono,iva:this.iva,cc:this.cc,ciudad:this.ciudad,subtotal:this.subtotal,total:this.total,lista:this.items,descuento:0,idconfig:this.data.id}).subscribe(t=>{t.exe?(this.toast.toastExitoso("Factura actualizada con \xe9xito"),this.modalCtrl.dismiss({exe:!0})):this.toast.toastError("No se pudo guardar la informaci\xf3n de la factura, intentelo mpas tarde")},t=>{this.toast.toastError("No se pudo guardar la informaci\xf3n de la factura, intentelo mpas tarde")}):this.apiFactura.editarFactura(t.token,{id:this.info._id,cliente:this.cliente,direccion:this.direccion,telefono:this.telefono,iva:this.iva,cc:this.cc,ciudad:this.ciudad,subtotal:this.subtotal,total:this.total,lista:this.items,descuento:0}).subscribe(t=>{t.exe?(this.toast.toastExitoso("Factura actualizada con \xe9xito"),this.modalCtrl.dismiss({exe:!0})):this.toast.toastError("No se pudo actualizar la informaci\xf3n de la factura, intentelo mpas tarde")},t=>{this.toast.toastError("No se pudo actualizar la informaci\xf3n de la factura, intentelo mpas tarde")}))}else this.toast.toastError("La informaci\xf3n requerida a\xfan esta icompleta, veirifca el nombre del cliente, su c\xe9dula y la descripci\xf3n de la factura")})}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(r.pb),c.Jb(d.a),c.Jb(b.a),c.Jb(r.b),c.Jb(I.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-modal-factura"]],inputs:{data:"data",info:"info"},decls:11,vars:3,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","start"],[3,"click"],["name","chevron-back-outline","slot","icon-only"],["class","cargador",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],[1,"cargador"],["name","crescent","color","barra"],[1,""],["color","light"],["slot","end"],["name","add-outline","slot","icon-only"],[1,"divider"],[4,"ngFor","ngForOf"],["class","td",4,"ngFor","ngForOf"],["color","light","lines","none"],["mode","ios",1,"sinfondo"],["type","text","placeholder","Nombre del cliente",3,"ngModel","ngModelChange"],["type","text","placeholder","Tel\xe9fono del cliente",3,"ngModel","ngModelChange"],["type","text","placeholder","Direcci\xf3n del cliente",3,"ngModel","ngModelChange"],["type","text","placeholder","C\xe9dula o Nit del cliente",3,"ngModel","ngModelChange"],["type","text","placeholder","Ciudad del cliente",3,"ngModel","ngModelChange"],["mode","ios","color","oscuro","expand","block",3,"click"],[1,"ion-text-wrap"],[1,"fl"],["side","end"],["color","danger",3,"click"],["name","trash-outline","slot","icon-only"],[1,"td"],["class","valores",4,"ngIf"],[1,"valores"],[1,"verdei"],[1,"rojoi"]],template:function(t,e){1&t&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar",1),c.Mb(2,"ion-buttons",2),c.Mb(3,"ion-button",3),c.Ub("click",function(){return e.cerrar()}),c.Kb(4,"ion-icon",4),c.Lb(),c.Lb(),c.Mb(5,"ion-title"),c.rc(6,"Crear Factura"),c.Lb(),c.Lb(),c.Lb(),c.Mb(7,"ion-content"),c.qc(8,$,4,0,"div",5),c.qc(9,T,2,1,"div",6),c.qc(10,_,1,0,"div",7),c.Lb()),2&t&&(c.zb(8),c.dc("ngIf",!e.cargador),c.zb(1),c.dc("ngIf",1===e.vista),c.zb(1),c.dc("ngIf",2===e.vista))},directives:[r.z,r.kb,r.k,r.j,r.A,r.ib,r.t,o.j,r.cb,r.L,r.F,r.K,o.i,r.G,r.E,r.xb,n.i,n.k,r.J,r.I,r.H],pipes:[m.a],styles:[".valores[_ngcontent-%COMP%]{font-size:24px!important;margin:0!important}.valores[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.verdei[_ngcontent-%COMP%]{color:green}.rojoi[_ngcontent-%COMP%]{color:red}.cargador[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.cargador[_ngcontent-%COMP%], .fl[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.fl[_ngcontent-%COMP%]{justify-content:space-between}.td[_ngcontent-%COMP%]{padding:0 10px;background:#fcf3aa}"]}),t})();const S=["inifinito"];function G(t,e){1&t&&(c.Mb(0,"ion-list"),c.Mb(1,"ion-item-divider",1),c.Mb(2,"ion-label",13),c.rc(3,"La factura se estructura de acuerdo a los par\xe1metros de configuraci\xf3n establecidos"),c.Lb(),c.Lb(),c.Lb())}function R(t,e){1&t&&(c.Mb(0,"div",14),c.Kb(1,"ion-spinner",15),c.Kb(2,"br"),c.Mb(3,"h3",16),c.rc(4,"Cargando informaci\xf3n..."),c.Lb(),c.Lb())}function X(t,e){if(1&t){const t=c.Nb();c.Mb(0,"div",17),c.Kb(1,"img",18),c.Mb(2,"h3",16),c.rc(3,"No tiene facturas creadas hasta el momento"),c.Lb(),c.Mb(4,"ion-button",19),c.Ub("click",function(){return c.lc(t),c.Wb().abrir()}),c.rc(5,"Crear Factura"),c.Lb(),c.Lb()}}function H(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-item-sliding"),c.Mb(1,"ion-item"),c.Mb(2,"ion-label",13),c.Mb(3,"div",20),c.Mb(4,"div",21),c.rc(5),c.Lb(),c.Lb(),c.Mb(6,"div",22),c.Mb(7,"strong"),c.rc(8,"Total: "),c.Lb(),c.Mb(9,"span"),c.rc(10),c.Xb(11,"decimales"),c.Lb(),c.Lb(),c.Mb(12,"div",22),c.Mb(13,"strong"),c.rc(14,"Cliente: "),c.Lb(),c.Mb(15,"span"),c.rc(16),c.Lb(),c.Lb(),c.Mb(17,"div",22),c.Mb(18,"strong"),c.rc(19,"Nit o CC: "),c.Lb(),c.Mb(20,"span"),c.rc(21),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(22,"ion-item-options",23),c.Mb(23,"ion-item-option",24),c.Ub("click",function(){c.lc(t);const i=e.$implicit;return c.Wb().alerta(i._id)}),c.Kb(24,"ion-icon",25),c.Lb(),c.Mb(25,"ion-item-option",26),c.Ub("click",function(){c.lc(t);const i=e.$implicit;return c.Wb().editar(i)}),c.Kb(26,"ion-icon",27),c.Lb(),c.Lb(),c.Lb()}if(2&t){const t=e.$implicit;c.zb(5),c.tc("FACTURA N\xdaMERO ",t.consecutivo,""),c.zb(5),c.tc("$",c.Zb(11,4,t.total,"es-CO"),""),c.zb(6),c.sc(t.cliente),c.zb(5),c.sc(t.cc)}}function V(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-infinite-scroll",28,29),c.Ub("ionInfinite",function(e){return c.lc(t),c.Wb().loadData(e)}),c.Kb(2,"ion-infinite-scroll-content",30),c.Lb()}}function Q(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-fab",31),c.Mb(1,"ion-fab-button",32),c.Ub("click",function(){return c.lc(t),c.Wb().abrir()}),c.Kb(2,"ion-icon",33),c.Lb(),c.Lb()}}const Z=[{path:"",component:(()=>{class t{constructor(t,e,i,o,n,r){this.almacenamiento=t,this.toast=e,this.apiFactura=i,this.modalCtrl=o,this.loading=n,this.alert=r,this.facturas=[],this.car=!0,this.load=!1,this.nuevo=!1,this.mostrar=!1,this.nit="",this.direccion="",this.regimen="",this.titular="",this.iva=!1,this.valorIva=0,this.id="",this.mensaje=!0,this.desde=0,this.patron=""}ngOnInit(){setTimeout(()=>{this.mensaje=!1},7e3)}ionViewWillEnter(){this.mostrar=!1,this.consultar()}refrescando(t){this.cargarFacturas().then(()=>{t.target.complete()}).catch(()=>t.target.complete())}cargarFacturas(){return Object(s.a)(this,void 0,void 0,function*(){this.desde=0,this.load&&(this.infinite.disabled=!1);const t=yield this.almacenamiento.obtenerToken();t&&this.apiFactura.consultarFacturas(t.token,{desde:this.desde}).subscribe(t=>{t.exe?this.facturas=t.response:this.toast.toastError("No se pudo cargar las facturas, intentelo m\xe1s tarde"),this.load=!0},t=>{this.toast.toastError("No se pudo cargar las facturas, intentelo m\xe1s tarde")})})}buscar(t){return Object(s.a)(this,void 0,void 0,function*(){if(""!==t.detail.value){this.desde=0,this.infinite.disabled=!1,this.patron=t.detail.value;const e=yield this.almacenamiento.obtenerToken();e&&this.apiFactura.consultarFacturas(e.token,{desde:this.desde,patron:this.patron}).subscribe(t=>{t.exe?(this.facturas=t.response,0===t.response.length&&(this.desde=0)):this.toast.toastError("No se pudo realizar la b\xfasqueda, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo realizar la b\xfasqueda, intentelo m\xe1s tarde")})}else this.desde=0})}loadData(t){return Object(s.a)(this,void 0,void 0,function*(){this.desde=this.desde+15;const e=yield this.almacenamiento.obtenerToken();e&&(""===this.patron?this.apiFactura.consultarFacturas(e.token,{desde:this.desde,patron:this.patron}).subscribe(e=>{e.exe?e.response.length>0?(e.response.forEach(t=>{this.facturas.push(t)}),t.target.complete()):(t.target.disabled=!0,this.desde=0):this.toast.toastError("No se pudo traer las hojas de vida, int\xe9ntelo m\xe1s tarde.")},t=>{this.toast.toastError("No se pudo traer las hojas de vida, int\xe9ntelo m\xe1s tarde.")}):this.apiFactura.consultarFacturas(e.token,{desde:this.desde,patron:this.patron}).subscribe(e=>{e.exe?e.response.length>0?(e.response.forEach(t=>{this.facturas.push(t)}),t.target.complete()):(t.target.disabled=!0,this.desde=0):this.toast.toastError("No se pudo realizar la b\xfasqueda, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo realizar la b\xfasqueda, intentelo m\xe1s tarde")}))})}consultar(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&this.apiFactura.consultarConfiguracion(t.token).subscribe(t=>{t.exe?t.response?(this.regimen=t.response.regimen,this.direccion=t.response.direccion,this.titular=t.response.titular,this.nit=t.response.nit,this.iva=t.response.iva,this.valorIva=t.response.valorIva,this.id=t.response._id,this.mostrar=!0,this.cargarFacturas()):this.nuevo=!0:this.toast.toastError("No se pudo consultar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")},t=>{this.toast.toastError("No se pudo consultar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")})})}abrir(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:D,componentProps:{data:{iva:this.iva,regimen:this.regimen,direccion:this.direccion,nit:this.nit,valorIva:this.valorIva,id:this.id}}});yield t.present();const e=yield t.onWillDismiss();e&&e.data&&e.data.exe&&this.cargarFacturas()})}editar(t){return Object(s.a)(this,void 0,void 0,function*(){t.iva=this.iva;const e=yield this.modalCtrl.create({component:D,componentProps:{info:t}});yield e.present();const i=yield e.onWillDismiss();i&&i.data&&i.data.exe&&this.cargarFacturas()})}alerta(t){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.alert.create({header:"Correo electr\xf3nico",message:"Escriba el correo electr\xf3nico donde se enviar\xe1 el documento pdf de la factura",inputs:[{type:"text",name:"correo"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Enviar",handler:e=>{this.pdf(e.correo,t)}}]});yield e.present()})}pdf(t,e){return Object(s.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();this.loading.cargaProcesos("Creando Factura y enviandola al correo"),i&&this.apiFactura.enviarrFacturas(i.token,{id:e,correo:t}).subscribe(t=>{t.exe?this.toast.toastExitoso("Factura generada y enviada al correo electr\xf3nico del cliente"):this.toast.toastError("No se pudo enviar la factura, intentelo mpas tarde"),this.loading.finalizarCargado()},t=>{this.loading.finalizarCargado(),this.toast.toastError("No se pudo enviar la factura, intentelo mpas tarde")})})}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(d.a),c.Jb(b.a),c.Jb(I.a),c.Jb(r.pb),c.Jb(h.a),c.Jb(r.b))},t.\u0275cmp=c.Db({type:t,selectors:[["app-factura-nueva"]],viewQuery:function(t,e){if(1&t&&c.vc(S,1),2&t){let t;c.kc(t=c.Vb())&&(e.infinite=t.first)}},decls:17,vars:6,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","start","icon","chevron-back-outline","defaultHref","/central/menu/factura"],[4,"ngIf"],["slot","fixed","pullFactor","0.5","pullMin","50","pullMax","150",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles"],["debounce","300","mode","ios","placeholder","Buscar Facturas",3,"ionChange"],[1,"divider"],["class","cen","style","text-align: center;",4,"ngIf"],["class","cen",4,"ngIf"],[4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"ion-text-wrap"],[1,"cen",2,"text-align","center"],["name","crescent","color","oscuro"],[1,"tituloGrande"],[1,"cen"],["src","/assets/NuevaFactura.png","width","100px","alt",""],["mode","ios","shape","round","color","success",3,"click"],[1,"fl"],[1,"caja"],[1,"flex"],["side","end"],["color","medium",3,"click"],["name","document-text-outline","slot","icon-only"],["color","warning",3,"click"],["name","pencil-outline","slot","icon-only"],["threshold","100px",3,"ionInfinite"],["inifinito",""],["loadingSpinner","bubbles","loadingText","Cargando Facturas..."],["vertical","bottom","horizontal","end","slot","fixed"],["color","oscuro",3,"click"],["name","add-outline"]],template:function(t,e){1&t&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar",1),c.Kb(2,"ion-back-button",2),c.Mb(3,"ion-title"),c.rc(4,"Crear Factura"),c.Lb(),c.Lb(),c.Lb(),c.Mb(5,"ion-content"),c.qc(6,G,4,0,"ion-list",3),c.Mb(7,"ion-refresher",4),c.Ub("ionRefresh",function(t){return e.refrescando(t)}),c.Kb(8,"ion-refresher-content",5),c.Lb(),c.Mb(9,"ion-searchbar",6),c.Ub("ionChange",function(t){return e.buscar(t)}),c.Lb(),c.Kb(10,"div",7),c.qc(11,R,5,0,"div",8),c.qc(12,X,6,0,"div",9),c.Mb(13,"ion-list"),c.qc(14,H,27,7,"ion-item-sliding",10),c.Lb(),c.qc(15,V,3,0,"ion-infinite-scroll",11),c.qc(16,Q,3,0,"ion-fab",12),c.Lb()),2&t&&(c.zb(6),c.dc("ngIf",e.mensaje),c.zb(5),c.dc("ngIf",!e.load),c.zb(1),c.dc("ngIf",0===e.facturas.length&&e.load),c.zb(2),c.dc("ngForOf",e.facturas),c.zb(1),c.dc("ngIf",e.load),c.zb(1),c.dc("ngIf",e.facturas.length>0))},directives:[r.z,r.kb,r.g,r.h,r.ib,r.t,o.j,r.Q,r.R,r.U,r.xb,r.L,o.i,r.G,r.K,r.cb,r.j,r.J,r.F,r.I,r.H,r.A,r.C,r.D,r.v,r.w],pipes:[m.a],styles:[".cen[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.tituloGrande[_ngcontent-%COMP%]{width:300px;text-align:center}.fl[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:18px!important;color:red;font-weight:700;border-bottom:1px solid rgba(0,0,0,.1);padding-bottom:5px}.fl[_ngcontent-%COMP%]   .caja[_ngcontent-%COMP%]{text-align:center;width:60%;max-width:80%;background-color:#fcf3aa;padding:3px}.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})()}];let B=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[a.i.forChild(Z)],a.i]}),t})();const Y=[{path:"",component:D}];let tt=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[a.i.forChild(Y)],a.i]}),t})();var et=i("iTUp");let it=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[o.b,n.e,r.lb,tt,et.a]]}),t})(),ot=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[o.b,n.e,r.lb,B,it,et.a]]}),t})()},fqim:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i("fXoL");let n=(()=>{class t{transform(t,e){return 0===t?0:new Intl.NumberFormat(e,{minimumFractionDigits:1}).format(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Ib({name:"decimales",type:t,pure:!0}),t})()},r3ab:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var o=i("mrSG"),n=i("fXoL"),r=i("TEn/");let a=(()=>{class t{constructor(t){this.loadingCtrl=t}cargaProcesos(t){return Object(o.a)(this,void 0,void 0,function*(){return this.loading=yield this.loadingCtrl.create({message:t}),this.loading.present()})}finalizarCargado(){this.loading.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(r.nb))},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);