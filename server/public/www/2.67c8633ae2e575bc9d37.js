(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"5yQV":function(t,o,e){"use strict";e.d(o,"a",function(){return l});var i=e("AytR"),n=e("tk/3"),r=e("coGc"),a=e("lJxs"),c=e("IzEk"),s=e("MtjB"),d=e("PqYM"),b=e("fXoL");let l=(()=>{class t{constructor(t){this.http=t}hanflerError(t){return t.pipe(Object(r.a)(()=>Object(d.a)(3e3)),Object(a.a)(t=>{if(console.log("Entramos a intentos"),t instanceof ErrorEvent)throw new Error("Error de Red");if(404===t.status)throw new Error(" P\xe1gina no encontrada")}),Object(c.a)(3))}crearInventario(t,o){const e={headers:new n.c({"x-token":t})};return this.http.post(`${i.a}/ivt/tipo/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}actualizarInventario(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/cierre/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerInventarios(t){const o={headers:new n.c({"x-token":t})};return this.http.get(`${i.a}/ivt/tipo/`,o).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerInventario(t,o){const e={headers:new n.c({"x-token":t,"x-id":o})};return this.http.get(`${i.a}/ivt/tipo/uno`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarAcceso(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/tipo/accesos/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}BuscarUsuarios(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/empleados/buscar/`,{patron:o},e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearEmpleado(t,o){const e={headers:new n.c({"x-token":t})};return this.http.post(`${i.a}/empleados/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarEmpleado(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/empleados/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerEmpleados(t){const o={headers:new n.c({"x-token":t})};return this.http.get(`${i.a}/empleados/`,o).pipe(Object(s.a)(t=>this.hanflerError(t)))}eliminarEmpleados(t,o){const e={headers:new n.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/empleados/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearProveedor(t,o){const e={headers:new n.c({"x-token":t})};return this.http.post(`${i.a}/ivt/proveedores/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarProveedor(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/proveedores/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}eliminarProveedor(t,o){const e={headers:new n.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/ivt/proveedores/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProveedor(t,o){const e={headers:new n.c({"x-token":t,"x-ivt":o})};return this.http.get(`${i.a}/ivt/proveedores/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearCategoria(t,o){const e={headers:new n.c({"x-token":t})};return this.http.post(`${i.a}/ivt/categorias/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarCategoria(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/categorias/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}eliminarCategoria(t,o){const e={headers:new n.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/ivt/categorias/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerCategoria(t,o){const e={headers:new n.c({"x-token":t,"x-ivt":o})};return this.http.get(`${i.a}/ivt/categorias/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearProducto(t,o){const e={headers:new n.c({"x-token":t})};return this.http.post(`${i.a}/ivt/productos/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarProducto(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}eliminarProducto(t,o){const e={headers:new n.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/ivt/productos/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProducto(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/filtro/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProductoEstadistica(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/filtro/estadistica/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProductosPorInventario(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscarivt/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}buscarProducto(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscar`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}buscarProductoEntrada(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscar/entrada`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearEntrada(t,o){const e={headers:new n.c({"x-token":t})};return this.http.post(`${i.a}/ivt/entradas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerEntrada(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}filtrarEntradas(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/buscar/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}filtrarEntradasPatron(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/buscar/patron/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearSalida(t,o){const e={headers:new n.c({"x-token":t})};return this.http.post(`${i.a}/ivt/salidas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerSalida(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}filtrarSalidas(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/buscar/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}filtrarSalidasPatron(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/buscar/patron/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}CargarInventarios(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/tipo/almacen/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}CierresInventario(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/cierre/buscar/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}MovCantidades(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/mov/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}MovCantidades2(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/mov/salidas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerMovmientos(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/movimientos/filtro/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerAgotados(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/agotados/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProximos(t,o){const e={headers:new n.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/proximos/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}}return t.\u0275fac=function(o){return new(o||t)(b.Sb(n.a))},t.\u0275prov=b.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},SQQW:function(t,o,e){"use strict";e.d(o,"a",function(){return nt});var i=e("mrSG"),n=e("fXoL"),r=e("TEn/"),a=e("5yQV"),c=e("fsfq"),s=e("fmoy"),d=e("7JkF"),b=e("ofXK"),l=e("3Pt+"),p=e("fqim");const h=["slide"];function u(t,o){1&t&&(n.Ob(0,"div",11),n.Mb(1,"ion-spinner",12),n.wc(2," Creando Inventario... "),n.Nb())}function v(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-list"),n.Ob(1,"ion-item-divider",6),n.wc(2," Nombre del Inventario "),n.Nb(),n.Ob(3,"ion-item"),n.Ob(4,"ion-input",7),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().nombre=o}),n.Nb(),n.Nb(),n.Ob(5,"div",8),n.Ob(6,"ion-button",9),n.Wb("click",function(){return n.pc(t),n.Yb().crear()}),n.wc(7,"CREAR"),n.Nb(),n.Nb(),n.vc(8,u,3,0,"div",10),n.Nb()}if(2&t){const t=n.Yb();n.Ab(4),n.fc("ngModel",t.nombre),n.Ab(4),n.fc("ngIf",t.load)}}function g(t,o){1&t&&(n.Ob(0,"div",11),n.Mb(1,"ion-spinner",17),n.wc(2," Creando Proveedor... "),n.Nb())}function f(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-list"),n.Ob(1,"ion-item-divider",6),n.wc(2," Nombre del Proveedor "),n.Nb(),n.Ob(3,"ion-item"),n.Ob(4,"ion-input",13),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().nombrep=o}),n.Nb(),n.Nb(),n.Ob(5,"ion-item-divider",6),n.wc(6," Contacto del Proveedor "),n.Nb(),n.Ob(7,"ion-item"),n.Ob(8,"ion-input",14),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().tel1=o}),n.Nb(),n.Nb(),n.Ob(9,"ion-item"),n.Ob(10,"ion-input",15),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().tel2=o}),n.Nb(),n.Nb(),n.Ob(11,"ion-item"),n.Ob(12,"ion-input",16),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().correo=o}),n.Nb(),n.Nb(),n.Ob(13,"div",8),n.Ob(14,"ion-button",9),n.Wb("click",function(){return n.pc(t),n.Yb().crearProveedor()}),n.wc(15,"CREAR"),n.Nb(),n.Nb(),n.vc(16,g,3,0,"div",10),n.Nb()}if(2&t){const t=n.Yb();n.Ab(4),n.fc("ngModel",t.nombrep),n.Ab(4),n.fc("ngModel",t.tel1),n.Ab(2),n.fc("ngModel",t.tel2),n.Ab(2),n.fc("ngModel",t.correo),n.Ab(4),n.fc("ngIf",t.load)}}function m(t,o){1&t&&(n.Ob(0,"div",11),n.Mb(1,"ion-spinner",17),n.wc(2," Creando Categor\xeda... "),n.Nb())}function O(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-list"),n.Ob(1,"ion-item-divider",6),n.wc(2," Nombre de la Categor\xeda "),n.Nb(),n.Ob(3,"ion-item"),n.Ob(4,"ion-input",18),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().nombrec=o}),n.Nb(),n.Nb(),n.Ob(5,"div",8),n.Ob(6,"ion-button",9),n.Wb("click",function(){return n.pc(t),n.Yb().crearCategoria()}),n.wc(7,"CREAR"),n.Nb(),n.Nb(),n.vc(8,m,3,0,"div",10),n.Nb()}if(2&t){const t=n.Yb();n.Ab(4),n.fc("ngModel",t.nombrec),n.Ab(4),n.fc("ngIf",t.load)}}function N(t,o){if(1&t&&(n.Ob(0,"ion-select-option",25),n.wc(1),n.Nb()),2&t){const t=o.$implicit;n.gc("value",t.nombre),n.Ab(1),n.xc(t.nombre)}}function x(t,o){if(1&t&&(n.Ob(0,"ion-select-option",25),n.wc(1),n.Nb()),2&t){const t=o.$implicit;n.gc("value",t.nombre),n.Ab(1),n.xc(t.nombre)}}function E(t,o){1&t&&(n.Ob(0,"div",11),n.Mb(1,"ion-spinner",17),n.wc(2," Creando nuevo Producto... "),n.Nb())}function w(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-list"),n.Ob(1,"ion-item-divider",6),n.Ob(2,"ion-label"),n.wc(3,"INFORMACI\xd3N"),n.Nb(),n.Nb(),n.Ob(4,"ion-item"),n.Ob(5,"ion-input",19),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().nombrepd=o}),n.Nb(),n.Nb(),n.Ob(6,"ion-item"),n.Ob(7,"ion-input",20),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().codigopd=o}),n.Nb(),n.Nb(),n.Ob(8,"ion-item-divider",6),n.Ob(9,"ion-label"),n.wc(10,"CATEGOR\xcdA"),n.Nb(),n.Nb(),n.Ob(11,"ion-item"),n.Ob(12,"ion-label"),n.wc(13,"Seleccione la categor\xeda"),n.Nb(),n.Ob(14,"ion-select",21),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().cambioCategoria(o)}),n.vc(15,N,2,2,"ion-select-option",22),n.Nb(),n.Nb(),n.Ob(16,"ion-item-divider",6),n.Ob(17,"ion-label"),n.wc(18,"PROVEEDOR"),n.Nb(),n.Nb(),n.Ob(19,"ion-item"),n.Ob(20,"ion-label"),n.wc(21,"Seleccione la proveedor"),n.Nb(),n.Ob(22,"ion-select",21),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().cambioProveedor(o)}),n.vc(23,x,2,2,"ion-select-option",22),n.Nb(),n.Nb(),n.Ob(24,"ion-item-divider",6),n.Ob(25,"ion-label",23),n.wc(26,"LIMITE DE EXISTENCIA "),n.Mb(27,"br"),n.wc(28," Escribe la cantidad en la cual se va a notificar que el producto esta pr\xf3ximo a agotarse."),n.Nb(),n.Nb(),n.Ob(29,"ion-item"),n.Ob(30,"ion-input",24),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().limite=o}),n.Nb(),n.Nb(),n.Ob(31,"div",8),n.Ob(32,"ion-button",9),n.Wb("click",function(){return n.pc(t),n.Yb().crearProducto()}),n.wc(33,"CREAR"),n.Nb(),n.Nb(),n.vc(34,E,3,0,"div",10),n.Nb()}if(2&t){const t=n.Yb();n.Ab(5),n.fc("ngModel",t.nombrepd),n.Ab(2),n.fc("ngModel",t.codigopd),n.Ab(8),n.fc("ngForOf",t.categorias),n.Ab(8),n.fc("ngForOf",t.proveedores),n.Ab(7),n.fc("ngModel",t.limite),n.Ab(4),n.fc("ngIf",t.load)}}function C(t,o){if(1&t&&(n.Ob(0,"ion-select-option",25),n.wc(1),n.Nb()),2&t){const t=o.$implicit;n.gc("value",t.nombre),n.Ab(1),n.xc(t.nombre)}}function A(t,o){if(1&t&&(n.Ob(0,"ion-select-option",25),n.wc(1),n.Nb()),2&t){const t=o.$implicit;n.gc("value",t.nombre),n.Ab(1),n.xc(t.nombre)}}function P(t,o){1&t&&(n.Ob(0,"div",11),n.Mb(1,"ion-spinner",17),n.wc(2," Editando nuevo Producto... "),n.Nb())}function M(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-list"),n.Ob(1,"ion-item-divider",6),n.Ob(2,"ion-label"),n.wc(3,"INFORMACI\xd3N"),n.Nb(),n.Nb(),n.Ob(4,"ion-item"),n.Ob(5,"ion-input",19),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().nombrepd=o}),n.Nb(),n.Nb(),n.Ob(6,"ion-item"),n.Ob(7,"ion-input",20),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().codigopd=o}),n.Nb(),n.Nb(),n.Ob(8,"ion-item-divider",6),n.Ob(9,"ion-label"),n.wc(10,"CATEGOR\xcdA"),n.Nb(),n.Nb(),n.Ob(11,"ion-item"),n.Ob(12,"ion-label"),n.wc(13,"Seleccione la categor\xeda"),n.Nb(),n.Ob(14,"ion-select",26),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().cambioCategoria(o)}),n.vc(15,C,2,2,"ion-select-option",22),n.Nb(),n.Nb(),n.Ob(16,"ion-item-divider",6),n.Ob(17,"ion-label"),n.wc(18,"PROVEEDOR"),n.Nb(),n.Nb(),n.Ob(19,"ion-item"),n.Ob(20,"ion-label"),n.wc(21,"Seleccione la proveedor"),n.Nb(),n.Ob(22,"ion-select",27),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().cambioProveedor(o)}),n.vc(23,A,2,2,"ion-select-option",22),n.Nb(),n.Nb(),n.Ob(24,"ion-item-divider",6),n.Ob(25,"ion-label"),n.wc(26,"LIMITE DE EXISTENCIA"),n.Nb(),n.Mb(27,"br"),n.wc(28," Escribe la cantidad en la cual se va a notificar que el producto esta pr\xf3ximo a agotarse. "),n.Nb(),n.Ob(29,"ion-item"),n.Ob(30,"ion-input",24),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().limite=o}),n.Nb(),n.Nb(),n.Ob(31,"div",8),n.Ob(32,"ion-button",9),n.Wb("click",function(){return n.pc(t),n.Yb().editarProducto()}),n.wc(33,"EDITAR PRODUCTO"),n.Nb(),n.Nb(),n.vc(34,P,3,0,"div",10),n.Nb()}if(2&t){const t=n.Yb();n.Ab(5),n.fc("ngModel",t.nombrepd),n.Ab(2),n.fc("ngModel",t.codigopd),n.Ab(7),n.fc("value",t.selectCat),n.Ab(1),n.fc("ngForOf",t.categorias),n.Ab(7),n.fc("value",t.selectPro),n.Ab(1),n.fc("ngForOf",t.proveedores),n.Ab(7),n.fc("ngModel",t.limite),n.Ab(4),n.fc("ngIf",t.load)}}function k(t,o){1&t&&(n.Ob(0,"ion-item"),n.Mb(1,"ion-skeleton-text",43),n.Ob(2,"ion-label"),n.Mb(3,"ion-skeleton-text",44),n.Mb(4,"ion-skeleton-text",45),n.Nb(),n.Nb())}const j=function(){return[1,1,1,1,1]};function S(t,o){1&t&&(n.Ob(0,"ion-list"),n.vc(1,k,5,0,"ion-item",42),n.Nb()),2&t&&(n.Ab(1),n.fc("ngForOf",n.kc(1,j)))}function I(t,o){if(1&t&&(n.Ob(0,"div"),n.Ob(1,"strong"),n.wc(2,"C\xf3digo: "),n.Nb(),n.wc(3),n.Nb()),2&t){const t=n.Yb().$implicit;n.Ab(3),n.yc(" ",t.codigo,"")}}function $(t,o){1&t&&(n.Ob(0,"ion-chip",1),n.wc(1,"AL DIA"),n.Nb())}function y(t,o){1&t&&(n.Ob(0,"ion-chip",53),n.wc(1,"SE EST\xc1 AGOTANDO"),n.Nb())}function Y(t,o){1&t&&(n.Ob(0,"ion-chip",54),n.wc(1,"PRODUCTO AGOTADO"),n.Nb())}function T(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-item",3),n.Wb("click",function(){n.pc(t);const e=o.$implicit,i=o.index;return n.Yb(2).validarProducto(e,i)}),n.Ob(1,"ion-avatar",46),n.Mb(2,"img",47),n.Nb(),n.Ob(3,"ion-label"),n.Ob(4,"div"),n.wc(5),n.Nb(),n.vc(6,I,4,1,"div",5),n.Ob(7,"div"),n.Ob(8,"strong"),n.wc(9,"Categoria: "),n.Nb(),n.Ob(10,"strong",48),n.wc(11),n.Nb(),n.Nb(),n.Ob(12,"div",39),n.Ob(13,"strong"),n.wc(14,"Existencia: "),n.Ob(15,"span",49),n.wc(16),n.Nb(),n.Nb(),n.vc(17,$,2,0,"ion-chip",50),n.vc(18,y,2,0,"ion-chip",51),n.vc(19,Y,2,0,"ion-chip",52),n.Nb(),n.Nb(),n.Nb()}if(2&t){const t=o.$implicit;n.Ab(5),n.xc(t.nombre),n.Ab(1),n.fc("ngIf",t.codigo),n.Ab(5),n.xc(t.categoria),n.Ab(5),n.xc(t.existencia),n.Ab(1),n.fc("ngIf",t.existencia>t.limote),n.Ab(1),n.fc("ngIf",t.existencia<=t.limite&&t.existencia>0),n.Ab(1),n.fc("ngIf",0===t.existencia)}}function W(t,o){if(1&t&&(n.Ob(0,"div",11),n.Ob(1,"h3",55),n.wc(2,"No existen productos relacionados con: "),n.Ob(3,"strong"),n.wc(4),n.Nb(),n.Nb(),n.Nb()),2&t){const t=n.Yb(2);n.Ab(4),n.xc(t.texto)}}function _(t,o){if(1&t&&(n.Ob(0,"div",56),n.wc(1),n.Zb(2,"decimales"),n.Nb()),2&t){const t=n.Yb(2);n.Ab(1),n.yc(" $",n.bc(2,1,t.productoEntrada.total,"es-CO")," ")}}function D(t,o){if(1&t&&(n.Ob(0,"ion-select-option",25),n.wc(1),n.Nb()),2&t){const t=o.$implicit;n.gc("value",t.nombre),n.Ab(1),n.xc(t.nombre)}}function R(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-slides",null,28),n.Ob(2,"ion-slide"),n.Ob(3,"ion-searchbar",29),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().buscar(o)}),n.Nb(),n.Mb(4,"div",30),n.vc(5,S,2,2,"ion-list",5),n.Ob(6,"ion-list"),n.vc(7,T,20,7,"ion-item",31),n.Nb(),n.vc(8,W,5,1,"div",10),n.Nb(),n.Ob(9,"ion-slide"),n.Ob(10,"ion-card",32),n.Ob(11,"ion-card-content"),n.Ob(12,"h3",33),n.wc(13),n.Nb(),n.Ob(14,"ion-list"),n.Ob(15,"ion-item-divider",34),n.Ob(16,"ion-label"),n.wc(17,"Informaci\xf3n del producto"),n.Nb(),n.Nb(),n.Ob(18,"ion-item"),n.Ob(19,"ion-input",35),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().entradaCambioProd(o,"precio")})("ngModelChange",function(o){return n.pc(t),n.Yb().productoEntrada.precio=o}),n.Nb(),n.Nb(),n.Ob(20,"ion-item"),n.Ob(21,"ion-input",36),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().entradaCambioProd(o,"canti")})("ngModelChange",function(o){return n.pc(t),n.Yb().productoEntrada.cantidad=o}),n.Nb(),n.Nb(),n.vc(22,_,3,4,"div",37),n.Ob(23,"ion-item-divider",34),n.Ob(24,"ion-label"),n.wc(25,"Origen"),n.Nb(),n.Nb(),n.Ob(26,"ion-item"),n.Ob(27,"ion-label"),n.wc(28,"Seleccione la proveedor"),n.Nb(),n.Ob(29,"ion-select",27),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().cambioProveedor(o)}),n.vc(30,D,2,2,"ion-select-option",22),n.Nb(),n.Nb(),n.Ob(31,"ion-item"),n.Ob(32,"ion-input",38),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb().productoEntrada.origenextra=o}),n.Nb(),n.Nb(),n.Nb(),n.Ob(33,"div",39),n.Ob(34,"ion-button",40),n.Wb("click",function(){return n.pc(t),n.Yb().cancelar()}),n.wc(35,"CANCELAR"),n.Nb(),n.Ob(36,"ion-button",41),n.Wb("click",function(){return n.pc(t),n.Yb().guardarEntrada()}),n.wc(37,"GUARDAR"),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb()}if(2&t){const t=n.Yb();n.Ab(5),n.fc("ngIf",t.load),n.Ab(2),n.fc("ngForOf",t.productos),n.Ab(1),n.fc("ngIf",t.mostrar),n.Ab(5),n.xc(t.productoHistoria.nombre),n.Ab(6),n.fc("ngModel",t.productoEntrada.precio),n.Ab(2),n.fc("ngModel",t.productoEntrada.cantidad),n.Ab(1),n.fc("ngIf",t.productoEntrada.total>0&&t.productoEntrada.total),n.Ab(7),n.fc("value",t.selectPro),n.Ab(1),n.fc("ngForOf",t.proveedores),n.Ab(2),n.fc("ngModel",t.productoEntrada.origenextra)}}function F(t,o){1&t&&(n.Ob(0,"ion-item"),n.Mb(1,"ion-skeleton-text",43),n.Ob(2,"ion-label"),n.Mb(3,"ion-skeleton-text",44),n.Mb(4,"ion-skeleton-text",45),n.Nb(),n.Nb())}function H(t,o){1&t&&(n.Ob(0,"ion-list"),n.vc(1,F,5,0,"ion-item",42),n.Nb()),2&t&&(n.Ab(1),n.fc("ngForOf",n.kc(1,j)))}function G(t,o){if(1&t&&(n.Ob(0,"div"),n.Ob(1,"strong"),n.wc(2,"C\xf3digo: "),n.Nb(),n.wc(3),n.Nb()),2&t){const t=n.Yb().$implicit;n.Ab(3),n.yc(" ",t.codigo,"")}}function L(t,o){1&t&&(n.Ob(0,"ion-chip",1),n.wc(1,"AL DIA"),n.Nb())}function q(t,o){1&t&&(n.Ob(0,"ion-chip",53),n.wc(1,"SE EST\xc1 AGOTANDO"),n.Nb())}function U(t,o){1&t&&(n.Ob(0,"ion-chip",54),n.wc(1,"PRODUCTO AGOTADO"),n.Nb())}function V(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-item",3),n.Wb("click",function(){n.pc(t);const e=o.$implicit,i=o.index;return n.Yb(2).validarProducto(e,i)}),n.Ob(1,"ion-avatar",46),n.Mb(2,"img",47),n.Nb(),n.Ob(3,"ion-label"),n.Ob(4,"div"),n.wc(5),n.Nb(),n.vc(6,G,4,1,"div",5),n.Ob(7,"div"),n.Ob(8,"strong"),n.wc(9,"Categoria: "),n.Nb(),n.Ob(10,"strong",48),n.wc(11),n.Nb(),n.Nb(),n.Ob(12,"div",39),n.Ob(13,"strong"),n.wc(14,"Existencia: "),n.Ob(15,"span",49),n.wc(16),n.Nb(),n.Nb(),n.vc(17,L,2,0,"ion-chip",50),n.vc(18,q,2,0,"ion-chip",51),n.vc(19,U,2,0,"ion-chip",52),n.Nb(),n.Nb(),n.Nb()}if(2&t){const t=o.$implicit;n.Ab(5),n.xc(t.nombre),n.Ab(1),n.fc("ngIf",t.codigo),n.Ab(5),n.xc(t.categoria),n.Ab(5),n.xc(t.existencia),n.Ab(1),n.fc("ngIf",t.existencia>t.limote),n.Ab(1),n.fc("ngIf",t.existencia<=t.limite&&t.existencia>0),n.Ab(1),n.fc("ngIf",0===t.existencia)}}function X(t,o){if(1&t&&(n.Ob(0,"div",11),n.Ob(1,"h3",55),n.wc(2,"No existen productos relacionados con: "),n.Ob(3,"strong"),n.wc(4),n.Nb(),n.Nb(),n.Nb()),2&t){const t=n.Yb(2);n.Ab(4),n.xc(t.texto)}}function z(t,o){if(1&t&&(n.Ob(0,"div",61),n.wc(1),n.Zb(2,"decimales"),n.Nb()),2&t){const t=n.Yb(2);n.Ab(1),n.yc(" $",n.bc(2,1,t.productoSalida.total,"es-CO")," ")}}function Q(t,o){if(1&t&&(n.Ob(0,"ion-select-option",25),n.wc(1),n.Nb()),2&t){const t=o.$implicit;n.gc("value",t._id),n.Ab(1),n.xc(t.name)}}function B(t,o){if(1&t&&(n.Ob(0,"div"),n.Ob(1,"strong"),n.wc(2,"C\xf3digo: "),n.Nb(),n.wc(3),n.Nb()),2&t){const t=n.Yb().$implicit;n.Ab(3),n.yc(" ",t.codigo,"")}}function J(t,o){1&t&&(n.Ob(0,"ion-chip",1),n.wc(1,"AL DIA"),n.Nb())}function K(t,o){1&t&&(n.Ob(0,"ion-chip",53),n.wc(1,"SE EST\xc1 AGOTANDO"),n.Nb())}function Z(t,o){1&t&&(n.Ob(0,"ion-chip",54),n.wc(1,"PRODUCTO AGOTADO"),n.Nb())}function tt(t,o){if(1&t&&(n.Ob(0,"ion-item"),n.Ob(1,"ion-avatar",46),n.Mb(2,"img",47),n.Nb(),n.Ob(3,"ion-label"),n.Ob(4,"div"),n.wc(5),n.Nb(),n.vc(6,B,4,1,"div",5),n.Ob(7,"div"),n.Ob(8,"strong"),n.wc(9,"Categoria: "),n.Nb(),n.Ob(10,"strong",48),n.wc(11),n.Nb(),n.Nb(),n.Ob(12,"div",39),n.Ob(13,"strong"),n.wc(14,"Existencia: "),n.Ob(15,"span",49),n.wc(16),n.Nb(),n.Nb(),n.vc(17,J,2,0,"ion-chip",50),n.vc(18,K,2,0,"ion-chip",51),n.vc(19,Z,2,0,"ion-chip",52),n.Nb(),n.Nb(),n.Mb(20,"ion-radio",25),n.Nb()),2&t){const t=o.$implicit;n.Ab(5),n.xc(t.nombre),n.Ab(1),n.fc("ngIf",t.codigo),n.Ab(5),n.xc(t.categoria),n.Ab(5),n.xc(t.existencia),n.Ab(1),n.fc("ngIf",t.existencia>t.limote),n.Ab(1),n.fc("ngIf",t.existencia<=t.limite&&t.existencia>0),n.Ab(1),n.fc("ngIf",0===t.existencia),n.Ab(1),n.gc("value",t._id)}}function ot(t,o){if(1&t){const t=n.Pb();n.Ob(0,"div"),n.Ob(1,"ion-item-divider",34),n.Ob(2,"ion-label",23),n.wc(3,"\xbf A que producto se le va a realizar "),n.Nb(),n.Mb(4,"br"),n.Nb(),n.Ob(5,"ion-searchbar",62),n.Wb("ionChange",function(o){return n.pc(t),n.Yb(2).productoHijo(o)}),n.Nb(),n.Ob(6,"ion-radio-group",21),n.Wb("ionChange",function(o){return n.pc(t),n.Yb(2).prodDestino(o)}),n.vc(7,tt,21,8,"ion-item",42),n.Nb(),n.Nb()}if(2&t){const t=n.Yb(2);n.Ab(5),n.fc("placeholder","Buscar producto de "+t.selectPro),n.Ab(2),n.fc("ngForOf",t.productosHijos)}}function et(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-item"),n.Ob(1,"ion-input",63),n.Wb("ngModelChange",function(o){return n.pc(t),n.Yb(2).productoSalida.destino=o}),n.Nb(),n.Nb()}if(2&t){const t=n.Yb(2);n.Ab(1),n.fc("ngModel",t.productoSalida.destino)}}function it(t,o){if(1&t){const t=n.Pb();n.Ob(0,"ion-slides",null,28),n.Ob(2,"ion-slide"),n.Ob(3,"ion-searchbar",29),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().buscar(o)}),n.Nb(),n.Mb(4,"div",30),n.vc(5,H,2,2,"ion-list",5),n.Ob(6,"ion-list"),n.vc(7,V,20,7,"ion-item",31),n.Nb(),n.vc(8,X,5,1,"div",10),n.Nb(),n.Ob(9,"ion-slide"),n.Ob(10,"ion-card",32),n.Ob(11,"ion-card-content"),n.Ob(12,"h3",33),n.wc(13),n.Nb(),n.Ob(14,"ion-list"),n.Ob(15,"ion-item-divider",34),n.Ob(16,"ion-label"),n.wc(17,"Informaci\xf3n del producto"),n.Nb(),n.Nb(),n.Mb(18,"br"),n.Ob(19,"ion-item-divider",34),n.Ob(20,"ion-label"),n.wc(21,"Precio de compra del producto"),n.Nb(),n.Nb(),n.Ob(22,"ion-item",57),n.Ob(23,"ion-label"),n.wc(24),n.Nb(),n.Nb(),n.Ob(25,"ion-item-divider",34),n.Ob(26,"ion-label"),n.wc(27,"Precio de venta del producto"),n.Nb(),n.Nb(),n.Ob(28,"ion-item"),n.Ob(29,"ion-input",58),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().salidaCambioProd(o,"precio")})("ngModelChange",function(o){return n.pc(t),n.Yb().productoSalida.precio=o}),n.Nb(),n.Nb(),n.Ob(30,"ion-item"),n.Ob(31,"ion-input",59),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().salidaCambioProd(o,"canti")})("ngModelChange",function(o){return n.pc(t),n.Yb().productoSalida.cantidad=o}),n.Nb(),n.Nb(),n.vc(32,z,3,4,"div",60),n.Ob(33,"ion-item-divider",34),n.Ob(34,"ion-label"),n.wc(35,"Destino de Salida"),n.Nb(),n.Mb(36,"br"),n.Nb(),n.Ob(37,"ion-item"),n.Ob(38,"ion-label"),n.wc(39,"\xbfMover para otro Inventario?"),n.Nb(),n.Ob(40,"ion-select",27),n.Wb("ionChange",function(o){return n.pc(t),n.Yb().cambioInventario(o)}),n.vc(41,Q,2,2,"ion-select-option",22),n.Nb(),n.Nb(),n.vc(42,ot,8,2,"div",5),n.vc(43,et,2,1,"ion-item",5),n.Nb(),n.Ob(44,"div",39),n.Ob(45,"ion-button",40),n.Wb("click",function(){return n.pc(t),n.Yb().cancelar()}),n.wc(46,"CANCELAR"),n.Nb(),n.Ob(47,"ion-button",41),n.Wb("click",function(){return n.pc(t),n.Yb().guardarSalida()}),n.wc(48,"GUARDAR"),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb()}if(2&t){const t=n.Yb();n.Ab(5),n.fc("ngIf",t.load),n.Ab(2),n.fc("ngForOf",t.productos),n.Ab(1),n.fc("ngIf",t.mostrar),n.Ab(5),n.xc(t.productoHistoria.nombre),n.Ab(11),n.xc(t.productoSalida.costo),n.Ab(5),n.fc("ngModel",t.productoSalida.precio),n.Ab(2),n.fc("ngModel",t.productoSalida.cantidad),n.Ab(1),n.fc("ngIf",t.productoSalida.total>0&&t.productoSalida.total),n.Ab(8),n.fc("value",t.selectPro),n.Ab(1),n.fc("ngForOf",t.inventarios),n.Ab(1),n.fc("ngIf",t.ivtPadre),n.Ab(1),n.fc("ngIf",!t.ivtPadre)}}let nt=(()=>{class t{constructor(t,o,e,i,n){this.modalCtrl=t,this.ivtApi=o,this.almacenamiento=e,this.toast=i,this.socket=n,this.color="",this.vista="",this.titulo="",this.ivt={simple:!1,avanzado:!1},this.ivtTipo="",this.nombre="Mi inventario",this.nombrep="",this.tel1="",this.tel2="",this.correo="",this.nombrec="",this.load=!1,this.categorias=[],this.proveedores=[],this.nombrepd="",this.codigopd="",this.limite=0,this.selectCat="",this.selectPro="",this.productos=[],this.texto="",this.mostrar=!1,this.productoHistoria={},this.productoEntrada={producto:"",cantidad:void 0,precio:void 0,origen:"",origenextra:"",total:0,ivt:"",mensaje:"",nombre:"",codigo:""},this.productoSalida={producto:"",cantidad:void 0,precio:void 0,destino:"",destinoivt:"",prodDestino:"",total:0,ivt:"",mensaje:"",nombre:"",codigo:"",mensaje2:"",creador:"",producto2:"",nombre2:"",codigo2:"",costo:0},this.ivtPadre=!1,this.inventarios=[],this.productosHijos=[],this.ivtSelect=""}ngOnInit(){}ionViewDidEnter(){this.entrada()}entrada(){return Object(i.a)(this,void 0,void 0,function*(){"crear"===this.tipo?(this.vista="crear",this.titulo="Creando Inventario",this.color="barra"):"proveedores"===this.tipo?(this.vista="proveedores",this.titulo="Creando Proveedor"):"categorias"===this.tipo?(this.vista="categorias",this.titulo="Creando Categor\xeda"):"productos"===this.tipo?(this.vista="productos",this.titulo="Creando Producto",yield this.cargarCategorias(),yield this.cargarProveedores()):"editarproductos"===this.tipo?(this.vista="editarproductos",this.titulo="Editar Producto",this.nombrepd=this.producto.nombre,this.codigopd=this.producto.codigo,this.limite=this.producto.limite,yield this.cargarCategorias(),yield this.cargarProveedores(),this.selectCat=this.producto.categoria,this.selectPro=this.producto.proveedor):"entradas"===this.tipo?(this.vista="entradas",this.color="success",this.titulo="Registrar Nueva Entrada",this.productoEntrada.ivt=this.inventario,this.cargarProveedores(),this.cargarInventario()):"salidas"===this.tipo&&(this.vista="salidas",this.color="success",this.titulo="Registrar Nueva Salida",this.productoSalida.ivt=this.inventario,this.cargarInventarios())})}cargarInventarios(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&(this.carga=!0,this.ivtApi.CargarInventarios(t.token,{creador:this.creador}).subscribe(t=>Object(i.a)(this,void 0,void 0,function*(){t.exe?(yield this.slide.lockSwipes(!0),t.response.forEach(t=>{t._id!==this.inventario?this.inventarios.push(t):this.accesos=t.accesos})):this.toast.toastError("No se traer la lista de inventarios, intentelo m\xe1s tarde"),this.load=!1}),t=>{this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1}))})}cargarInventario(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&(this.carga=!0,this.ivtApi.leerInventario(t.token,this.inventario).subscribe(t=>Object(i.a)(this,void 0,void 0,function*(){t.exe?this.accesos=t.accesos:this.toast.toastError("No se pudo traer el inventario, intentelo m\xe1s tarde"),this.load=!1}),t=>{this.toast.toastError("No se pudo traer el inventario, intentelo m\xe1s tarde"),this.load=!1}))})}crear(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.crearInventario(t.token,{tipo:"simple",nombre:this.nombre}).subscribe(t=>{t.exe?this.toast.toastExitoso("Inventario creado!"):this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1})})}crearProveedor(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.crearProveedor(t.token,{nombre:this.nombrep,tel1:this.tel1,tel2:this.tel2,correo:this.correo,ivt:this.inventario}).subscribe(t=>{t.exe?this.toast.toastExitoso("Proveedor creado!"):this.toast.toastError("No se pudo crear el proveedor, intentelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear el proveedor, intentelo m\xe1s tarde"),this.load=!1})})}crearCategoria(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.crearCategoria(t.token,{nombre:this.nombrec,ivt:this.inventario}).subscribe(t=>{t.exe?this.toast.toastExitoso("Categor\xeda creado!"):this.toast.toastError("No se pudo crear la categor\xeda, intentelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear la categor\xeda, intentelo m\xe1s tarde"),this.load=!1})})}crearProducto(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.crearProducto(t.token,{nombre:this.nombrepd.trim(),codigo:this.codigopd.trim(),categoria:this.selectCat,proveedor:this.selectPro,inventario:this.inventario,limite:this.limite}).subscribe(t=>{t.exe?(this.toast.toastExitoso("Producto creado!"),this.modalCtrl.dismiss({exe:!0})):this.toast.toastError("No se pudo crear el producto, int\xe9ntelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear el producto, intentelo m\xe1s tarde"),this.load=!1})})}editarProducto(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.editarProducto(t.token,{nombre:this.nombrepd.trim(),codigo:this.codigopd.trim(),categoria:this.selectCat,proveedor:this.selectPro,_id:this.producto._id,limite:this.limite}).subscribe(t=>{t.exe?this.toast.toastExitoso("Producto editado!"):this.toast.toastError("No se pudo editar el producto, int\xe9ntelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo editar el producto, intentelo m\xe1s tarde"),this.load=!1})})}cambioCategoria(t){this.selectCat=t.detail.value}cambioProveedor(t){this.selectPro=t.detail.value,this.productoEntrada.origen=t.detail.value}cambioInventario(t){return Object(i.a)(this,void 0,void 0,function*(){this.productoSalida.destinoivt=t.detail.value,this.ivtSelect=t.detail.value,this.ivtPadre=!0})}cargarCategorias(){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&this.ivtApi.leerCategoria(t.token,this.inventario).subscribe(t=>{t.exe?this.categorias=t.response:this.toast.toastError("No se pudo cargar los datos, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo cargar los datos, intentelo m\xe1s tarde")})})}cargarProveedores(){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(this.carga=!0,this.ivtApi.leerProveedor(t.token,this.inventario).subscribe(t=>{t.exe?("entradas"===this.vista&&this.slide.lockSwipes(!0).then(()=>{}).catch(()=>{}),this.proveedores=t.response):this.toast.toastError("No se pudo cargar los datos, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo cargar los datos, intentelo m\xe1s tarde")}))})}buscar(t){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0,this.texto=t.detail.value;const o=yield this.almacenamiento.obtenerToken();o&&""!==this.tipo&&""!==t.detail.value?this.ivtApi.buscarProducto(o.token,{_id:this.inventario,patron:t.detail.value}).subscribe(t=>{t.exe?(this.productos=t.response,this.mostrar=0===t.response.length):this.toast.toastError("No se pudo consultar los productos, intentelo m\xe1s tarde"),this.load=!1},t=>{this.toast.toastError("No se pudo consultar los productos, intentelo m\xe1s tarde"),this.load=!1}):(this.load=!1,this.productos=[])})}validarProducto(t,o){return Object(i.a)(this,void 0,void 0,function*(){yield this.slide.lockSwipes(!1),yield this.slide.slideNext(300),yield this.slide.lockSwipes(!0),this.productoHistoria=t,this.productoEntrada.producto=this.productoHistoria._id,this.productoSalida.producto=this.productoHistoria._id;const o=yield this.almacenamiento.obtenerToken();o&&this.ivtApi.buscarProductoEntrada(o.token,{_id:t._id}).subscribe(t=>{this.productoSalida.costo=t.exe?t.response[0].precio:0})})}cancelar(){return Object(i.a)(this,void 0,void 0,function*(){yield this.slide.lockSwipes(!1),yield this.slide.slidePrev(300),yield this.slide.lockSwipes(!0),this.productoHistoria="",this.productoEntrada={producto:"",cantidad:void 0,precio:void 0,origen:"",origenextra:"",total:0,ivt:"",mensaje:"",nombre:"",codigo:""},this.productoSalida={producto:"",cantidad:void 0,precio:void 0,destino:"",destinoivt:"",prodDestino:"",total:0,ivt:"",mensaje:"",nombre:"",codigo:"",mensaje2:"",creador:"",producto2:"",nombre2:"",codigo2:"",costo:0},this.ivtPadre=!1,this.ivtSelect="",this.selectPro=""})}entradaCambioProd(t,o){"precio"===o?this.productoEntrada.precio=t.detail.value:"canti"===o&&(this.productoEntrada.cantidad=t.detail.value),this.productoEntrada.total=this.productoEntrada.precio*this.productoEntrada.cantidad}salidaCambioProd(t,o){"precio"===o?this.productoSalida.precio=t.detail.value:"canti"===o&&(this.productoSalida.cantidad=t.detail.value),this.productoSalida.total=this.productoSalida.precio*this.productoSalida.cantidad}productoHijo(t){return Object(i.a)(this,void 0,void 0,function*(){if(""!==t.detail.value){const o=yield this.almacenamiento.obtenerToken();o&&this.ivtApi.leerProductosPorInventario(o.token,{id:this.ivtSelect,patron:t.detail.value}).subscribe(t=>{t.exe?this.productosHijos=t.response:this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")})}else this.productoSalida.prodDestino=""})}prodDestino(t){const o=this.productosHijos.filter(o=>o._id===t.detail.value);this.productoSalida.prodDestino=t.detail.value,this.productoSalida.producto2=o[0]._id,this.productoSalida.nombre2=o[0].nombre,this.productoSalida.codigo2=o[0].codigo}guardarEntrada(){return Object(i.a)(this,void 0,void 0,function*(){if(0!==this.productoEntrada.cantidad&&this.productoEntrada.cantidad&&0!==this.productoEntrada.precio&&this.productoEntrada.precio){const t=yield this.almacenamiento.obtenerToken();t&&(this.productoEntrada.nombre=this.productoHistoria.nombre,this.productoEntrada.codigo=this.productoHistoria.codigo,this.productoEntrada.mensaje=` Nueva entrada del producto ${this.productoEntrada.nombre} por una cantidad de ${this.productoEntrada.cantidad}. Creado por ${t.nombre}`,this.ivtApi.crearEntrada(t.token,this.productoEntrada).subscribe(o=>{o.exe?(this.socket.emit("eventoIVT",{mensaje:`Nueva entrada del producto ${this.productoEntrada.nombre} por una cantidad de ${this.productoEntrada.cantidad}. Creado por ${t.nombre}`,usuarios:this.accesos,id:this.inventario,tipo:"entrada"}),this.toast.toastExitoso("Entrada creada con \xe9xito!")):this.toast.toastError("No se pudo crear la entrada, intentelo m\xe1s tarde"),this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear la entrada, intentelo m\xe1s tarde")}))}else this.toast.toastError("Verifique que la cantidad o precio de venta esten diligenciados")})}guardarSalida(){return Object(i.a)(this,void 0,void 0,function*(){if(0!==this.productoSalida.cantidad&&this.productoSalida.cantidad&&0!==this.productoSalida.precio&&this.productoSalida.precio)if(this.productoSalida.cantidad>this.productoHistoria.existencia)this.toast.toastError(`Solo quedan ${this.productoHistoria.existencia} ${this.productoHistoria.nombre} en inventario, no puede sacar m\xe1s de esa cantidad`);else if(""!==this.ivtSelect&&""===this.productoSalida.prodDestino)this.toast.toastError("Debe de seleccionar el producto al cual se le va agregar la cantidad despachada");else{const t=yield this.almacenamiento.obtenerToken();t&&(this.productoSalida.creador=this.creador,this.productoSalida.nombre=this.productoHistoria.nombre,this.productoSalida.codigo=this.productoHistoria.codigo,this.productoSalida.mensaje=`Nueva Salida del producto ${this.productoSalida.nombre} por una cantidad de ${this.productoSalida.cantidad}. Creado por ${t.nombre}`,""!==this.productoSalida.prodDestino&&""!==this.productoSalida.destinoivt&&(this.productoSalida.mensaje2=`Nueva Entrada del producto ${this.productoSalida.nombre} por una cantidad de ${this.productoSalida.cantidad}. Creado por ${t.nombre}`),this.ivtApi.crearSalida(t.token,this.productoSalida).subscribe(o=>{o.exe?(this.socket.emit("eventoIVT",{mensaje:`Nueva Salida del producto ${this.productoSalida.nombre} por una cantidad de ${this.productoSalida.cantidad}. Creado por ${t.nombre}`,usuarios:this.accesos,creador:this.creador,id:this.inventario,tipo:"salida"}),this.toast.toastExitoso("Salida creada con \xe9xito!"),this.cancelar()):this.toast.toastError("No se pudo crear la salida, intentelo m\xe1s tarde"),this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear la salida, intentelo m\xe1s tarde")}))}else this.toast.toastError("Verifique que la cantidad o precio de venta esten diligenciados")})}cerrar(){this.modalCtrl.dismiss({})}}return t.\u0275fac=function(o){return new(o||t)(n.Lb(r.qb),n.Lb(a.a),n.Lb(c.a),n.Lb(s.a),n.Lb(d.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["app-ivt-modal"]],viewQuery:function(t,o){if(1&t&&n.Ac(h,1),2&t){let t;n.oc(t=n.Xb())&&(o.slide=t.first)}},inputs:{tipo:"tipo",inventario:"inventario",producto:"producto",creador:"creador",accesos:"accesos"},decls:15,vars:8,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],[4,"ngIf"],["lines","none","color","light",1,"ion-padding"],["type","text","placeholder","Escribe el nombre del inventario",1,"ion-padding",3,"ngModel","ngModelChange"],[1,"ion-padding"],["mode","ios","shape","round","expand","block","color","warning",1,"marginTop","colorw",3,"click"],["class","center",4,"ngIf"],[1,"center"],["name","crescent"],["type","text","placeholder","Escribe el nombre del proveedor",1,"ion-padding",3,"ngModel","ngModelChange"],["type","number","placeholder","Tel\xe9fono de contacto",1,"ion-padding",3,"ngModel","ngModelChange"],["type","number","placeholder","Tel\xe9fono adicional",1,"ion-padding",3,"ngModel","ngModelChange"],["type","text","placeholder","Correo electr\xf3nico de contacto",1,"ion-padding",3,"ngModel","ngModelChange"],["color","oscuro","name","crescent"],["type","text","placeholder","Escribe el nombre de la categor\xeda",1,"ion-padding",3,"ngModel","ngModelChange"],["type","text","placeholder","Escribe el nombre del producto",1,"ion-padding",3,"ngModel","ngModelChange"],["type","text","placeholder","Escribe el c\xf3digo del producto",1,"ion-padding",3,"ngModel","ngModelChange"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"ion-text-wrap"],["type","number","placeholder","Escribe la cantidad",1,"ion-padding",3,"ngModel","ngModelChange"],[3,"value"],["placeholder","Seleccione una",3,"value","ionChange"],[3,"value","ionChange"],["slide",""],["debounce","500","placeholder","Buscar Producto por c\xf3digo o nombre","mode","ios",1,"ion-text-left",3,"ionChange"],[1,"divider","light"],[3,"click",4,"ngFor","ngForOf"],["mode","ios"],[1,"tituloGrande","tprod"],["color","light"],["type","number","placeholder","Precio Unitario",3,"ngModel","ionChange","ngModelChange"],["type","number","placeholder","Cantidad",3,"ngModel","ionChange","ngModelChange"],["class","total ",4,"ngIf"],["type","text","placeholder","Otro",3,"ngModel","ngModelChange"],[1,"flexbet"],["color","light","expand","block","mode","ios","shape","round",1,"btn",3,"click"],["color","warning","expand","block","mode","ios","shape","round",1,"btn",3,"click"],[4,"ngFor","ngForOf"],["slot","start","animated","",2,"width","30px","height","30px"],["animated","",2,"width","100%","height","10px"],["animated","",2,"width","80%","height","10px"],["slot","start"],["src","/assets/Productos.png"],[1,"rojoi"],[1,"verdei"],["color","oscuro",4,"ngIf"],["color","warning",4,"ngIf"],["color","danger",4,"ngIf"],["color","warning"],["color","danger"],[1,"tituloGrande"],[1,"total"],[1,"sinfondo"],["type","number","placeholder","Precio Unitario de Venta",3,"ngModel","ionChange","ngModelChange"],["type","number","placeholder","Cantidad de Productos que salen",3,"ngModel","ionChange","ngModelChange"],["clss","ion-padding","class","total ",4,"ngIf"],["clss","ion-padding",1,"total"],["debounce","500",3,"placeholder","ionChange"],["type","text","placeholder","Nombre del cliente (opcional)",3,"ngModel","ngModelChange"]],template:function(t,o){1&t&&(n.Ob(0,"ion-header",0),n.Ob(1,"ion-toolbar",1),n.Ob(2,"ion-title"),n.wc(3),n.Nb(),n.Ob(4,"ion-buttons",2),n.Ob(5,"ion-button",3),n.Wb("click",function(){return o.cerrar()}),n.Mb(6,"ion-icon",4),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Ob(7,"ion-content"),n.vc(8,v,9,2,"ion-list",5),n.vc(9,f,17,5,"ion-list",5),n.vc(10,O,9,2,"ion-list",5),n.vc(11,w,35,6,"ion-list",5),n.vc(12,M,35,8,"ion-list",5),n.vc(13,R,38,10,"ion-slides",5),n.vc(14,it,49,12,"ion-slides",5),n.Nb()),2&t&&(n.Ab(3),n.xc(o.titulo),n.Ab(5),n.fc("ngIf","crear"===o.vista),n.Ab(1),n.fc("ngIf","proveedores"===o.vista),n.Ab(1),n.fc("ngIf","categorias"===o.vista),n.Ab(1),n.fc("ngIf","productos"===o.vista),n.Ab(1),n.fc("ngIf","editarproductos"===o.vista),n.Ab(1),n.fc("ngIf",o.carga&&"entradas"===o.vista),n.Ab(1),n.fc("ngIf",o.carga&&"salidas"===o.vista))},directives:[r.z,r.lb,r.jb,r.k,r.j,r.A,r.t,b.j,r.L,r.G,r.F,r.E,r.yb,l.i,l.k,r.cb,r.sb,r.K,r.X,r.xb,b.i,r.Y,r.bb,r.ab,r.U,r.l,r.m,r.Z,r.f,r.r,r.O,r.N,r.vb],pipes:[p.a],styles:[".marginTop[_ngcontent-%COMP%]{margin-top:30px}div[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{width:100%}.miflex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tarjeta[_ngcontent-%COMP%]{width:calc(50% - 10px);margin:5px;box-shadow:none;opacity:.5;border:1px solid rgba(3,3,3,.1);transition:all .1s;transform:scale(.8)}.headercard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.isSelect[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;transform:scale(1.1);border:2px solid var(--ion-color-success)}.colorw[_ngcontent-%COMP%]{color:#fff!important}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}ion-item[_ngcontent-%COMP%]:hover{--background:#e3e7d1!important}.tituloGrande[_ngcontent-%COMP%]{width:300px;text-align:center}.verdei[_ngcontent-%COMP%]{color:#1e8c4a}.rojoi[_ngcontent-%COMP%]{color:#c1302c}.flexbet[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}ion-slide[_ngcontent-%COMP%], ion-slides[_ngcontent-%COMP%]{width:100%;min-height:100%}ion-slide[_ngcontent-%COMP%]{display:flex;flex-direction:column}.tprod[_ngcontent-%COMP%]{width:100%;font-size:20px;background-color:#fffbe5;padding:10px}ion-card[_ngcontent-%COMP%]{width:100%;padding:auto 0}.btn[_ngcontent-%COMP%]{width:50%}"]}),t})()},fqim:function(t,o,e){"use strict";e.d(o,"a",function(){return n});var i=e("fXoL");let n=(()=>{class t{transform(t,o){return 0===t?0:new Intl.NumberFormat(o,{minimumFractionDigits:1}).format(t)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=i.Kb({name:"decimales",type:t,pure:!0}),t})()}}]);