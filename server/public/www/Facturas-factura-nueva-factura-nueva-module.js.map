{"version":3,"sources":["./src/app/pages/Facturas/factura-nueva/factura-nueva.page.ts","./src/app/pages/Facturas/modal-factura/modal-factura.page.html","./src/app/pages/Facturas/factura-nueva/factura-nueva-routing.module.ts","./src/app/pages/Facturas/factura-nueva/factura-nueva.page.html","./src/app/pages/Facturas/modal-factura/modal-factura.page.ts","./src/app/pages/Facturas/factura-nueva/factura-nueva.page.scss","./src/app/pages/Facturas/factura-nueva/factura-nueva.module.ts","./src/app/pages/Facturas/modal-factura/modal-factura-routing.module.ts","./src/app/pages/Facturas/modal-factura/modal-factura.module.ts","./src/app/pages/Facturas/modal-factura/modal-factura.page.scss"],"names":[],"mappings":"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","file":"Facturas-factura-nueva-factura-nueva-module.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\nimport { FacturasService } from '../../../providers/Api/Facturas.service';\nimport { AlertController, IonInfiniteScroll, ModalController } from '@ionic/angular';\nimport { LoadingService } from '../../../providers/Utilidades/LoadingService.service';\nimport { ModalFacturaPage } from '../modal-factura/modal-factura.page';\n\n@Component({\n  selector: 'app-factura-nueva',\n  templateUrl: './factura-nueva.page.html',\n  styleUrls: ['./factura-nueva.page.scss'],\n})\nexport class FacturaNuevaPage implements OnInit {\n\n  facturas = [];\n  car = true;\n  load = false;\n  nuevo = false;\n  mostrar = false;\n  nit = '';\n  direccion = '';\n  regimen = '';\n  titular = '';\n  telefono: '';\n  iva = false;\n  valorIva = 0;\n\n  id = '';\n\n  mensaje = true;\n\n  desde = 0;\n  patron = '';\n\n\n  @ViewChild('inifinito', {static: false}) infinite: IonInfiniteScroll;\n  constructor(\n    private almacenamiento: InicioService,\n    private toast: ToastServices,\n    private apiFactura: FacturasService,\n    private modalCtrl: ModalController,\n    private loading: LoadingService,\n    private alert: AlertController\n  ) { }\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.mensaje = false;\n    }, 7000 )\n  }\n\n  ionViewWillEnter() {\n    this.mostrar = false;\n    this.consultar();\n  }\n\n\n  refrescando( event ) {\n    this.cargarFacturas().then(() => {\n      event.target.complete();\n    }).catch(() => event.target.complete());\n  }\n\n  async cargarFacturas() {\n    this.desde = 0;\n    if (this.load) {\n      \n      this.infinite.disabled = false;\n    }\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.apiFactura.consultarFacturas(info.token, {desde: this.desde }).subscribe((data: any) => {\n        if (data.exe) {\n            this.facturas = data.response;\n        } else {\n          this.toast.toastError('No se pudo cargar las facturas, intentelo más tarde');\n        }\n        this.load = true;\n      }, (err) => {\n          this.toast.toastError('No se pudo cargar las facturas, intentelo más tarde');\n      })\n    }\n}\nasync buscar(event) {\n    // // console.log(event.detail, 'epale');\n    \n    if ( event.detail.value !== '') {\n      this.desde = 0;\n      this.infinite.disabled = false;\n      this.patron = event.detail.value;\n\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info ) {\n        this.apiFactura.consultarFacturas(info.token, {desde: this.desde,  patron: this.patron }).subscribe((data: any) => {\n          // // console.log(data, 'mi data');\n          if ( data.exe ){\n            this.facturas = data.response;\n            if ( data.response.length === 0) {\n              this.desde = 0;\n            }\n          } else {\n            this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n        })\n      }\n    } else {\n      this.desde = 0;\n    \n    }\n  }\n\n  \n  async loadData( event ) {\n    // event.target.complete()\n    this.desde = this.desde + 15;\n\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      if ( this.patron === '') {\n        this.apiFactura.consultarFacturas(info.token, {desde: this.desde,  patron: this.patron }).subscribe((data: any) => {\n          // // console.log(data, 'CARGADA OFICIAL');\n          if (data.exe) {\n            if ( data.response.length > 0  ) {\n              data.response.forEach((hoja) => {\n                this.facturas.push(hoja);\n              })\n              event.target.complete();\n             } else {\n              event.target.disabled = true;\n              this.desde = 0;\n             }\n          } else {\n            this.toast.toastError('No se pudo traer las hojas de vida, inténtelo más tarde.');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo traer las hojas de vida, inténtelo más tarde.');\n        })\n      } else {\n        // tslint:disable-next-line:max-line-length\n        // // console.log(this.desde, 'pli');\n        this.apiFactura.consultarFacturas(info.token, {desde: this.desde,  patron: this.patron }).subscribe((data: any) => {\n          // // console.log(data, 'mi data 2', this.desde);\n          if ( data.exe ){\n            if ( data.response.length > 0  ) {\n              data.response.forEach((hoja) => {\n                this.facturas.push(hoja);\n              })\n              event.target.complete();\n           } else {\n            event.target.disabled = true;\n            this.desde = 0;\n           }\n          } else {\n            this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n        })\n      }\n      \n      \n    }\n    }\n\n\n\n\n  async consultar() {\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info  ) {\n        this.apiFactura.consultarConfiguracion(info.token).subscribe((data: any) => {\n          // console.log(data);\n          if (data.exe) {\n            if (!data.response) {\n              this.nuevo = true;\n            } else {\n              // // console.log(data)\n              this.regimen = data.response.regimen;\n              this.direccion = data.response.direccion;\n              this.titular = data.response.titular;\n              this.nit = data.response.nit;\n              this.iva = data.response.iva;\n              this.valorIva = data.response.valorIva;\n              this.id = data.response._id;\n\n              this.mostrar = true;\n\n              this.cargarFacturas();\n            }\n          } else {\n            this.toast.toastError('No se pudo consultar la información de la configuración, intentelo mpas tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo consultar la información de la configuración, intentelo mpas tarde');\n        })\n      }\n  }\n\n  async abrir() {\n      const modal = await this.modalCtrl.create({\n        component: ModalFacturaPage,\n        componentProps: {\n          data: {\n            iva: this.iva,\n            regimen: this.regimen,\n            direccion: this.direccion,\n            nit: this.nit,\n            valorIva: this.valorIva,\n            id: this.id\n          }\n        }\n      })\n\n      await modal.present();\n\n      const cerrado = await modal.onWillDismiss();\n\n      if (cerrado) {\n        if (cerrado.data) {\n         if (cerrado.data.exe) {\n          this.cargarFacturas();\n         }\n        }\n      }\n  }\n\n\n  async editar( id ) {\n    id.iva = this.iva;\n    const modal = await this.modalCtrl.create({\n      component: ModalFacturaPage,\n      componentProps: {\n      \n          info: id\n        \n      }\n    })\n\n    await modal.present();\n\n    const cerrado = await modal.onWillDismiss();\n\n    if (cerrado) {\n      if (cerrado.data) {\n       if (cerrado.data.exe) {\n        this.cargarFacturas();\n       }\n      }\n    }\n}\n\n  async alerta(id) {\n    const alert = await this.alert.create({\n      header: 'Correo electrónico',\n      message: 'Escriba el correo electrónico donde se enviará el documento pdf de la factura',\n      inputs: [\n        {\n          type: 'text',\n          name: 'correo'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel'\n        },\n        {\n          text: 'Enviar',\n          handler: (data) => {\n            this.pdf(data.correo, id);\n          }\n        }\n      ]\n    })\n\n    await alert.present();\n  }\n\n  async pdf(correo, id) {\n\n    const info = await this.almacenamiento.obtenerToken();\n    this.loading.cargaProcesos('Creando Factura y enviandola al correo');\n\n    if ( info  ) {\n      this.apiFactura.enviarrFacturas(info.token, {id, correo}).subscribe((data: any) => {\n        // // console.log(data, 'respuesta')\n        if (data.exe) {\n          this.toast.toastExitoso('Factura generada y enviada al correo electrónico del cliente');\n        } else {\n          this.toast.toastError('No se pudo enviar la factura, intentelo mpas tarde');\n        }\n        this.loading.finalizarCargado();\n      }, (err) => {\n        this.loading.finalizarCargado();\n        this.toast.toastError('No se pudo enviar la factura, intentelo mpas tarde');\n      })\n    }\n\n  }\n\n}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar color=\\\"oscuro\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"cerrar()\\\">\\n                <ion-icon name=\\\"chevron-back-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <ion-title>Crear Factura</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <div class=\\\"cargador\\\" *ngIf=\\\"!cargador\\\">\\n        <ion-spinner name=\\\"crescent\\\" color=\\\"barra\\\"></ion-spinner>\\n        <strong>Cargando la interfaz...</strong>\\n    </div>\\n\\n    <div class=\\\"\\\" *ngIf=\\\"vista === 1\\\">\\n        <ion-list *ngIf=\\\" data || info\\\">\\n            <ion-item color=\\\"light\\\">\\n                <ion-label>Añadir un nuevo item</ion-label>\\n                <ion-buttons slot=\\\"end\\\">\\n                    <ion-button (click)=\\\"crear()\\\">\\n                        <ion-icon name=\\\"add-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                    </ion-button>\\n                </ion-buttons>\\n            </ion-item>\\n\\n            <div class=\\\"divider\\\"></div>\\n            <ion-item-sliding *ngFor=\\\"let item of items; let i = index;\\\">\\n                <ion-item>\\n                    <ion-label class=\\\"ion-text-wrap\\\">\\n                        <div>{{ item.item }}</div>\\n                        <div class=\\\"fl\\\"><strong>Cantidad: </strong> <span>{{item.cantidad }}</span></div>\\n                        <div class=\\\"fl\\\"><strong>Valor unitario: </strong> <span>${{ item.valoru | decimales: 'es-CO' }}</span></div>\\n                        <div class=\\\"fl\\\"><strong>Total: </strong><span> ${{ (item.total | decimales: 'es-CO') }}</span></div>\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item-options side=\\\"end\\\">\\n                    <ion-item-option color=\\\"danger\\\" (click)=\\\"eliminar(i)\\\">\\n                        <ion-icon name=\\\"trash-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                    </ion-item-option>\\n                </ion-item-options>\\n            </ion-item-sliding>\\n\\n            <div class=\\\"divider\\\"></div>\\n\\n            <div class=\\\"td\\\" *ngFor=\\\"let tl of totales\\\">\\n                <div class=\\\"valores\\\" *ngIf=\\\"items.length > 0 && carga\\\">\\n                    <h3><strong class=\\\"verdei\\\">Subtotal: </strong> <span>${{ tl.subtotal | decimales: 'es-CO' }}</span></h3>\\n                </div>\\n                <div *ngIf=\\\"data\\\">\\n                    <div class=\\\"valores\\\" *ngIf=\\\"items.length > 0 && data.iva\\\">\\n                        <h3><strong class=\\\"rojoi\\\">Iva: </strong> <span>${{ tl.iva | decimales: 'es-CO' }}</span></h3>\\n                    </div>\\n                </div>\\n                <div *ngIf=\\\"info\\\">\\n                    <div class=\\\"valores\\\" *ngIf=\\\"items.length > 0 && info.iva\\\">\\n                        <h3><strong class=\\\"rojoi\\\">Iva: </strong> <span>${{ tl.iva | decimales: 'es-CO' }}</span></h3>\\n                    </div>\\n                </div>\\n                <div class=\\\"valores\\\" *ngIf=\\\"items.length > 0 && carga\\\">\\n                    <h3><strong>Total: </strong> <span>${{ tl.total | decimales: 'es-CO' }}</span></h3>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"divider\\\"></div>\\n            <ion-item mode=\\\"ios\\\">\\n                <ion-icon slot=\\\"start\\\" name=\\\"alert-circle-outline\\\" color=\\\"danger\\\"></ion-icon>\\n                <ion-input type=\\\"text\\\" placeholder=\\\"Nombre del cliente\\\" [(ngModel)]=\\\"cliente\\\"></ion-input>\\n            </ion-item>\\n            <ion-item mode=\\\"ios\\\">\\n                <ion-icon slot=\\\"start\\\" name=\\\"alert-circle-outline\\\" color=\\\"blanco\\\"></ion-icon>\\n                <ion-input type=\\\"text\\\" placeholder=\\\"Teléfono del cliente\\\" [(ngModel)]=\\\"telefono\\\"></ion-input>\\n            </ion-item>\\n            <ion-item mode=\\\"ios\\\">\\n                <ion-icon slot=\\\"start\\\" name=\\\"alert-circle-outline\\\" color=\\\"blanco\\\"></ion-icon>\\n                <ion-input type=\\\"text\\\" placeholder=\\\"Dirección del cliente\\\" [(ngModel)]=\\\"direccion\\\"></ion-input>\\n            </ion-item>\\n            <ion-item mode=\\\"ios\\\">\\n                <ion-icon slot=\\\"start\\\" name=\\\"alert-circle-outline\\\" color=\\\"danger\\\"></ion-icon>\\n                <ion-input type=\\\"text\\\" placeholder=\\\"Cédula o Nit del cliente\\\" [(ngModel)]=\\\"cc\\\"></ion-input>\\n            </ion-item>\\n            <ion-item mode=\\\"ios\\\">\\n                <ion-icon slot=\\\"start\\\" name=\\\"alert-circle-outline\\\" color=\\\"blanco\\\"></ion-icon>\\n                <ion-input type=\\\"text\\\" placeholder=\\\"Ciudad del cliente\\\" [(ngModel)]=\\\"ciudad\\\"></ion-input>\\n            </ion-item>\\n\\n            <div class=\\\"divider\\\"></div>\\n            <ion-button mode=\\\"ios\\\" color=\\\"barra\\\" expand=\\\"block\\\" (click)=\\\"guardar()\\\">CREAR FACTURA</ion-button>\\n        </ion-list>\\n    </div>\\n\\n    <div *ngIf=\\\"vista === 2\\\">\\n\\n    </div>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FacturaNuevaPage } from './factura-nueva.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FacturaNuevaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FacturaNuevaPageRoutingModule {}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar color=\\\"oscuro\\\">\\n        <ion-back-button slot=\\\"start\\\" icon=\\\"chevron-back-outline\\\" defaultHref=\\\"/central/menu/factura\\\"></ion-back-button>\\n        <ion-title>Crear Factura</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <ion-list *ngIf=\\\"mensaje\\\">\\n        <ion-item-divider color=\\\"barra\\\">\\n            <ion-label class=\\\"ion-text-wrap\\\">La factura se estructura de acuerdo a los parámetros de configuración establecidos</ion-label>\\n        </ion-item-divider>\\n    </ion-list>\\n\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refrescando($event)\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"50\\\" pullMax=\\\"150\\\">\\n        <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" refreshingSpinner=\\\"circles\\\">\\n        </ion-refresher-content>\\n    </ion-refresher>\\n\\n    <ion-searchbar debounce=\\\"300\\\" mode=\\\"ios\\\" placeholder=\\\"Buscar Facturas\\\" (ionChange)=\\\"buscar($event)\\\"></ion-searchbar>\\n\\n\\n    <div class=\\\"divider\\\"></div>\\n\\n    <div class=\\\"cen\\\" *ngIf=\\\"!load\\\" style=\\\"text-align: center;\\\">\\n        <ion-spinner name=\\\"crescent\\\" color=\\\"oscuro\\\"></ion-spinner> <br>\\n        <h3 class=\\\"tituloGrande\\\">Cargando información...</h3>\\n    </div>\\n\\n    <div class=\\\"cen\\\" *ngIf=\\\"facturas.length === 0 && load\\\">\\n        <img src=\\\"/assets/NuevaFactura.png\\\" width=\\\"100px\\\" alt=\\\"\\\">\\n        <h3 class=\\\"tituloGrande\\\">No tiene facturas creadas hasta el momento</h3>\\n        <ion-button mode=\\\"ios\\\" shape=\\\"round\\\" color=\\\"success\\\" (click)=\\\"abrir()\\\">Crear Factura</ion-button>\\n    </div>\\n\\n    <ion-list>\\n        <ion-item-sliding *ngFor=\\\"let factura of facturas\\\">\\n            <ion-item>\\n\\n                <ion-label class=\\\"ion-text-wrap\\\">\\n                    <div class=\\\"fl\\\">\\n                        <div class=\\\"caja\\\">FACTURA NÚMERO {{ factura.consecutivo }}</div>\\n                    </div>\\n                    <div class=\\\"flex\\\"><strong>Total: </strong> <span>${{ factura.total | decimales: 'es-CO'}}</span></div>\\n                    <div class=\\\"flex\\\"><strong>Cliente: </strong> <span>{{ factura.cliente }}</span></div>\\n                    <div class=\\\"flex\\\"><strong>Nit o CC: </strong> <span>{{ factura.cc }}</span></div>\\n                </ion-label>\\n            </ion-item>\\n            <ion-item-options side=\\\"end\\\">\\n                <ion-item-option color=\\\"medium\\\" (click)=\\\"alerta(factura._id)\\\">\\n                    <ion-icon name=\\\"document-text-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                </ion-item-option>\\n                <ion-item-option color=\\\"warning\\\" (click)=\\\"editar(factura)\\\">\\n                    <ion-icon name=\\\"pencil-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                </ion-item-option>\\n            </ion-item-options>\\n        </ion-item-sliding>\\n    </ion-list>\\n\\n\\n    <ion-infinite-scroll *ngIf=\\\"load\\\" #inifinito threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Cargando Facturas...\\\">\\n        </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n\\n    <ion-fab *ngIf=\\\"facturas.length > 0\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button color=\\\"barra\\\" (click)=\\\"abrir()\\\">\\n            <ion-icon name=\\\"add-outline\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n\\n</ion-content>\";","import { Component, Input, OnInit } from '@angular/core';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\nimport { FacturasService } from '../../../providers/Api/Facturas.service';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-modal-factura',\n  templateUrl: './modal-factura.page.html',\n  styleUrls: ['./modal-factura.page.scss'],\n})\nexport class ModalFacturaPage implements OnInit {\n\n  items = [];\n  totales = [];\n  subtotal = 0;\n  iva = 0;\n  total = 0;\n\n  cliente = '';\n  telefono = '0';\n  direccion = '';\n  cc = '';\n  ciudad = '';\n\n  id = '';\n\n  carga = false;\n\n  @Input() data;\n  @Input() info;\n\n  vista = 1;\n  cargador = false;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private almacenamiento: InicioService,\n    private toast: ToastServices,\n    private alertCtrl: AlertController,\n    private apiFactura: FacturasService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n     console.log(this.info)\n     this.cargador = true;\n     if (this.info) {\n      this.vista = 1;\n      this.items = this.info.lista;\n      this.subtotal = this.info.subtotal;\n      this.total = this.info.total;\n      this.iva = this.info.ivatotal;\n\n      this.ciudad = this.info.ciudad;\n      this.telefono = this.info.tel;\n      this.cc = this.info.nitcc;\n\n\n      this.cliente = this.info.cliente;\n      this.direccion = this.info.direccion;\n\n      this.carga = true;\n      this.totales.push({\n        total: this.total,\n        subtotal: this.subtotal,\n        iva: this.iva\n      })\n\n      console.log(this.totales);\n    } else {\n      this.vista = 1\n    }\n  }\n\n  cerrar() {\n    this.modalCtrl.dismiss();\n  }\n\n  async crear() {\n    const info = await this.alertCtrl.create({\n      header: 'Crear Item',\n      inputs: [\n        {\n          type: 'number',\n          name: 'cantidad',\n          placeholder: 'Ingrese la cantidad'\n        },\n        {\n          type: 'text',\n          name: 'item',\n          placeholder: 'Descripción'\n        },\n        {\n          type: 'number',\n          name: 'valoru',\n          placeholder: 'Ingrese el valor unitario'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          \n        },\n        {\n          text: 'Guardar',\n          handler: (data) => {\n              // // console.log(data);\n              data.total = data.cantidad * data.valoru;\n              this.items.push(data);\n              this.carga = false;\n              this.calculo();\n          }\n        }\n      ]\n    })\n\n    await info.present();\n  }\n\n  eliminar( idx ) {\n    this.items.splice(idx, 1);\n    this.calculo();\n  }\n\n  calculo() {\n    this.subtotal = 0;\n    this.total = 0;\n    this.iva = 0;\n    let sb = 0;\n    this.totales = [];\n    this.items.forEach((item) => {\n      sb = sb + parseFloat(item.total);\n    })\n\n\n    this.subtotal = sb;\n    if (this.data) {\n      if (this.data.iva) {\n        this.iva = this.subtotal * 0.19;\n      }\n    } else {\n      if (this.info.iva) {\n        this.iva = this.subtotal * 0.19;\n      }\n    }\n    this.total = this.subtotal + this.iva;\n    this.carga = true;\n    \n    this.totales.push({\n      total: this.total,\n      subtotal: this.subtotal,\n      iva: this.iva\n    })\n    // // // console.log('data de la factura',  this.subtotal, this.total, this.iva, this.data.iva, this.items)\n  }\n\n  async guardar() {\n    if (this.items.length > 0 && this.cliente !== '' && this.cc !== '') {\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info  ) {\n        if (this.data) {\n          // tslint:disable-next-line:max-line-length\n          this.apiFactura.guardarConfiguracion(info.token, {cliente: this.cliente, direccion: this.direccion, telefono: this.telefono, iva: this.iva, cc: this.cc, ciudad: this.ciudad, subtotal: this.subtotal, total: this.total, lista: this.items, descuento: 0, idconfig: this.data.id}).subscribe((data: any) => {\n            if (data.exe) {\n              this.toast.toastExitoso('Factura actualizada con éxito');\n              this.modalCtrl.dismiss({\n                exe: true\n              });\n            } else {\n              this.toast.toastError('No se pudo guardar la información de la factura, intentelo mpas tarde');\n            }\n          }, (err) => {\n            this.toast.toastError('No se pudo guardar la información de la factura, intentelo mpas tarde');\n          })\n        } else  {\n\n          // tslint:disable-next-line:max-line-length\n          this.apiFactura.editarFactura(info.token, {id: this.info._id, cliente: this.cliente, direccion: this.direccion, telefono: this.telefono, iva: this.iva, cc: this.cc, ciudad: this.ciudad, subtotal: this.subtotal, total: this.total, lista: this.items, descuento: 0}).subscribe((data: any) => {\n            if (data.exe) {\n              this.toast.toastExitoso('Factura actualizada con éxito');\n              this.modalCtrl.dismiss({\n                exe: true\n              });\n            } else {\n              this.toast.toastError('No se pudo actualizar la información de la factura, intentelo mpas tarde');\n            }\n          }, (err) => {\n            this.toast.toastError('No se pudo actualizar la información de la factura, intentelo mpas tarde');\n          })\n\n        }\n      // tslint:disable-next-line:max-line-length\n       \n      }\n    } else {\n      this.toast.toastError('La información requerida aún esta icompleta, veirifca el nombre del cliente, su cédula y la descripción de la factura');\n    }\n  }\n\n}\n","export default \".cen {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.tituloGrande {\\n  width: 300px;\\n  text-align: center;\\n}\\n\\n.fl {\\n  display: flex;\\n  justify-content: flex-end;\\n  font-size: 18px !important;\\n  color: red;\\n  font-weight: bold;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n  padding-bottom: 5px;\\n}\\n\\n.fl .caja {\\n  text-align: center;\\n  width: 60%;\\n  max-width: 80%;\\n  background-color: #FCF3AA;\\n  padding: 3px;\\n}\\n\\n.flex {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcZmFjdHVyYS1udWV2YS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0VBQ0EseUJBQUE7RUFDQSwwQkFBQTtFQUNBLFVBQUE7RUFDQSxpQkFBQTtFQUNBLDJDQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGNBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtBQUNKIiwiZmlsZSI6ImZhY3R1cmEtbnVldmEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNlbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi50aXR1bG9HcmFuZGUge1xyXG4gICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uZmwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgICBmb250LXNpemU6IDE4cHggIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiByZWQ7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xyXG59XHJcblxyXG4uZmwgLmNhamEge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDYwJTtcclxuICAgIG1heC13aWR0aDogODAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZDRjNBQTtcclxuICAgIHBhZGRpbmc6IDNweDtcclxufVxyXG5cclxuLmZsZXgge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufSJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FacturaNuevaPageRoutingModule } from './factura-nueva-routing.module';\n\nimport { FacturaNuevaPage } from './factura-nueva.page';\nimport { ModalFacturaPage } from '../modal-factura/modal-factura.page';\nimport { ModalFacturaPageModule } from '../modal-factura/modal-factura.module';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  entryComponents: [\n    ModalFacturaPage\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FacturaNuevaPageRoutingModule,\n    ModalFacturaPageModule,\n    PipesModule\n  ],\n  declarations: [FacturaNuevaPage]\n})\nexport class FacturaNuevaPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ModalFacturaPage } from './modal-factura.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ModalFacturaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ModalFacturaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ModalFacturaPageRoutingModule } from './modal-factura-routing.module';\n\nimport { ModalFacturaPage } from './modal-factura.page';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ModalFacturaPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [ModalFacturaPage]\n})\nexport class ModalFacturaPageModule {}\n","export default \".valores {\\n  font-size: 24px !important;\\n  margin: 0px !important;\\n}\\n\\n.valores h3 {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.verdei {\\n  color: green;\\n}\\n\\n.rojoi {\\n  color: red;\\n}\\n\\n.cargador {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.fl {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.td {\\n  padding: 0 10px;\\n  background: #FCF3AA;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcbW9kYWwtZmFjdHVyYS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwwQkFBQTtFQUNBLHNCQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksWUFBQTtBQUNKOztBQUVBO0VBQ0ksVUFBQTtBQUNKOztBQUVBO0VBQ0ksV0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtFQUNBLG1CQUFBO0FBQ0oiLCJmaWxlIjoibW9kYWwtZmFjdHVyYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudmFsb3JlcyB7XHJcbiAgICBmb250LXNpemU6IDI0cHggIWltcG9ydGFudDtcclxuICAgIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi52YWxvcmVzIGgzIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4udmVyZGVpIHtcclxuICAgIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLnJvam9pIHtcclxuICAgIGNvbG9yOiByZWQ7XHJcbn1cclxuXHJcbi5jYXJnYWRvciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uZmwge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLnRkIHtcclxuICAgIHBhZGRpbmc6IDAgMTBweDtcclxuICAgIGJhY2tncm91bmQ6ICNGQ0YzQUE7XHJcbn0iXX0= */\";"],"sourceRoot":"webpack:///"}