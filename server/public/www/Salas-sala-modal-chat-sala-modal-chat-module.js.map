{"version":3,"sources":["./src/app/pages/Salas/sala-modal-chat/sala-modal-chat.page.ts","./src/app/pages/Salas/sala-modal-chat/sala-modal-chat.page.html","./src/app/pages/Salas/sala-modal-chat/sala-modal-chat-routing.module.ts","./src/app/pages/Salas/sala-modal-chat/sala-modal-chat.module.ts","./src/app/pages/Salas/sala-modal-chat/sala-modal-chat.page.scss"],"names":[],"mappings":"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","file":"Salas-sala-modal-chat-sala-modal-chat-module.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { ActionSheetController, ModalController, Platform } from '@ionic/angular';\nimport { Socket } from 'ngx-socket-io';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\n\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { LoadingService } from '../../../providers/Utilidades/LoadingService.service';\nimport { PedidosService } from '../../../providers/Api/Pedidos.service';\nimport { ActivationEnd, ActivatedRoute, Router } from '@angular/router';\nimport { ModalChatComponent } from '../../../Components/modal-chat/modal-chat.component';\ndeclare var window: any;\n\n@Component({\n  selector: 'app-sala-modal-chat',\n  templateUrl: './sala-modal-chat.page.html',\n  styleUrls: ['./sala-modal-chat.page.scss'],\n})\nexport class SalaModalChatPage implements OnInit {\n  cargado = false;\n\n\n // 2 Fase de publicacion\n\n\n carrete = [];\n carreteRoot = [];\n\n carga = false;\n\n sala;\nid = '';\nfotos = [];\nvista = 1;\n\n  constructor(\n    private almacenamiento: InicioService,\n    private modal: ModalController,\n    private toast: ToastServices,\n    private socket: Socket,\n    private actionCtrl: ActionSheetController,\n    private camera: Camera,\n    private myLoading: LoadingService,\n    private apiPedido: PedidosService,\n    private active: ActivatedRoute,\n    private router: Router,\n    private plt: Platform\n  ) { \n\n    this.plt.backButton.subscribe(() => {\n      this.router.navigate(['/central/citas', this.active.snapshot.paramMap.get('id')]);\n    })\n  }\n\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n\n  \n      this.id = this.active.snapshot.paramMap.get('id')\n      this.crear();\n    \n   \n  }\n\n  async crear() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n\n      this.apiPedido.consultarChat(info.token, {id: this.active.snapshot.paramMap.get('id')}).subscribe((data: any) => {\n        // console.log(data);\n        if (data.exe) {\n\n        this.sala = data.response;\n      \n\n\n        if (this.active.snapshot.paramMap.get('tipo') === 'ver') {\n          this.ver();\n        } else {\n          this.carga = true;\n          this.vista = 1;\n        }\n       \n        } else {\n          this.toast.toastError('No se pudo traer la información, inténtelo más tarde')\n        }\n      }, (err) => {\n        this.toast.toastError('No se pudo traer la información, inténtelo más tarde')\n      })\n\n    }\n  }\n\n\n  async ver() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n\n      this.apiPedido.consultarChatFotos(info.token, {id: this.active.snapshot.paramMap.get('id')}).subscribe((data: any) => {\n        // console.log(data);\n        if (data.exe) {\n\n          data.response.forEach((foto) => {\n            this.fotos.unshift(foto)\n          })\n\n          this.vista = 2;\n       \n        } else {\n          this.toast.toastError('No se pudo traer las fotos, inténtelo más tarde')\n        }\n        this.carga = true;\n      }, (err) => {\n        this.toast.toastError('No se pudo traer las fotos, inténtelo más tarde')\n      })\n\n    }\n  }\n\n\n  async opciones() {\n    const action = await this.actionCtrl.create({\n      header: 'Escoge una opción',\n      buttons: [\n        {\n          icon: 'camera-outline',\n          text: 'Tomar foto de la cámara',\n          handler: () => {\n             \n            this.tomarFoto(this.camera.PictureSourceType.CAMERA, 'image');\n          }\n        },\n        {\n          icon: 'image-outline',\n          text: 'Subir foto de galería',\n          handler: () => {\n\n            \n                this.tomarFoto(this.camera.PictureSourceType.PHOTOLIBRARY, 'image');\n           \n         \n          }\n        }\n       \n      ]\n    })\n\n    await action.present();\n}\n\n\n\npublic tomarFoto(sourceType, mode?) {\n    \n  const options: CameraOptions = {\n    quality: 100,\n    allowEdit: true,\n    correctOrientation: true,\n    destinationType: this.camera.DestinationType.FILE_URI,\n    encodingType: this.camera.EncodingType.JPEG,\n    mediaType: this.camera.MediaType.PICTURE,\n    sourceType\n  };\n\n  this.camera.getPicture(options).then( async (imageData) => {\n     let mim = '';\n     let name = '';\n     // // // console.log('image data', imageData)\n     if (imageData.includes('jpg')){\n       mim = 'image/jpg';\n       name = 'image.jpg';\n     } else if (imageData.includes('png')) {\n      mim = 'image/png';\n      name = 'image.png';\n     } else if (imageData.includes('jpeg')) {\n      mim = 'image/jpeg';\n      name = 'image.jpeg';\n     } else if (imageData.includes('gif')) {\n      mim = 'image/gif';\n      name = 'image.gif';\n     } else {\n      mim = 'image/jpg';\n      name = 'image.jpg';\n     }\n     // // // console.log('Mi archivo', name, mim)\n     this.carrete.push({path: imageData, name, mime: mim, cont: this.carrete.length + 1});\n     const url = window.Ionic.WebView.convertFileSrc( imageData );\n     this.carreteRoot.push({path: url, mime: mim});\n     // // // console.log(this.carrete);\n     this.camera.cleanup().then(() =>  {});\n  });\n\n\n}\n\n\n\n\nasync enviarMensaje() {\n  // // // console.log(this.carrete);\n  if ( this.carrete.length > 0 ) {\n      const info = await this.almacenamiento.obtenerToken();\n      this.myLoading.cargaProcesos('Subiendo mensaje con archivos media, por favor espere');\n      if ( info ) {\n       \n              \n              // // console.log(this.carrete, ' imagenes');\n              let cont = this.carrete.length;\n              let final = this.carrete.length === 1 ? true : false;\n              this.carrete.forEach((item: any) => {\n                // // // console.log(item, 'itm');\n                // tslint:disable-next-line:max-line-length\n                this.apiPedido.subirArchivosChat(info.token,this.id, item.path, final, item.cont, item.name, item.mime).subscribe((image: any) => {\n                      image.response = JSON.parse(image.response);\n                      if (image.response.exe) {\n                        cont = cont - 1;\n\n                     \n\n                        if (cont === 0) {\n                          this.myLoading.finalizarCargado();\n                         \n                            this.toast.Especial('Enviado')\n                          \n                          \n                          this.cerrar();\n                        }\n\n                      }\n                      // // // console.log(image, ' image cada vuelta');\n                }, (error) => {\n                  // // // console.log('Error ', error);\n                  this.myLoading.finalizarCargado();\n                  this.toast.alertApplication('No se pudo subir el archivo de vídeo o imagen' + error, true);\n                });\n              });\n            }\n      \n  } \n}\n\neliminardelCarrete(indice) {\n  this.carrete.splice(indice, 1);\n  this.carreteRoot.splice(indice, 1);\n\n  \n}\n\nasync modalFoto(img) {\n  const miModal = await this.modal.create({\n    component: ModalChatComponent,\n    componentProps: {\n      img\n    }\n  })\n\n  await miModal.present();\n}  \n\n\n  cerrar() {\n    this.router.navigate(['/central/citas', this.id]);\n  }\n\n}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar color=\\\"oscuro\\\">\\n\\n\\n        <ion-buttons slot=\\\"start\\\" *ngIf=\\\"carga\\\">\\n            <ion-button (click)=\\\"cerrar()\\\">\\n                <ion-icon name=\\\"chevron-back-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <ion-title>Enviar Fotos</ion-title>\\n\\n        <ion-buttons *ngIf=\\\"vista === 1\\\" mode=\\\"ios\\\" slot=\\\"end\\\">\\n            <ion-button (click)=\\\"enviarMensaje()\\\">Enviar</ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n\\n    <div *ngIf=\\\"carga && vista === 1\\\">\\n\\n\\n        <ion-button expand=\\\"block\\\" mode=\\\"ios\\\" color=\\\"danger\\\" (click)=\\\"opciones()\\\">Añadir Imagen</ion-button> <br>\\n\\n        <div class=\\\"none\\\" *ngIf=\\\"carreteRoot.length === 0\\\">\\n            <div class=\\\"flexc\\\">\\n                <img src=\\\"/assets/Camara.png\\\" width=\\\"70px\\\" alt=\\\"\\\"> <br>\\n                <h3 class=\\\"tituloGrande\\\">No Hay fotos agregados para enviat.</h3>\\n            </div>\\n        </div>\\n\\n\\n        <ion-slides *ngIf=\\\"carreteRoot.length > 0\\\">\\n            <ion-slide *ngFor=\\\"let archivo of carreteRoot; let i = index;\\\">\\n                <img *ngIf=\\\"archivo.mime.includes('image')\\\" src=\\\"{{archivo.path}}\\\" width=\\\"70px\\\">\\n                <video *ngIf=\\\"archivo.mime.includes('video') || archivo.mime.includes('Video') || archivo.mime.includes('mp4') || archivo.mime.includes('MP4')\\\" src=\\\"{{archivo.path}}\\\" width=\\\"70px\\\" controls></video>\\n                <div class=\\\"eliminar\\\" (click)=\\\"eliminardelCarrete(i)\\\">\\n                    <ion-chip color=\\\"danger\\\">Eliminar</ion-chip>\\n                </div>\\n            </ion-slide>\\n        </ion-slides>\\n\\n\\n    </div>\\n\\n\\n    <div *ngIf=\\\"carga && vista === 2\\\">\\n\\n\\n\\n        <div class=\\\"opts\\\">\\n            <ion-card *ngFor=\\\"let foto of fotos\\\" mode=\\\"ios\\\" (click)=\\\"modalFoto(foto.ruta)\\\">\\n                <ion-card-header><img src=\\\"https://www.motocaliapp.com/2807/{{ foto.ruta }}\\\" width=\\\"100%\\\"></ion-card-header>\\n                <ion-card-subtitle>\\n                    @{{foto.creador.nombreusuario}}\\n                </ion-card-subtitle>\\n            </ion-card>\\n\\n        </div>\\n\\n    </div>\\n\\n\\n\\n\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SalaModalChatPage } from './sala-modal-chat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SalaModalChatPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SalaModalChatPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SalaModalChatPageRoutingModule } from './sala-modal-chat-routing.module';\n\nimport { SalaModalChatPage } from './sala-modal-chat.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SalaModalChatPageRoutingModule\n  ],\n  declarations: [SalaModalChatPage]\n})\nexport class SalaModalChatPageModule {}\n","export default \".flexc {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  text-align: center;\\n}\\n\\nion-slides {\\n  width: 100%;\\n  min-height: 100%;\\n}\\n\\nion-slide {\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: 100%;\\n  min-height: 100%;\\n}\\n\\n.opts {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-wrap: wrap;\\n}\\n\\n.opts ion-card {\\n  width: calc(50% - 10px);\\n  margin: 10px 5px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  transition: all 0.5s;\\n}\\n\\n.opts ion-card ion-card-title {\\n  font-size: 22px;\\n  text-align: center;\\n}\\n\\n.opts ion-card ion-card-header {\\n  text-align: center;\\n  padding: 5px;\\n}\\n\\n@media screen and (min-width: 800px) {\\n  .opts ion-card {\\n    width: calc(33.33% - 10px);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcc2FsYS1tb2RhbC1jaGF0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7QUFDSjs7QUFFQTtFQUNJLHVCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBRUE7RUFDSTtJQUNJLDBCQUFBO0VBQ047QUFDRiIsImZpbGUiOiJzYWxhLW1vZGFsLWNoYXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZsZXhjIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbmlvbi1zbGlkZXMge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtaW4taGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG5pb24tc2xpZGUge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWluLWhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLm9wdHMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuLm9wdHMgaW9uLWNhcmQge1xyXG4gICAgd2lkdGg6IGNhbGMoNTAlIC0gMTBweCk7XHJcbiAgICBtYXJnaW46IDEwcHggNXB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgLjVzO1xyXG59XHJcblxyXG4ub3B0cyBpb24tY2FyZCBpb24tY2FyZC10aXRsZSB7XHJcbiAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5vcHRzIGlvbi1jYXJkIGlvbi1jYXJkLWhlYWRlciB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbn1cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgwMHB4KSB7XHJcbiAgICAub3B0cyBpb24tY2FyZCB7XHJcbiAgICAgICAgd2lkdGg6IGNhbGMoMzMuMzMlIC0gMTBweCk7XHJcbiAgICB9XHJcbn0iXX0= */\";"],"sourceRoot":"webpack:///"}