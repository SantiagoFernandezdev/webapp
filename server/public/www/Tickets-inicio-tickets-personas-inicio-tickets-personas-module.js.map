{"version":3,"sources":["./src/app/pages/Tickets/inicio-tickets-personas/inicio-tickets-personas.module.ts","./src/app/providers/Api/Tickets.service.ts","./src/app/pages/Tickets/inicio-tickets-personas/inicio-tickets-personas-routing.module.ts","./src/app/pages/Tickets/inicio-tickets-personas/inicio-tickets-personas.page.html","./src/app/pages/Tickets/inicio-tickets-personas/inicio-tickets-personas.page.scss","./src/app/pages/Tickets/inicio-tickets-personas/inicio-tickets-personas.page.ts"],"names":[],"mappings":"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","file":"Tickets-inicio-tickets-personas-inicio-tickets-personas-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InicioTicketsPersonasPageRoutingModule } from './inicio-tickets-personas-routing.module';\n\nimport { InicioTicketsPersonasPage } from './inicio-tickets-personas.page';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InicioTicketsPersonasPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [InicioTicketsPersonasPage]\n})\nexport class InicioTicketsPersonasPageModule {}\n","import { Injectable } from '@angular/core';\r\nimport { URL_SERVER } from '../../../environments/environment';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { map, retryWhen, delayWhen, take, catchError } from 'rxjs/operators';\r\nimport { timer, Observable, from } from 'rxjs';\r\nimport { FileTransferObject, FileTransfer, FileUploadOptions } from '@ionic-native/file-transfer/ngx';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\n\r\nexport class TicketsService {\r\n\r\n    constructor(private http: HttpClient, private router: Router) { }\r\n\r\n    private hanflerError(error: Observable<any>) {\r\n\r\n            let intento = 0;\r\n\r\n            return error.pipe(\r\n                delayWhen(() => timer(3000)),\r\n                map((errorHttp: HttpErrorResponse) => {\r\n\r\n                        console.log('Entramos a intentos');\r\n                        if (errorHttp instanceof ErrorEvent) {\r\n                            throw new Error('Error de Red');\r\n                        } else {\r\n\r\n                            if ( errorHttp.status === 404) {\r\n                               throw new Error(' Página no encontrada');\r\n                            } if ( errorHttp.status === 401) {\r\n                                throw new Error(' No tiene permisos ');\r\n                             } else {\r\n                               // throw new Error(' No se pudo realizar la conexión, comprueba tu red ');\r\n                            }\r\n                           \r\n                        }\r\n                }),\r\n                take(3)\r\n            );\r\n    }\r\n\r\n  \r\n\r\n    disponibilidad(token: any) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.get(`${URL_SERVER}/ticket/disponibilidad`, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    Creardisponibilidad(token: any) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/ticket/disponibilidad`, {}, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n   editardisponibilidad(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/disponibilidad`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    crearSala(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/ticket/salas`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    misSalas(token: any) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.get(`${URL_SERVER}/ticket/salas`, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    crearTicket(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/ticket/crear`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    misTickets(token: any) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.get(`${URL_SERVER}/ticket/lista`, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    misTicketsLista(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/lista/negocio`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    salasNegocio(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/salas/usuario`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    disponibilidadnegocio(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/disponibilidad/negocio`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    ticketsolo(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/solo`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    ticketelimina(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/eliminar`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    crearHoja(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/hoja/dos`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    \r\n    consultarSala(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/ticket/consultar/chat`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InicioTicketsPersonasPage } from './inicio-tickets-personas.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InicioTicketsPersonasPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InicioTicketsPersonasPageRoutingModule {}\n","export default \"<ion-header>\\n    <ion-toolbar color=\\\"oscuro\\\">\\n        <ion-back-button slot=\\\"start\\\" icon=\\\"chevron-back-outline\\\" defaultHref=\\\"/central/menu\\\"></ion-back-button>\\n        <ion-title>Turnos</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refrescando($event)\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"50\\\" pullMax=\\\"150\\\">\\n        <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" refreshingSpinner=\\\"circles\\\">\\n        </ion-refresher-content>\\n    </ion-refresher>\\n\\n    <div class=\\\"divider light\\\"></div>\\n\\n    <div *ngIf=\\\"cargado\\\" class=\\\"salas\\\">\\n        <div class=\\\"flcenter ion-padding\\\" *ngIf=\\\"tickets.length === 0\\\">\\n            <div>\\n                Aún no tiene tickets creados <br>\\n            </div>\\n\\n        </div>\\n\\n\\n        <ion-card mode=\\\"ios\\\" *ngFor=\\\"let ticket of tickets; let i = index;\\\">\\n            <div class=\\\"san\\\" (click)=\\\"viajar(ticket)\\\">\\n                <ion-card-title>Ticket {{ i + 1 }}\\n                </ion-card-title>\\n                <div class=\\\"msg\\\" [class.ocupado]=\\\"ticket.cancelado && !ticket.procesado \\\" [class.procesado]=\\\"ticket.procesado && !ticket.cancelado\\\" [class.espera]=\\\"!ticket.cancelado && !ticket.procesado\\\">\\n                    <strong *ngIf=\\\"!ticket.cancelado && !ticket.procesado\\\">Esperando</strong>\\n                    <strong *ngIf=\\\"ticket.cancelado && !ticket.procesado \\\">Cancelada</strong>\\n                    <strong *ngIf=\\\"ticket.procesado&& !ticket.cancelado\\\">Procesada</strong>\\n                </div>\\n\\n\\n\\n                <ion-card-content>\\n                    <div><strong>Negocio:</strong> {{ticket.negocio.nombrecompleto}}</div>\\n                    <div><strong>Teléfono:</strong> {{ticket.negocio.tel}}</div>\\n                    <div class=\\\"separador\\\"></div>\\n                    <div><strong>Usuario:</strong> {{ticket.creador.nombrecompleto}}</div>\\n                    <div><strong>Teléfono:</strong> {{ticket.creador.tel}}</div>\\n                    <div><strong>Fecha Ticket:</strong> {{ticket.fecha | cambioUTC}}</div>\\n                </ion-card-content>\\n            </div>\\n\\n            <div class=\\\"botones\\\">\\n                <ion-button mode=\\\"ios\\\" color=\\\"light\\\" expand=\\\"block\\\" (click)=\\\"navegar(ticket._id)\\\">Chat</ion-button>\\n            </div>\\n\\n            <div class=\\\"msg2\\\" *ngIf=\\\"!ticket.cancelado && !ticket.procesado\\\" (click)=\\\"eliminar(ticket)\\\">\\n                <strong>Cancelar Ticket</strong>\\n            </div>\\n        </ion-card>\\n    </div>\\n\\n    <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button color=\\\"oscuro\\\" (click)=\\\"crear()\\\">\\n            <ion-icon name=\\\"add\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n\\n</ion-content>\";","export default \".flcenter {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 18px;\\n  text-align: center;\\n}\\n\\n.separador {\\n  width: 100%;\\n  border-bottom: 1px solid #566520;\\n  padding: 5px;\\n  margin-bottom: 5px;\\n}\\n\\nion-card,\\n.san {\\n  position: relative;\\n}\\n\\n.msg {\\n  position: absolute;\\n  top: 0px;\\n  right: 0px;\\n  text-align: center;\\n  padding: 5px 10px;\\n  border-radius: 10px;\\n}\\n\\n.msg2 {\\n  position: absolute;\\n  bottom: 0px;\\n  right: 0px;\\n  text-align: center;\\n  padding: 5px 10px;\\n  border-radius: 10px;\\n  background-color: #7B2E18;\\n  color: #ffffff;\\n  z-index: 10;\\n}\\n\\nion-card-title {\\n  width: 100%;\\n  padding: 5px 15px;\\n}\\n\\n.ocupado {\\n  background-color: #CA0900 !important;\\n  color: #ffffff;\\n}\\n\\n.espera {\\n  background-color: #FFAF00;\\n  color: #ffffff;\\n}\\n\\n.procesado {\\n  background-color: #819830 !important;\\n  color: #ffffff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcaW5pY2lvLXRpY2tldHMtcGVyc29uYXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksV0FBQTtFQUNBLGdDQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUE7O0VBRUksa0JBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFVBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFFQTtFQUNJLG9DQUFBO0VBQ0EsY0FBQTtBQUNKOztBQUVBO0VBQ0kseUJBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxvQ0FBQTtFQUNBLGNBQUE7QUFDSiIsImZpbGUiOiJpbmljaW8tdGlja2V0cy1wZXJzb25hcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZmxjZW50ZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zZXBhcmFkb3Ige1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzU2NjUyMDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxufVxyXG5cclxuaW9uLWNhcmQsXHJcbi5zYW4ge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4ubXNnIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMHB4O1xyXG4gICAgcmlnaHQ6IDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufVxyXG5cclxuLm1zZzIge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzdCMkUxODtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgei1pbmRleDogMTA7XHJcbn1cclxuXHJcbmlvbi1jYXJkLXRpdGxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogNXB4IDE1cHg7XHJcbn1cclxuXHJcbi5vY3VwYWRvIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNDQTA5MDAgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG59XHJcblxyXG4uZXNwZXJhIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkFGMDA7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxufVxyXG5cclxuLnByb2Nlc2FkbyB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODE5ODMwICFpbXBvcnRhbnQ7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { Socket } from 'ngx-socket-io';\nimport { Observable } from 'rxjs';\nimport { InicioService } from 'src/app/providers/Almacenamiento/inicio.service';\nimport { TicketsService } from 'src/app/providers/Api/Tickets.service';\nimport { ToastServices } from 'src/app/providers/Utilidades/ToastService.service';\n\n@Component({\n  selector: 'app-inicio-tickets-personas',\n  templateUrl: './inicio-tickets-personas.page.html',\n  styleUrls: ['./inicio-tickets-personas.page.scss'],\n})\nexport class InicioTicketsPersonasPage implements OnInit {\n\n  configurando = false;\n  usuario = '';\n  habilitado = false;\n  cargado = false;\n  id = '';\n\n  tickets = [];\n\n  constructor(\n    private almacenamiento: InicioService,\n    private toast: ToastServices,\n    private apiTickets: TicketsService,\n    private alert: AlertController,\n    private router: Router,\n    private socket: Socket\n  ) { \n    this.escucharRechazos().subscribe((data: any) => {\n      if (data.exe) {\n        // console.log(data, 'sus')\n        this.tickets.forEach((item) => {\n          if (item._id === data.data._id) {\n              item.cancelado = true;\n          }\n        })\n      } else {\n        this.toast.toastError('No se pudo rechazar tu ticket');\n      }\n    })\n\n\n    this.escucharProcesados().subscribe((data: any) => {\n      if (data.exe) {\n        // console.log(data, 'sus')\n        this.tickets.forEach((item) => {\n          if (item._id === data.data.doc._id) {\n              item.procesado = true;\n          }\n        })\n      } else {\n        this.toast.toastError('No se pudo procesar tu ticket');\n      }\n    })\n\n\n    this.escucharMensajes().subscribe((data: any) => {\n      // console.log(data, ' data suscribe')\n      if (data.msg) {\n        if (data.eli) {\n          this.tickets = this.tickets.filter((item) => {\n            return item._id !== data.id;\n          })\n          this.toast.toastExitoso('Ticket rechazado');\n        }\n      } else {\n        this.toast.toastError('No se pudo rechazar el ticket, inténtelo más tarde');\n      }\n\n    })\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.misTickets();\n    this.almacenamiento.insertarTicket('entrando').then((r) => {\n      if (r) {\n        return true;\n      }\n    });\n  }\n\n  refrescando(event) {\n    this.tickets = [];\n    this.misTickets().then(() => {\n        event.detail.complete();\n    }).catch(() => {\n      event.detail.complete();\n    })\n  }\n\n  async misTickets() {\n    this.configurando = true;\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.apiTickets.misTickets(info.token).subscribe((data: any) => {\n        if (data.exe) {\n          this.tickets = data.response;\n          this.tickets.forEach((item) => {\n            if (!item.procesado && !item.cancelado) {\n              this.socket.emit('ticket', {id: item.negocio._id})\n            }\n            \n          })\n          // console.log('tickets', data)\n        } else {\n          this.toast.toastError('No se pudo traer las tickets, inténtelo más tarde');\n          this.router.navigate(['/central/menu/'])\n        }\n        this.configurando = false;\n        this.cargado = true;\n      }, (err) => {\n        this.toast.toastError('No se pudo traer las tickets, inténtelo más tarde');\n        this.router.navigate(['/central/menu/'])\n        this.configurando = false;\n        this.cargado = true;\n      })\n    }\n  }\n\n  viajar(ticket) {\n    if (!ticket.procesado && !ticket.cancelado) {\n      this.router.navigate(['/central/tickets/tallerticket', ticket.negocio._id])\n    }\n    \n  }\n\n  crear() {\n    this.router.navigate(['/central/menu/control-mapas'])\n  }\n\n  escucharRechazos() {\n    const myobserver = new Observable(observer => {\n      this.socket.on('rechazar', (data) => {\n        observer.next(data);\n      });\n    });\n  \n    return myobserver;\n  }\n\n  escucharProcesados() {\n    const myobserver = new Observable(observer => {\n      this.socket.on('procesar', (data) => {\n        observer.next(data);\n      });\n    });\n  \n    return myobserver;\n  }\n\n\n\n  async eliminar(ticket) {\n    const alert = await this.alert.create({\n      header: '¿Estas seguro de eliminar este ticket?',\n      message: 'se eliminará de forma permanente',\n      buttons: [\n        {\n          text: 'Cancelar',\n          cssClass: 'cancelarAlerta',\n          role: 'cancel',\n        },\n        {\n          text: 'Configurar',\n          cssClass: 'botonalerta',\n          handler: async () => {\n\n              const info = await this.almacenamiento.obtenerToken();\n          \n              if ( info ) {\n                this.socket.emit('rechazar', {idtaller: ticket.negocio._id, id: ticket._id, idusuario: ticket.negocio._id} );\n              }\n          \n            \n          }\n        }\n      ]\n    })\n\n    await alert.present();\n  }\n\n  escucharMensajes() {\n    const myobserver = new Observable(observer => {\n      this.socket.on('mensajeTicket', (data) => {\n        observer.next(data);\n      });\n    });\n  \n    return myobserver;\n  }\n\n  ionViewWillLeave() {\n    this.almacenamiento.eleminarTicket().then((r) => {\n      if (r) {\n        return true;\n      }\n    });\n  }\n\n  \n  async navegar(id) {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n\n        this.apiTickets.consultarSala(info.token, {ticket: id}).subscribe((data: any) => {\n         //  console.log(data)\n          if (data.exe) {\n            if (data.response.length > 0) {\n              if (data.response[0].accesos.length > 0) {\n                this.almacenamiento.insertarChat(data.response[0]).then(() => {\n                  this.router.navigate(['/central/chats/chat']);\n                 \n                }).catch(() => {\n                  this.toast.toastError('No se puede acceder al chat, inténtelo más tarde');\n                })\n              } else {\n                this.toast.Especial('El ticket fue cancelado, ya no puede acceder al chat');\n              }\n             \n            } else {\n              this.toast.toastError('No se puede acceder al chat, inténtelo más tarde');\n            }\n            \n          } else {\n            this.toast.toastError('No se puede acceder al chat, inténtelo más tarde');\n           \n          }\n        }, (err) => {\n          this.toast.toastError('No se puede acceder al chat, inténtelo más tarde');\n        })\n      }\n\n\n   \n  }\n\n\n\n}\n"],"sourceRoot":"webpack:///"}