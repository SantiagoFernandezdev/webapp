(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"5yQV":function(t,e,i){"use strict";i.d(e,"a",function(){return b});var o=i("AytR"),n=i("tk/3"),a=i("coGc"),r=i("lJxs"),s=i("IzEk"),c=i("MtjB"),l=i("PqYM"),d=i("fXoL");let b=(()=>{class t{constructor(t){this.http=t}hanflerError(t){return t.pipe(Object(a.a)(()=>Object(l.a)(3e3)),Object(r.a)(t=>{if(console.log("Entramos a intentos"),t instanceof ErrorEvent)throw new Error("Error de Red");if(404===t.status)throw new Error(" P\xe1gina no encontrada")}),Object(s.a)(3))}crearInventario(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/tipo/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}actualizarInventario(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/cierre/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerInventarios(t){const e={headers:new n.c({"x-token":t})};return this.http.get(`${o.a}/ivt/tipo/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerInventario(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.get(`${o.a}/ivt/tipo/uno`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarAcceso(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/tipo/accesos/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}BuscarUsuarios(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/empleados/buscar/`,{patron:e},i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearEmpleado(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/empleados/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarEmpleado(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/empleados/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerEmpleados(t){const e={headers:new n.c({"x-token":t})};return this.http.get(`${o.a}/empleados/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarEmpleados(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.delete(`${o.a}/empleados/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearProveedor(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/proveedores/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarProveedor(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/proveedores/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarProveedor(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.delete(`${o.a}/ivt/proveedores/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProveedor(t,e){const i={headers:new n.c({"x-token":t,"x-ivt":e})};return this.http.get(`${o.a}/ivt/proveedores/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearCategoria(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/categorias/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarCategoria(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/categorias/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarCategoria(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.delete(`${o.a}/ivt/categorias/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerCategoria(t,e){const i={headers:new n.c({"x-token":t,"x-ivt":e})};return this.http.get(`${o.a}/ivt/categorias/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearProducto(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/productos/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarProducto(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarProducto(t,e){const i={headers:new n.c({"x-token":t,"x-id":e})};return this.http.delete(`${o.a}/ivt/productos/`,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProducto(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/filtro/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProductoEstadistica(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/filtro/estadistica/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProductosPorInventario(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/buscarivt/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}buscarProducto(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/buscar`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}buscarProductoEntrada(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/buscar/entrada`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearEntrada(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/entradas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerEntrada(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/entradas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarEntradas(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/entradas/buscar/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarEntradasPatron(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/entradas/buscar/patron/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearSalida(t,e){const i={headers:new n.c({"x-token":t})};return this.http.post(`${o.a}/ivt/salidas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerSalida(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/salidas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarSalidas(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/salidas/buscar/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarSalidasPatron(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/salidas/buscar/patron/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}CargarInventarios(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/tipo/almacen/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}CierresInventario(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/cierre/buscar/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}MovCantidades(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/mov/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}MovCantidades2(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/mov/salidas/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerMovmientos(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/movimientos/filtro/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerAgotados(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/agotados/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProximos(t,e){const i={headers:new n.c({"x-token":t})};return this.http.put(`${o.a}/ivt/productos/proximos/`,e,i).pipe(Object(c.a)(t=>this.hanflerError(t)))}}return t.\u0275fac=function(e){return new(e||t)(d.Sb(n.a))},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},NaAF:function(t,e,i){"use strict";i.r(e),i.d(e,"FacturaNuevaPageModule",function(){return ot});var o=i("ofXK"),n=i("3Pt+"),a=i("TEn/"),r=i("tyNb"),s=i("mrSG"),c=i("fXoL"),l=i("fsfq"),d=i("a/9d"),b=i("fmoy"),h=i("r3ab"),u=i("AQLj"),p=i("5yQV"),f=i("oQG1"),v=i("fqim");function m(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ion-item-divider",19),c.Ob(1,"ion-label",20),c.wc(2," Sacar producto del inventario "),c.Nb(),c.Ob(3,"ion-toggle",21),c.Wb("ionChange",function(e){return c.pc(t),c.Yb().cambiarr(e)}),c.Nb(),c.Nb()}if(2&t){const t=c.Yb();c.Ab(3),c.fc("checked",t.mostrar)}}function g(t,e){1&t&&c.Mb(0,"ion-spinner",22)}function O(t,e){if(1&t&&(c.Ob(0,"ion-select-option",26),c.wc(1),c.Nb()),2&t){const t=e.$implicit;c.gc("value",t._id),c.Ab(1),c.xc(t.name)}}function N(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ion-item",23),c.Ob(1,"ion-label"),c.wc(2,"Escoge el inventario"),c.Nb(),c.Ob(3,"ion-select",24),c.Wb("ionChange",function(e){return c.pc(t),c.Yb().cambioInventario(e)}),c.vc(4,O,2,2,"ion-select-option",25),c.Nb(),c.Nb()}if(2&t){const t=c.Yb();c.Ab(4),c.fc("ngForOf",t.inventarios)}}function x(t,e){if(1&t&&(c.Ob(0,"div"),c.Ob(1,"strong"),c.wc(2,"C\xf3digo: "),c.Nb(),c.wc(3),c.Nb()),2&t){const t=c.Yb().$implicit;c.Ab(3),c.yc(" ",t.codigo,"")}}function w(t,e){1&t&&(c.Ob(0,"ion-chip",34),c.wc(1,"AL DIA"),c.Nb())}function C(t,e){1&t&&(c.Ob(0,"ion-chip",35),c.wc(1,"SE EST\xc1 AGOTANDO"),c.Nb())}function E(t,e){1&t&&(c.Ob(0,"ion-chip",36),c.wc(1,"PRODUCTO AGOTADO"),c.Nb())}function j(t,e){if(1&t&&(c.Ob(0,"ion-item"),c.Ob(1,"ion-label"),c.Ob(2,"div"),c.wc(3),c.Nb(),c.vc(4,x,4,1,"div",8),c.Ob(5,"div"),c.Ob(6,"strong"),c.wc(7,"Categoria: "),c.Nb(),c.Ob(8,"strong",29),c.wc(9),c.Nb(),c.Nb(),c.Ob(10,"div",16),c.Ob(11,"strong"),c.wc(12,"Existencia: "),c.Ob(13,"span",17),c.wc(14),c.Nb(),c.Nb(),c.vc(15,w,2,0,"ion-chip",30),c.vc(16,C,2,0,"ion-chip",31),c.vc(17,E,2,0,"ion-chip",32),c.Nb(),c.Nb(),c.Mb(18,"ion-radio",33),c.Nb()),2&t){const t=e.$implicit;c.Ab(3),c.xc(t.nombre),c.Ab(1),c.fc("ngIf",t.codigo),c.Ab(5),c.xc(t.categoria),c.Ab(5),c.xc(t.existencia),c.Ab(1),c.fc("ngIf",t.existencia>t.limote),c.Ab(1),c.fc("ngIf",t.existencia<=t.limite&&t.existencia>0),c.Ab(1),c.fc("ngIf",0===t.existencia),c.Ab(1),c.fc("value",t)}}function k(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div"),c.Ob(1,"ion-searchbar",27),c.Wb("ionChange",function(e){return c.pc(t),c.Yb().productoHijo(e)}),c.Nb(),c.Mb(2,"br"),c.Ob(3,"ion-radio-group",24),c.Wb("ionChange",function(e){return c.pc(t),c.Yb().prodDestino(e)}),c.vc(4,j,19,8,"ion-item",28),c.Nb(),c.Nb()}if(2&t){const t=c.Yb();c.Ab(4),c.fc("ngForOf",t.productosHijos)}}function M(t,e){1&t&&(c.Ob(0,"ion-item",11),c.Ob(1,"ion-label",20),c.wc(2," Nombre del prodcuto "),c.Nb(),c.Nb())}function A(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ion-item",13),c.Ob(1,"ion-input",37),c.Wb("ngModelChange",function(e){return c.pc(t),c.Yb().nombre=e}),c.Nb(),c.Nb()}if(2&t){const t=c.Yb();c.Ab(1),c.fc("ngModel",t.nombre)}}let y=(()=>{class t{constructor(t,e,i,o,n,a,r,s,c,l,d,b){this.modalCtrl=t,this.actionCtrl=e,this.almacenamiento=i,this.camera=o,this.toast=n,this.myLoading=a,this.hojaApi=r,this.activeRoute=s,this.router=c,this.nav=l,this.ivtApi=d,this.usuarioApi=b,this.titulo="",this.textoActual="",this.titulotipo="",this.load=!1,this.mostrar=!1,this.mod=!1,this.listaModulos="",this.ivtSelect="",this.idprod="",this.ivtid="",this.prod="",this.cod="",this.productosHijos=[],this.inventarios=[],this.cargado=!1,this.cantidad=0,this.existencia=0,this.precio=0,this.nombre="",this.total=0,this.necesita=!1}ngOnInit(){}ionViewWillEnter(){return Object(s.a)(this,void 0,void 0,function*(){console.log(this.rep),this.modulos()})}cerrar(){this.modalCtrl.dismiss()}cambioInventario(t){return Object(s.a)(this,void 0,void 0,function*(){this.ivtSelect=t.detail.value})}modulos(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(t._id&&""!==t._id?this.usuarioApi.modulos(t.token).subscribe(t=>{t.exe?t.response.length>0&&(this.listaModulos=t.response[0].modulos,this.listaModulos.includes("inventarios")&&(this.mod=!0)):this.toast.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")}):this.nav.navigateRoot("/home"))})}productoHijo(t){return Object(s.a)(this,void 0,void 0,function*(){if(""!==t.detail.value){const e=yield this.almacenamiento.obtenerToken();e&&this.ivtApi.leerProductosPorInventario(e.token,{id:this.ivtSelect,patron:t.detail.value}).subscribe(t=>{t.exe?this.productosHijos=t.response:this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")})}else this.productosHijos=[]})}prodDestino(t){console.log(t),this.idprod=t.detail.value._id,this.prod=t.detail.value.nombre,this.cod=t.detail.value.codigo,0===t.detail.value.existencia?this.toast.toastError("No puede escoger este producto ya que se encuentra agotado"):(this.cantidad>this.existencia&&this.toast.toastError("No puede tener una cantidad mayor a la exisencia del producto, por favor verifique"),this.nombre=t.detail.value.nombre,this.existencia=t.detail.value.existencia,this.necesita=!0)}cambiarr(t){t.detail.checked?(this.inventarios=[],this.cargarInventarios(),this.mostrar=!0):this.mostrar=!1}cargarInventarios(){return Object(s.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&this.ivtApi.CargarInventarios(t.token,{creador:t._id}).subscribe(t=>Object(s.a)(this,void 0,void 0,function*(){t.exe?t.response.forEach(t=>{this.inventarios.push(t)}):this.toast.toastError("No se traer la lista de inventarios, intentelo m\xe1s tarde"),this.load=!1}),t=>{this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1})})}salidaCambioProd(t,e){"precio"===e?this.precio=t.detail.value:"canti"===e&&(this.mostrar&&t.detail.value>this.existencia?this.toast.toastError("No puede tener una cantidad mayor a la exisencia del producto, por favor verifique"):this.cantidad=t.detail.value),this.total=this.precio*this.cantidad}guardar(){this.modalCtrl.dismiss({nombre:this.nombre,cantidad:this.cantidad,precio:this.precio,ivt:this.ivtSelect,idprod:this.idprod,total:this.total,necesita:this.necesita,cod:this.cod})}cancelar(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(a.qb),c.Lb(a.a),c.Lb(l.a),c.Lb(d.a),c.Lb(b.a),c.Lb(h.a),c.Lb(u.a),c.Lb(r.a),c.Lb(r.g),c.Lb(a.rb),c.Lb(p.a),c.Lb(f.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-modal-factura-item"]],inputs:{rep:"rep",tipoVista:"tipoVista",id:"id"},decls:40,vars:14,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],["color","light","lines","none",4,"ngIf"],["name","crescent","color","primary",4,"ngIf"],["color","light",4,"ngIf"],[4,"ngIf"],["class","sinfondo","lines","none",4,"ngIf"],["class","sinfondo",4,"ngIf"],["lines","none",1,"sinfondo"],["slot","start"],[1,"sinfondo"],["type","number","placeholder","Digitar valor",3,"disabled","ngModel","ionChange","ngModelChange"],[1,"total"],[1,"flexbet"],[1,"verdei"],["color","oscuro","expand","block","mode","ios","shape","round",1,"btn",3,"click"],["color","light","lines","none"],["slot","start",1,"ion-text-wrap"],["slot","end","color","primary","mode","ios",3,"checked","ionChange"],["name","crescent","color","primary"],["color","light"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placeholder","Buscar producto ","debounce","500",3,"ionChange"],[4,"ngFor","ngForOf"],[1,"rojoi"],["color","success",4,"ngIf"],["color","warning",4,"ngIf"],["color","danger",4,"ngIf"],["slot","end","mode","md",3,"value"],["color","success"],["color","warning"],["color","danger"],["type","text","placeholder","Nombre del producto",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar",1),c.Ob(2,"ion-title"),c.wc(3,"Agregar Item"),c.Nb(),c.Ob(4,"ion-buttons",2),c.Ob(5,"ion-button",3),c.Wb("click",function(){return e.cerrar()}),c.Mb(6,"ion-icon",4),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(7,"ion-content"),c.Ob(8,"ion-list"),c.vc(9,m,4,1,"ion-item-divider",5),c.Mb(10,"br"),c.vc(11,g,1,0,"ion-spinner",6),c.Mb(12,"br"),c.vc(13,N,5,1,"ion-item",7),c.vc(14,k,5,1,"div",8),c.vc(15,M,3,0,"ion-item",9),c.vc(16,A,2,1,"ion-item",10),c.Mb(17,"br"),c.Ob(18,"ion-item",11),c.Ob(19,"ion-label",12),c.wc(20," Precio Unitario "),c.Nb(),c.Nb(),c.Ob(21,"ion-item",13),c.Ob(22,"ion-input",14),c.Wb("ionChange",function(t){return e.salidaCambioProd(t,"precio")})("ngModelChange",function(t){return e.precio=t}),c.Nb(),c.Nb(),c.Ob(23,"ion-item",11),c.Ob(24,"ion-label",12),c.wc(25," Cantidad "),c.Nb(),c.Nb(),c.Ob(26,"ion-item",13),c.Ob(27,"ion-input",14),c.Wb("ionChange",function(t){return e.salidaCambioProd(t,"canti")})("ngModelChange",function(t){return e.cantidad=t}),c.Nb(),c.Nb(),c.Mb(28,"br"),c.Mb(29,"br"),c.Ob(30,"div",15),c.Ob(31,"div",16),c.Ob(32,"strong"),c.wc(33,"Total: "),c.Nb(),c.Ob(34,"span",17),c.wc(35),c.Zb(36,"decimales"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(37,"div",16),c.Ob(38,"ion-button",18),c.Wb("click",function(){return e.guardar()}),c.wc(39,"GUARDAR"),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.Ab(9),c.fc("ngIf",e.mod),c.Ab(2),c.fc("ngIf",e.load),c.Ab(2),c.fc("ngIf",e.mostrar),c.Ab(1),c.fc("ngIf",e.mostrar&&""!==e.ivtSelect),c.Ab(1),c.fc("ngIf",!e.mostrar),c.Ab(1),c.fc("ngIf",!e.mostrar),c.Ab(6),c.fc("disabled",!e.idprod&&e.mostrar)("ngModel",e.precio),c.Ab(5),c.fc("disabled",!e.idprod&&e.mostrar)("ngModel",e.cantidad),c.Ab(8),c.yc("$",c.bc(36,11,e.total,"es-CO"),""))},directives:[a.z,a.lb,a.jb,a.k,a.j,a.A,a.t,a.L,o.j,a.F,a.K,a.E,a.sb,n.i,n.k,a.G,a.kb,a.d,a.cb,a.X,a.xb,o.i,a.Y,a.U,a.yb,a.O,a.N,a.vb,a.r],pipes:[v.a],styles:[""]}),t})();var I=i("6POk");function F(t,e){1&t&&(c.Ob(0,"div",8),c.Mb(1,"ion-spinner",9),c.Ob(2,"strong"),c.wc(3,"Cargando la interfaz..."),c.Nb(),c.Nb())}function $(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ion-item-sliding"),c.Ob(1,"ion-item"),c.Ob(2,"ion-label",25),c.Ob(3,"div"),c.wc(4),c.Nb(),c.Ob(5,"div",26),c.Ob(6,"strong"),c.wc(7,"Cantidad: "),c.Nb(),c.Ob(8,"span"),c.wc(9),c.Nb(),c.Nb(),c.Ob(10,"div",26),c.Ob(11,"strong"),c.wc(12,"Valor unitario: "),c.Nb(),c.Ob(13,"span"),c.wc(14),c.Zb(15,"decimales"),c.Nb(),c.Nb(),c.Ob(16,"div",26),c.Ob(17,"strong"),c.wc(18,"Total: "),c.Nb(),c.Ob(19,"span"),c.wc(20),c.Zb(21,"decimales"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(22,"ion-item-options",27),c.Ob(23,"ion-item-option",28),c.Wb("click",function(){c.pc(t);const i=e.index;return c.Yb(3).eliminar(i)}),c.Mb(24,"ion-icon",29),c.Nb(),c.Nb(),c.Nb()}if(2&t){const t=e.$implicit;c.Ab(4),c.xc(t.item),c.Ab(5),c.xc(t.cantidad),c.Ab(5),c.yc("$",c.bc(15,4,t.valoru,"es-CO"),""),c.Ab(6),c.yc(" $",c.bc(21,7,t.total,"es-CO"),"")}}function P(t,e){if(1&t&&(c.Ob(0,"div",32),c.Ob(1,"h3"),c.Ob(2,"strong",33),c.wc(3,"Subtotal: "),c.Nb(),c.Ob(4,"span"),c.wc(5),c.Zb(6,"decimales"),c.Nb(),c.Nb(),c.Nb()),2&t){const t=c.Yb().$implicit;c.Ab(5),c.yc("$",c.bc(6,1,t.subtotal,"es-CO"),"")}}function L(t,e){if(1&t&&(c.Ob(0,"div",32),c.Ob(1,"h3"),c.Ob(2,"strong",34),c.wc(3,"Iva: "),c.Nb(),c.Ob(4,"span"),c.wc(5),c.Zb(6,"decimales"),c.Nb(),c.Nb(),c.Nb()),2&t){const t=c.Yb(2).$implicit;c.Ab(5),c.yc("$",c.bc(6,1,t.iva,"es-CO"),"")}}function Y(t,e){if(1&t&&(c.Ob(0,"div"),c.vc(1,L,7,4,"div",31),c.Nb()),2&t){const t=c.Yb(4);c.Ab(1),c.fc("ngIf",t.items.length>0&&t.data.iva)}}function W(t,e){if(1&t&&(c.Ob(0,"div",32),c.Ob(1,"h3"),c.Ob(2,"strong",34),c.wc(3,"Iva: "),c.Nb(),c.Ob(4,"span"),c.wc(5),c.Zb(6,"decimales"),c.Nb(),c.Nb(),c.Nb()),2&t){const t=c.Yb(2).$implicit;c.Ab(5),c.yc("$",c.bc(6,1,t.iva,"es-CO"),"")}}function T(t,e){if(1&t&&(c.Ob(0,"div"),c.vc(1,W,7,4,"div",31),c.Nb()),2&t){const t=c.Yb(4);c.Ab(1),c.fc("ngIf",t.items.length>0&&t.info.iva)}}function _(t,e){if(1&t&&(c.Ob(0,"div",32),c.Ob(1,"h3"),c.Ob(2,"strong"),c.wc(3,"Total: "),c.Nb(),c.Ob(4,"span"),c.wc(5),c.Zb(6,"decimales"),c.Nb(),c.Nb(),c.Nb()),2&t){const t=c.Yb().$implicit;c.Ab(5),c.yc("$",c.bc(6,1,t.total,"es-CO"),"")}}function z(t,e){if(1&t&&(c.Ob(0,"div",30),c.vc(1,P,7,4,"div",31),c.vc(2,Y,2,1,"div",7),c.vc(3,T,2,1,"div",7),c.vc(4,_,7,4,"div",31),c.Nb()),2&t){const t=c.Yb(3);c.Ab(1),c.fc("ngIf",t.items.length>0&&t.carga),c.Ab(1),c.fc("ngIf",t.data),c.Ab(1),c.fc("ngIf",t.info),c.Ab(1),c.fc("ngIf",t.items.length>0&&t.carga)}}function S(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ion-list"),c.Ob(1,"ion-item",11),c.Ob(2,"ion-label"),c.wc(3,"A\xf1adir un nuevo item"),c.Nb(),c.Ob(4,"ion-buttons",12),c.Ob(5,"ion-button",3),c.Wb("click",function(){return c.pc(t),c.Yb(2).crear()}),c.Mb(6,"ion-icon",13),c.Nb(),c.Nb(),c.Nb(),c.Mb(7,"div",14),c.vc(8,$,25,10,"ion-item-sliding",15),c.Mb(9,"div",14),c.vc(10,z,5,4,"div",16),c.Mb(11,"div",14),c.Ob(12,"ion-item-divider",17),c.Ob(13,"ion-label"),c.wc(14,"Nombre del cliente"),c.Nb(),c.Nb(),c.Ob(15,"ion-item",18),c.Ob(16,"ion-input",19),c.Wb("ngModelChange",function(e){return c.pc(t),c.Yb(2).cliente=e}),c.Nb(),c.Nb(),c.Mb(17,"br"),c.Ob(18,"ion-item-divider",17),c.Ob(19,"ion-label"),c.wc(20,"Tel\xe9fono del cliente"),c.Nb(),c.Nb(),c.Ob(21,"ion-item",18),c.Ob(22,"ion-input",20),c.Wb("ngModelChange",function(e){return c.pc(t),c.Yb(2).telefono=e}),c.Nb(),c.Nb(),c.Mb(23,"br"),c.Ob(24,"ion-item-divider",17),c.Ob(25,"ion-label"),c.wc(26,"Direcci\xf3n del cliente"),c.Nb(),c.Nb(),c.Ob(27,"ion-item",18),c.Ob(28,"ion-input",21),c.Wb("ngModelChange",function(e){return c.pc(t),c.Yb(2).direccion=e}),c.Nb(),c.Nb(),c.Mb(29,"br"),c.Ob(30,"ion-item-divider",17),c.Ob(31,"ion-label"),c.wc(32,"C\xe9dula o Nit del cliente"),c.Nb(),c.Nb(),c.Ob(33,"ion-item",18),c.Ob(34,"ion-input",22),c.Wb("ngModelChange",function(e){return c.pc(t),c.Yb(2).cc=e}),c.Nb(),c.Nb(),c.Mb(35,"br"),c.Ob(36,"ion-item-divider",17),c.Ob(37,"ion-label"),c.wc(38,"Ciudad del cliente"),c.Nb(),c.Nb(),c.Ob(39,"ion-item",18),c.Ob(40,"ion-input",23),c.Wb("ngModelChange",function(e){return c.pc(t),c.Yb(2).ciudad=e}),c.Nb(),c.Nb(),c.Mb(41,"div",14),c.Ob(42,"ion-button",24),c.Wb("click",function(){return c.pc(t),c.Yb(2).guardar()}),c.wc(43,"CREAR FACTURA"),c.Nb(),c.Nb()}if(2&t){const t=c.Yb(2);c.Ab(8),c.fc("ngForOf",t.items),c.Ab(2),c.fc("ngForOf",t.totales),c.Ab(6),c.fc("ngModel",t.cliente),c.Ab(6),c.fc("ngModel",t.telefono),c.Ab(6),c.fc("ngModel",t.direccion),c.Ab(6),c.fc("ngModel",t.cc),c.Ab(6),c.fc("ngModel",t.ciudad)}}function D(t,e){if(1&t&&(c.Ob(0,"div",10),c.vc(1,S,44,7,"ion-list",7),c.Nb()),2&t){const t=c.Yb();c.Ab(1),c.fc("ngIf",t.data||t.info)}}function q(t,e){1&t&&c.Mb(0,"div")}let R=(()=>{class t{constructor(t,e,i,o,n){this.modalCtrl=t,this.almacenamiento=e,this.toast=i,this.alertCtrl=o,this.apiFactura=n,this.items=[],this.totales=[],this.subtotal=0,this.iva=0,this.total=0,this.cliente="",this.telefono="0",this.direccion="",this.cc="",this.ciudad="",this.id="",this.carga=!1,this.vista=1,this.cargador=!1}ngOnInit(){}ionViewWillEnter(){console.log(this.info),this.cargador=!0,this.info?(this.vista=1,this.items=this.info.lista,this.subtotal=this.info.subtotal,this.total=this.info.total,this.iva=this.info.ivatotal,this.ciudad=this.info.ciudad,this.telefono=this.info.tel,this.cc=this.info.nitcc,this.cliente=this.info.cliente,this.direccion=this.info.direccion,this.carga=!0,this.totales.push({total:this.total,subtotal:this.subtotal,iva:this.iva}),console.log(this.totales)):this.vista=1}cerrar(){this.modalCtrl.dismiss()}crear(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:y});yield t.present();const e=yield t.onWillDismiss();e&&e.data&&(this.items.push({valoru:e.data.precio,item:e.data.nombre,cantidad:e.data.cantidad,total:e.data.total,ivt:e.data.ivt,idprod:e.data.idprod,necesita:e.data.necesita,cod:e.data.cod}),this.carga=!1,this.calculo())})}eliminar(t){this.items.splice(t,1),this.calculo()}calculo(){this.subtotal=0,this.total=0,this.iva=0;let t=0;this.totales=[],this.items.forEach(e=>{t+=parseFloat(e.total)}),this.subtotal=t,this.data?this.data.iva&&(this.iva=.19*this.subtotal):this.info.iva&&(this.iva=.19*this.subtotal),this.total=this.subtotal+this.iva,this.carga=!0,this.totales.push({total:this.total,subtotal:this.subtotal,iva:this.iva})}guardar(){return Object(s.a)(this,void 0,void 0,function*(){if(this.items.length>0&&""!==this.cliente&&""!==this.cc){const t=yield this.almacenamiento.obtenerToken();t&&(this.data?this.apiFactura.guardarConfiguracion(t.token,{cliente:this.cliente,direccion:this.direccion,telefono:this.telefono,iva:this.iva,cc:this.cc,ciudad:this.ciudad,subtotal:this.subtotal,total:this.total,lista:this.items,descuento:0,idconfig:this.data.id}).subscribe(t=>{t.exe?(this.toast.toastExitoso("Factura actualizada con \xe9xito"),this.modalCtrl.dismiss({exe:!0})):this.toast.toastError("No se pudo guardar la informaci\xf3n de la factura, intentelo mpas tarde")},t=>{this.toast.toastError("No se pudo guardar la informaci\xf3n de la factura, intentelo mpas tarde")}):this.apiFactura.editarFactura(t.token,{id:this.info._id,cliente:this.cliente,direccion:this.direccion,telefono:this.telefono,iva:this.iva,cc:this.cc,ciudad:this.ciudad,subtotal:this.subtotal,total:this.total,lista:this.items,descuento:0}).subscribe(t=>{t.exe?(this.toast.toastExitoso("Factura actualizada con \xe9xito"),this.modalCtrl.dismiss({exe:!0})):this.toast.toastError("No se pudo actualizar la informaci\xf3n de la factura, intentelo mpas tarde")},t=>{this.toast.toastError("No se pudo actualizar la informaci\xf3n de la factura, intentelo mpas tarde")}))}else this.toast.toastError("La informaci\xf3n requerida a\xfan esta icompleta, veirifca el nombre del cliente, su c\xe9dula y la descripci\xf3n de la factura")})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(a.qb),c.Lb(l.a),c.Lb(b.a),c.Lb(a.b),c.Lb(I.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-modal-factura"]],inputs:{data:"data",info:"info"},decls:11,vars:3,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","start"],[3,"click"],["name","chevron-back-outline","slot","icon-only"],["class","cargador",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],[1,"cargador"],["name","crescent","color","barra"],[1,""],["color","light"],["slot","end"],["name","add-outline","slot","icon-only"],[1,"divider"],[4,"ngFor","ngForOf"],["class","td",4,"ngFor","ngForOf"],["color","light","lines","none"],["mode","ios",1,"sinfondo"],["type","text","placeholder","Nombre del cliente",3,"ngModel","ngModelChange"],["type","text","placeholder","Tel\xe9fono del cliente",3,"ngModel","ngModelChange"],["type","text","placeholder","Direcci\xf3n del cliente",3,"ngModel","ngModelChange"],["type","text","placeholder","C\xe9dula o Nit del cliente",3,"ngModel","ngModelChange"],["type","text","placeholder","Ciudad del cliente",3,"ngModel","ngModelChange"],["mode","ios","color","oscuro","expand","block",3,"click"],[1,"ion-text-wrap"],[1,"fl"],["side","end"],["color","danger",3,"click"],["name","trash-outline","slot","icon-only"],[1,"td"],["class","valores",4,"ngIf"],[1,"valores"],[1,"verdei"],[1,"rojoi"]],template:function(t,e){1&t&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar",1),c.Ob(2,"ion-buttons",2),c.Ob(3,"ion-button",3),c.Wb("click",function(){return e.cerrar()}),c.Mb(4,"ion-icon",4),c.Nb(),c.Nb(),c.Ob(5,"ion-title"),c.wc(6,"Crear Factura"),c.Nb(),c.Nb(),c.Nb(),c.Ob(7,"ion-content"),c.vc(8,F,4,0,"div",5),c.vc(9,D,2,1,"div",6),c.vc(10,q,1,0,"div",7),c.Nb()),2&t&&(c.Ab(8),c.fc("ngIf",!e.cargador),c.Ab(1),c.fc("ngIf",1===e.vista),c.Ab(1),c.fc("ngIf",2===e.vista))},directives:[a.z,a.lb,a.k,a.j,a.A,a.jb,a.t,o.j,a.cb,a.L,a.F,a.K,o.i,a.G,a.E,a.yb,n.i,n.k,a.J,a.I,a.H],pipes:[v.a],styles:[".valores[_ngcontent-%COMP%]{font-size:24px!important;margin:0!important}.valores[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.verdei[_ngcontent-%COMP%]{color:green}.rojoi[_ngcontent-%COMP%]{color:red}.cargador[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.cargador[_ngcontent-%COMP%], .fl[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.fl[_ngcontent-%COMP%]{justify-content:space-between}.td[_ngcontent-%COMP%]{padding:0 10px;background:#fcf3aa}"]}),t})();const G=["inifinito"];function H(t,e){1&t&&(c.Ob(0,"ion-list"),c.Ob(1,"ion-item-divider",1),c.Ob(2,"ion-label",13),c.wc(3,"La factura se estructura de acuerdo a los par\xe1metros de configuraci\xf3n establecidos"),c.Nb(),c.Nb(),c.Nb())}function J(t,e){1&t&&(c.Ob(0,"div",14),c.Mb(1,"ion-spinner",15),c.Mb(2,"br"),c.Ob(3,"h3",16),c.wc(4,"Cargando informaci\xf3n..."),c.Nb(),c.Nb())}function U(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",17),c.Mb(1,"img",18),c.Ob(2,"h3",16),c.wc(3,"No tiene facturas creadas hasta el momento"),c.Nb(),c.Ob(4,"ion-button",19),c.Wb("click",function(){return c.pc(t),c.Yb().abrir()}),c.wc(5,"Crear Factura"),c.Nb(),c.Nb()}}function V(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ion-item-sliding"),c.Ob(1,"ion-item"),c.Ob(2,"ion-label",13),c.Ob(3,"div",20),c.Ob(4,"div",21),c.wc(5),c.Nb(),c.Nb(),c.Ob(6,"div",22),c.Ob(7,"strong"),c.wc(8,"Total: "),c.Nb(),c.Ob(9,"span"),c.wc(10),c.Zb(11,"decimales"),c.Nb(),c.Nb(),c.Ob(12,"div",22),c.Ob(13,"strong"),c.wc(14,"Cliente: "),c.Nb(),c.Ob(15,"span"),c.wc(16),c.Nb(),c.Nb(),c.Ob(17,"div",22),c.Ob(18,"strong"),c.wc(19,"Nit o CC: "),c.Nb(),c.Ob(20,"span"),c.wc(21),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(22,"ion-item-options",23),c.Ob(23,"ion-item-option",24),c.Wb("click",function(){c.pc(t);const i=e.$implicit;return c.Yb().alerta(i._id)}),c.Mb(24,"ion-icon",25),c.Nb(),c.Ob(25,"ion-item-option",26),c.Wb("click",function(){c.pc(t);const i=e.$implicit;return c.Yb().editar(i)}),c.Mb(26,"ion-icon",27),c.Nb(),c.Nb(),c.Nb()}if(2&t){const t=e.$implicit;c.Ab(5),c.yc("FACTURA N\xdaMERO ",t.consecutivo,""),c.Ab(5),c.yc("$",c.bc(11,4,t.total,"es-CO"),""),c.Ab(6),c.xc(t.cliente),c.Ab(5),c.xc(t.cc)}}function Z(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ion-infinite-scroll",28,29),c.Wb("ionInfinite",function(e){return c.pc(t),c.Yb().loadData(e)}),c.Mb(2,"ion-infinite-scroll-content",30),c.Nb()}}function X(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ion-fab",31),c.Ob(1,"ion-fab-button",32),c.Wb("click",function(){return c.pc(t),c.Yb().abrir()}),c.Mb(2,"ion-icon",33),c.Nb(),c.Nb()}}const Q=[{path:"",component:(()=>{class t{constructor(t,e,i,o,n,a){this.almacenamiento=t,this.toast=e,this.apiFactura=i,this.modalCtrl=o,this.loading=n,this.alert=a,this.facturas=[],this.car=!0,this.load=!1,this.nuevo=!1,this.mostrar=!1,this.nit="",this.direccion="",this.regimen="",this.titular="",this.iva=!1,this.valorIva=0,this.id="",this.mensaje=!0,this.desde=0,this.patron=""}ngOnInit(){setTimeout(()=>{this.mensaje=!1},7e3)}ionViewWillEnter(){this.mostrar=!1,this.consultar()}refrescando(t){this.cargarFacturas().then(()=>{t.target.complete()}).catch(()=>t.target.complete())}cargarFacturas(){return Object(s.a)(this,void 0,void 0,function*(){this.desde=0,this.load&&(this.infinite.disabled=!1);const t=yield this.almacenamiento.obtenerToken();t&&this.apiFactura.consultarFacturas(t.token,{desde:this.desde}).subscribe(t=>{t.exe?this.facturas=t.response:this.toast.toastError("No se pudo cargar las facturas, intentelo m\xe1s tarde"),this.load=!0},t=>{this.toast.toastError("No se pudo cargar las facturas, intentelo m\xe1s tarde")})})}buscar(t){return Object(s.a)(this,void 0,void 0,function*(){if(""!==t.detail.value){this.desde=0,this.infinite.disabled=!1,this.patron=t.detail.value;const e=yield this.almacenamiento.obtenerToken();e&&this.apiFactura.consultarFacturas(e.token,{desde:this.desde,patron:this.patron}).subscribe(t=>{t.exe?(this.facturas=t.response,0===t.response.length&&(this.desde=0)):this.toast.toastError("No se pudo realizar la b\xfasqueda, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo realizar la b\xfasqueda, intentelo m\xe1s tarde")})}else this.desde=0})}loadData(t){return Object(s.a)(this,void 0,void 0,function*(){this.desde=this.desde+15;const e=yield this.almacenamiento.obtenerToken();e&&(""===this.patron?this.apiFactura.consultarFacturas(e.token,{desde:this.desde,patron:this.patron}).subscribe(e=>{e.exe?e.response.length>0?(e.response.forEach(t=>{this.facturas.push(t)}),t.target.complete()):(t.target.disabled=!0,this.desde=0):this.toast.toastError("No se pudo traer las hojas de vida, int\xe9ntelo m\xe1s tarde.")},t=>{this.toast.toastError("No se pudo traer las hojas de vida, int\xe9ntelo m\xe1s tarde.")}):this.apiFactura.consultarFacturas(e.token,{desde:this.desde,patron:this.patron}).subscribe(e=>{e.exe?e.response.length>0?(e.response.forEach(t=>{this.facturas.push(t)}),t.target.complete()):(t.target.disabled=!0,this.desde=0):this.toast.toastError("No se pudo realizar la b\xfasqueda, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo realizar la b\xfasqueda, intentelo m\xe1s tarde")}))})}consultar(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&this.apiFactura.consultarConfiguracion(t.token).subscribe(t=>{t.exe?t.response?(this.regimen=t.response.regimen,this.direccion=t.response.direccion,this.titular=t.response.titular,this.nit=t.response.nit,this.iva=t.response.iva,this.valorIva=t.response.valorIva,this.id=t.response._id,this.mostrar=!0,this.cargarFacturas()):this.nuevo=!0:this.toast.toastError("No se pudo consultar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")},t=>{this.toast.toastError("No se pudo consultar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")})})}abrir(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:R,componentProps:{data:{iva:this.iva,regimen:this.regimen,direccion:this.direccion,nit:this.nit,valorIva:this.valorIva,id:this.id}}});yield t.present();const e=yield t.onWillDismiss();e&&e.data&&e.data.exe&&this.cargarFacturas()})}editar(t){return Object(s.a)(this,void 0,void 0,function*(){t.iva=this.iva;const e=yield this.modalCtrl.create({component:R,componentProps:{info:t}});yield e.present();const i=yield e.onWillDismiss();i&&i.data&&i.data.exe&&this.cargarFacturas()})}alerta(t){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.alert.create({header:"Correo electr\xf3nico",message:"Escriba el correo electr\xf3nico donde se enviar\xe1 el documento pdf de la factura",inputs:[{type:"text",name:"correo"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Enviar",handler:e=>{this.pdf(e.correo,t)}}]});yield e.present()})}pdf(t,e){return Object(s.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();this.loading.cargaProcesos("Creando Factura y enviandola al correo"),i&&this.apiFactura.enviarrFacturas(i.token,{id:e,correo:t}).subscribe(t=>{t.exe?this.toast.toastExitoso("Factura generada y enviada al correo electr\xf3nico del cliente"):this.toast.toastError("No se pudo enviar la factura, intentelo mpas tarde"),this.loading.finalizarCargado()},t=>{this.loading.finalizarCargado(),this.toast.toastError("No se pudo enviar la factura, intentelo mpas tarde")})})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(l.a),c.Lb(b.a),c.Lb(I.a),c.Lb(a.qb),c.Lb(h.a),c.Lb(a.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-factura-nueva"]],viewQuery:function(t,e){if(1&t&&c.Ac(G,1),2&t){let t;c.oc(t=c.Xb())&&(e.infinite=t.first)}},decls:17,vars:6,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","start","icon","chevron-back-outline","defaultHref","/central/menu/factura"],[4,"ngIf"],["slot","fixed","pullFactor","0.5","pullMin","50","pullMax","150",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles"],["debounce","300","mode","ios","placeholder","Buscar Facturas",3,"ionChange"],[1,"divider"],["class","cen","style","text-align: center;",4,"ngIf"],["class","cen",4,"ngIf"],[4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"ion-text-wrap"],[1,"cen",2,"text-align","center"],["name","crescent","color","oscuro"],[1,"tituloGrande"],[1,"cen"],["src","/assets/NuevaFactura.png","width","100px","alt",""],["mode","ios","shape","round","color","success",3,"click"],[1,"fl"],[1,"caja"],[1,"flex"],["side","end"],["color","medium",3,"click"],["name","document-text-outline","slot","icon-only"],["color","warning",3,"click"],["name","pencil-outline","slot","icon-only"],["threshold","100px",3,"ionInfinite"],["inifinito",""],["loadingSpinner","bubbles","loadingText","Cargando Facturas..."],["vertical","bottom","horizontal","end","slot","fixed"],["color","oscuro",3,"click"],["name","add-outline"]],template:function(t,e){1&t&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar",1),c.Mb(2,"ion-back-button",2),c.Ob(3,"ion-title"),c.wc(4,"Crear Factura"),c.Nb(),c.Nb(),c.Nb(),c.Ob(5,"ion-content"),c.vc(6,H,4,0,"ion-list",3),c.Ob(7,"ion-refresher",4),c.Wb("ionRefresh",function(t){return e.refrescando(t)}),c.Mb(8,"ion-refresher-content",5),c.Nb(),c.Ob(9,"ion-searchbar",6),c.Wb("ionChange",function(t){return e.buscar(t)}),c.Nb(),c.Mb(10,"div",7),c.vc(11,J,5,0,"div",8),c.vc(12,U,6,0,"div",9),c.Ob(13,"ion-list"),c.vc(14,V,27,7,"ion-item-sliding",10),c.Nb(),c.vc(15,Z,3,0,"ion-infinite-scroll",11),c.vc(16,X,3,0,"ion-fab",12),c.Nb()),2&t&&(c.Ab(6),c.fc("ngIf",e.mensaje),c.Ab(5),c.fc("ngIf",!e.load),c.Ab(1),c.fc("ngIf",0===e.facturas.length&&e.load),c.Ab(2),c.fc("ngForOf",e.facturas),c.Ab(1),c.fc("ngIf",e.load),c.Ab(1),c.fc("ngIf",e.facturas.length>0))},directives:[a.z,a.lb,a.g,a.h,a.jb,a.t,o.j,a.Q,a.R,a.U,a.yb,a.L,o.i,a.G,a.K,a.cb,a.j,a.J,a.F,a.I,a.H,a.A,a.C,a.D,a.v,a.w],pipes:[v.a],styles:[".cen[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.tituloGrande[_ngcontent-%COMP%]{width:300px;text-align:center}.fl[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:18px!important;color:red;font-weight:700;border-bottom:1px solid rgba(0,0,0,.1);padding-bottom:5px}.fl[_ngcontent-%COMP%]   .caja[_ngcontent-%COMP%]{text-align:center;width:60%;max-width:80%;background-color:#fcf3aa;padding:3px}.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})()}];let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[r.j.forChild(Q)],r.j]}),t})();const B=[{path:"",component:R}];let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[r.j.forChild(B)],r.j]}),t})();var et=i("iTUp");let it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[o.b,n.e,a.mb,tt,et.a]]}),t})(),ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[o.b,n.e,a.mb,K,it,et.a]]}),t})()},fqim:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i("fXoL");let n=(()=>{class t{transform(t,e){return 0===t?0:new Intl.NumberFormat(e,{minimumFractionDigits:1}).format(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Kb({name:"decimales",type:t,pure:!0}),t})()},r3ab:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var o=i("mrSG"),n=i("fXoL"),a=i("TEn/");let r=(()=>{class t{constructor(t){this.loadingCtrl=t}cargaProcesos(t){return Object(o.a)(this,void 0,void 0,function*(){return this.loading=yield this.loadingCtrl.create({message:t}),this.loading.present()})}finalizarCargado(){this.loading.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(a.ob))},t.\u0275prov=n.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);