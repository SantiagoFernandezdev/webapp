(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"5yQV":function(t,o,e){"use strict";e.d(o,"a",function(){return l});var i=e("AytR"),a=e("tk/3"),s=e("coGc"),n=e("lJxs"),r=e("IzEk"),c=e("MtjB"),d=e("PqYM"),b=e("fXoL");let l=(()=>{class t{constructor(t){this.http=t}hanflerError(t){return t.pipe(Object(s.a)(()=>Object(d.a)(3e3)),Object(n.a)(t=>{if(console.log("Entramos a intentos"),t instanceof ErrorEvent)throw new Error("Error de Red");if(404===t.status)throw new Error(" P\xe1gina no encontrada")}),Object(r.a)(3))}crearInventario(t,o){const e={headers:new a.c({"x-token":t})};return this.http.post(`${i.a}/ivt/tipo/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}actualizarInventario(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/cierre/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerInventarios(t){const o={headers:new a.c({"x-token":t})};return this.http.get(`${i.a}/ivt/tipo/`,o).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerInventario(t,o){const e={headers:new a.c({"x-token":t,"x-id":o})};return this.http.get(`${i.a}/ivt/tipo/uno`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarAcceso(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/tipo/accesos/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}BuscarUsuarios(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/empleados/buscar/`,{patron:o},e).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearEmpleado(t,o){const e={headers:new a.c({"x-token":t})};return this.http.post(`${i.a}/empleados/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarEmpleado(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/empleados/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerEmpleados(t){const o={headers:new a.c({"x-token":t})};return this.http.get(`${i.a}/empleados/`,o).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarEmpleados(t,o){const e={headers:new a.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/empleados/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearProveedor(t,o){const e={headers:new a.c({"x-token":t})};return this.http.post(`${i.a}/ivt/proveedores/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarProveedor(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/proveedores/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarProveedor(t,o){const e={headers:new a.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/ivt/proveedores/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProveedor(t,o){const e={headers:new a.c({"x-token":t,"x-ivt":o})};return this.http.get(`${i.a}/ivt/proveedores/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearCategoria(t,o){const e={headers:new a.c({"x-token":t})};return this.http.post(`${i.a}/ivt/categorias/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarCategoria(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/categorias/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarCategoria(t,o){const e={headers:new a.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/ivt/categorias/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerCategoria(t,o){const e={headers:new a.c({"x-token":t,"x-ivt":o})};return this.http.get(`${i.a}/ivt/categorias/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearProducto(t,o){const e={headers:new a.c({"x-token":t})};return this.http.post(`${i.a}/ivt/productos/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarProducto(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarProducto(t,o){const e={headers:new a.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/ivt/productos/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProducto(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/filtro/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProductoEstadistica(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/filtro/estadistica/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProductosPorInventario(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscarivt/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}buscarProducto(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscar`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}buscarProductoEntrada(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscar/entrada`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearEntrada(t,o){const e={headers:new a.c({"x-token":t})};return this.http.post(`${i.a}/ivt/entradas/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerEntrada(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarEntradas(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/buscar/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarEntradasPatron(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/buscar/patron/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearSalida(t,o){const e={headers:new a.c({"x-token":t})};return this.http.post(`${i.a}/ivt/salidas/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerSalida(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarSalidas(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/buscar/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarSalidasPatron(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/buscar/patron/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}CargarInventarios(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/tipo/almacen/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}CierresInventario(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/cierre/buscar/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}MovCantidades(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/mov/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}MovCantidades2(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/mov/salidas/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerMovmientos(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/movimientos/filtro/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerAgotados(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/agotados/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProximos(t,o){const e={headers:new a.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/proximos/`,o,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}}return t.\u0275fac=function(o){return new(o||t)(b.Sb(a.a))},t.\u0275prov=b.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"7cAv":function(t,o,e){"use strict";e.r(o),e.d(o,"HojaPageModule",function(){return At});var i=e("ofXK"),a=e("3Pt+"),s=e("TEn/"),n=e("tyNb"),r=e("mrSG"),c=e("fXoL"),d=e("fsfq"),b=e("5yQV"),l=e("AQLj"),h=e("fmoy");function p(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-item",3),c.Wb("click",function(){c.pc(t);const e=o.$implicit;return c.Yb(2).agregar(e)}),c.Ob(1,"ion-avatar",8),c.Mb(2,"img",9),c.Nb(),c.Ob(3,"ion-label"),c.Ob(4,"strong"),c.wc(5),c.Nb(),c.Mb(6,"br"),c.wc(7),c.Nb(),c.Nb()}if(2&t){const t=o.$implicit;c.Ab(2),c.fc("src",t.imagen,c.qc),c.Ab(3),c.xc(t.nombrecompleto),c.Ab(2),c.yc(" @",t.nombreusuario," ")}}function u(t,o){if(1&t&&(c.Ob(0,"ion-list"),c.vc(1,p,8,3,"ion-item",7),c.Nb()),2&t){const t=c.Yb();c.Ab(1),c.fc("ngForOf",t.buscados)}}let f=(()=>{class t{constructor(t,o,e,i,a,s,n){this.almacenamiento=t,this.modal=o,this.router=e,this.IVTapi=i,this.alertCtrl=a,this.hojaApi=s,this.toast=n,this.buscados=[]}ngOnInit(){}ionViewWillEnter(){console.log(this.id)}buscarEmpleados(t){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.almacenamiento.obtenerToken();o&&""!==t.detail.value?this.IVTapi.BuscarUsuarios(o.token,t.detail.value).subscribe(t=>{t.exe&&(t.response.forEach(t=>{t.imagen=t.imagen.length>0?`https://motocaliapp.com/${t.imagen[0].path}`:"/assets/notfound.png"}),this.buscados=t.response)}):this.buscados=[]})}agregar(t){return Object(r.a)(this,void 0,void 0,function*(){const o=[];t.vehiculo.forEach((t,e)=>{o.push({type:"radio",name:"v"+e,value:t.placa,label:t.placa})}),console.log(o);const e=yield this.alertCtrl.create({header:"Atenci\xf3n!",message:"\xbfEstas seguro asociar a "+t.nombrecompleto+" para esta hoja de vida ? Recuerda marcar un veh\xedculo del usuario",backdropDismiss:!1,inputs:o,buttons:[{text:"No quiero",cssClass:"cancelarAlerta",role:"cancel",handler:()=>{}},{text:"Aceptar",cssClass:"botonalerta",handler:o=>Object(r.a)(this,void 0,void 0,function*(){if(o){const e=yield this.almacenamiento.obtenerToken();e&&this.hojaApi.asociar(e.token,{id:this.id,usuario:t._id,placa:o}).subscribe(t=>Object(r.a)(this,void 0,void 0,function*(){console.log(t),t.exe?(this.toast.toastExitoso("Usuario Asociado"),this.modal.dismiss({exe:!0})):this.toast.toastError("No se pudo asociar el usuario la hoja de vida, int\xe9ntelo m\xe1s tarde")}),t=>{this.toast.toastError("No se pudo asociar el usuario la hoja de vida, int\xe9ntelo m\xe1s tarde")})}else this.toast.toastError("Debe seleccionar un veh\xedculo")})}]});yield e.present()})}cerrar(){this.modal.dismiss()}}return t.\u0275fac=function(o){return new(o||t)(c.Lb(d.a),c.Lb(s.qb),c.Lb(n.g),c.Lb(b.a),c.Lb(s.b),c.Lb(l.a),c.Lb(h.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-buscar-usuarios"]],inputs:{id:"id"},decls:10,vars:1,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","end"],[3,"click"],["name","close-outline","slot","icon-only"],["mode","ios","placeholder","Buscar Usuario",3,"ionChange"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["slot","start"],["width","100%","height","100%","alt","",3,"src"]],template:function(t,o){1&t&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar",1),c.Ob(2,"ion-title"),c.wc(3,"Asociar usuario a la hoja de vida"),c.Nb(),c.Ob(4,"ion-buttons",2),c.Ob(5,"ion-button",3),c.Wb("click",function(){return o.cerrar()}),c.Mb(6,"ion-icon",4),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(7,"ion-content"),c.Ob(8,"ion-searchbar",5),c.Wb("ionChange",function(t){return o.buscarEmpleados(t)}),c.Nb(),c.vc(9,u,2,1,"ion-list",6),c.Nb()),2&t&&(c.Ab(9),c.fc("ngIf",o.buscados.length>0))},directives:[s.z,s.lb,s.jb,s.k,s.j,s.A,s.t,s.U,s.yb,i.j,s.L,i.i,s.F,s.f,s.K],styles:[""]}),t})();var m=e("a/9d"),v=e("r3ab"),g=e("oQG1"),O=e("fqim");const j=["ele"],N=["fileUpload"];function x(t,o){1&t&&(c.Ob(0,"ion-item",9),c.Ob(1,"ion-label",17),c.wc(2," Nombre del prodcuto "),c.Nb(),c.Nb())}let E=(()=>{class t{constructor(t,o,e,i,a,s,n,r,c,d,b,l){this.modalCtrl=t,this.actionCtrl=o,this.almacenamiento=e,this.camera=i,this.toast=a,this.myLoading=s,this.hojaApi=n,this.activeRoute=r,this.router=c,this.nav=d,this.ivtApi=b,this.usuarioApi=l,this.repuesto={nombre:"",precio:void 0,cantidad:void 0,total:0,existencia:0,abono:0},this.trabajo={nombre:"",precio:0},this.repuestos=[],this.trabajos=[],this.idHoja="",this.fotos=[],this.titulo="",this.textoActual="",this.titulotipo="",this.load=!1,this.files=[],this.filesRendering=[],this.mostrar=!1,this.mod=!1,this.listaModulos="",this.ivtSelect="",this.idprod="",this.ivtid="",this.prod="",this.cod="",this.productosHijos=[],this.inventarios=[],this.cargado=!1}ngOnInit(){}ionViewWillEnter(){return Object(r.a)(this,void 0,void 0,function*(){console.log(this.rep),this.rep.ivt&&(this.mostrar=!0,this.mod=!0,this.ivtSelect=this.rep.ivt),this.repuesto=this.rep,this.repuestos=this.rep2,this.trabajos=this.tra,this.modulos(),this.miHoja()})}cambioInventario(t){return Object(r.a)(this,void 0,void 0,function*(){this.ivtSelect=t.detail.value})}modulos(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(t._id&&""!==t._id?this.usuarioApi.modulos(t.token).subscribe(t=>{t.exe?t.response.length>0&&(this.listaModulos=t.response[0].modulos,this.listaModulos.includes("inventarios")&&(this.mod=!0)):this.toast.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")}):this.nav.navigateRoot("/home"))})}productoHijo(t){return Object(r.a)(this,void 0,void 0,function*(){if(""!==t.detail.value){const o=yield this.almacenamiento.obtenerToken();o&&this.ivtApi.leerProductosPorInventario(o.token,{id:this.ivtSelect,patron:t.detail.value}).subscribe(t=>{t.exe?this.productosHijos=t.response:this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")})}else this.productosHijos=[]})}prodDestino(t){console.log(t),this.idprod=t.detail.value._id,this.prod=t.detail.value.nombre,this.cod=t.detail.value.codigo,0===t.detail.value.existencia?this.toast.toastError("No puede escoger este producto ya que se encuentra agotado"):(this.repuesto.cantidad>this.repuesto.existencia&&this.toast.toastError("No puede tener una cantidad mayor a la exisencia del producto, por favor verifique"),this.repuesto.nombre=t.detail.value.nombre,this.repuesto.existencia=t.detail.value.existencia)}cambiarr(t){t.detail.checked?(this.inventarios=[],this.cargarInventarios(),this.mostrar=!0):this.mostrar=!1}cargarInventarios(){return Object(r.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&this.ivtApi.CargarInventarios(t.token,{creador:this.creador}).subscribe(t=>Object(r.a)(this,void 0,void 0,function*(){t.exe?t.response.forEach(t=>{this.inventarios.push(t)}):this.toast.toastError("No se traer la lista de inventarios, intentelo m\xe1s tarde"),this.load=!1}),t=>{this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1})})}miHoja(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(this.cargado=!0,this.hojaApi.leeHoja2(t.token,{id:this.id}).subscribe(t=>{t.exe&&(console.log(t,"Holaaa"),this.idHoja=t.response._id,this.creador=t.response.idtaller,this.repuestos=t.response.repuestos,this.trabajos=t.response.trabajos)},t=>{this.toast.toastError("No se pudo traer la informaci\xf3n de la hoja de vida, int\xe9ntelo m\xe1s tarde")}))})}salidaCambioProd(t,o){"precio"===o?this.repuesto.precio=t.detail.value:"canti"===o&&(this.mostrar&&t.detail.value>this.repuesto.existencia?this.toast.toastError("No puede tener una cantidad mayor a la exisencia del producto, por favor verifique"):this.repuesto.cantidad=t.detail.value),this.repuesto.total=this.repuesto.precio*this.repuesto.cantidad}guardarHoja(t){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.almacenamiento.obtenerToken();if(o){let e="";if("rep"===t){if(""===this.repuesto.nombre||" "===this.repuesto.nombre)return void this.toast.toastError("Debe espec\xedficar el nombre del repuesto");if(!this.repuesto.precio||0===this.repuesto.precio)return void this.toast.toastError("Ingrese un precio para el repuesto");if(!this.repuesto.cantidad||0===this.repuesto.cantidad)return void this.toast.toastError("Ingrese una cantidad para el repuesto");e="Repuesto agregado",this.repuestos[this.idx]=this.repuesto}else if("tra"===t){if(""===this.trabajo.nombre||" "===this.trabajo.nombre)return void this.toast.toastError("Debe espec\xedficar el trabajo realizado");if(!this.trabajo.precio||0===this.trabajo.precio)return void this.toast.toastError("Ingrese un valor de mano de obrao");e="Trabajo agregado",this.trabajos.push(this.trabajo)}this.cargado=!0,console.log(this.idHoja,"Hojaa"),this.hojaApi.editarHoja(o.token,{id:this.idHoja,repuestos:this.repuestos,trabajos:this.trabajos}).subscribe(t=>{console.log(t),t.exe?(this.modalCtrl.dismiss({exe:!0}),this.toast.toastExitoso(e,3e3)):this.toast.toastError("No se pudo realizar la petici\xf3n, int\xe9ntelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo realizar la petici\xf3n, int\xe9ntelo m\xe1s tarde")})}})}cerrar(){this.modalCtrl.dismiss()}cancelar(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(o){return new(o||t)(c.Lb(s.qb),c.Lb(s.a),c.Lb(d.a),c.Lb(m.a),c.Lb(h.a),c.Lb(v.a),c.Lb(l.a),c.Lb(n.a),c.Lb(n.g),c.Lb(s.rb),c.Lb(b.a),c.Lb(g.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-editar-repuesto"]],viewQuery:function(t,o){if(1&t&&(c.Ac(j,1),c.Ac(N,1)),2&t){let t;c.oc(t=c.Xb())&&(o.slide=t.first),c.oc(t=c.Xb())&&(o.fileUpload=t.first)}},inputs:{rep:"rep",tra:"tra",rep2:"rep2",idx:"idx",id:"id"},decls:43,vars:10,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],["mode","ios"],["class","sinfondo","lines","none",4,"ngIf"],[1,"sinfondo"],["type","text","placeholder","Nombre del producto",3,"disabled","ngModel","ngModelChange"],["lines","none",1,"sinfondo"],["slot","start"],["type","number","placeholder","Digitar valor",3,"ngModel","ionChange","ngModelChange"],["type","number","placeholder","Digitar valor",3,"ngModel","ngModelChange"],[1,"total"],[1,"flexbet"],[1,"verdei"],["color","oscuro","expand","block","mode","ios","shape","round",1,"btn",3,"click"],["slot","start",1,"ion-text-wrap"]],template:function(t,o){1&t&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar",1),c.Ob(2,"ion-title"),c.wc(3,"Editar Repuesto"),c.Nb(),c.Ob(4,"ion-buttons",2),c.Ob(5,"ion-button",3),c.Wb("click",function(){return o.cerrar()}),c.Mb(6,"ion-icon",4),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(7,"ion-content"),c.Ob(8,"ion-card",5),c.Ob(9,"ion-card-content"),c.Ob(10,"ion-list"),c.Mb(11,"br"),c.vc(12,x,3,0,"ion-item",6),c.Ob(13,"ion-item",7),c.Ob(14,"ion-input",8),c.Wb("ngModelChange",function(t){return o.repuesto.nombre=t}),c.Nb(),c.Nb(),c.Mb(15,"br"),c.Ob(16,"ion-item",9),c.Ob(17,"ion-label",10),c.wc(18," Precio Unitario "),c.Nb(),c.Nb(),c.Ob(19,"ion-item",7),c.Ob(20,"ion-input",11),c.Wb("ionChange",function(t){return o.salidaCambioProd(t,"precio")})("ngModelChange",function(t){return o.repuesto.precio=t}),c.Nb(),c.Nb(),c.Ob(21,"ion-item",9),c.Ob(22,"ion-label",10),c.wc(23," Cantidad "),c.Nb(),c.Nb(),c.Ob(24,"ion-item",7),c.Ob(25,"ion-input",11),c.Wb("ionChange",function(t){return o.salidaCambioProd(t,"canti")})("ngModelChange",function(t){return o.repuesto.cantidad=t}),c.Nb(),c.Nb(),c.Mb(26,"br"),c.Ob(27,"ion-item",9),c.Ob(28,"ion-label",10),c.wc(29," Abono "),c.Nb(),c.Nb(),c.Ob(30,"ion-item",7),c.Ob(31,"ion-input",12),c.Wb("ngModelChange",function(t){return o.repuesto.abono=t}),c.Nb(),c.Nb(),c.Mb(32,"br"),c.Ob(33,"div",13),c.Ob(34,"div",14),c.Ob(35,"strong"),c.wc(36,"Total: "),c.Nb(),c.Ob(37,"span",15),c.wc(38),c.Zb(39,"decimales"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(40,"div",14),c.Ob(41,"ion-button",16),c.Wb("click",function(){return o.guardarHoja("rep")}),c.wc(42,"GUARDAR"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.Ab(12),c.fc("ngIf",!o.mostrar),c.Ab(2),c.fc("disabled",!0)("ngModel",o.repuesto.nombre),c.Ab(6),c.fc("ngModel",o.repuesto.precio),c.Ab(5),c.fc("ngModel",o.repuesto.cantidad),c.Ab(6),c.fc("ngModel",o.repuesto.abono),c.Ab(7),c.yc("$",c.bc(39,7,o.repuesto.total,"es-CO"),""))},directives:[s.z,s.lb,s.jb,s.k,s.j,s.A,s.t,s.l,s.m,s.L,i.j,s.F,s.E,s.yb,a.i,a.k,s.K,s.sb],pipes:[O.a],styles:[""]}),t})();const A=["ele"],w=["fileUpload"];function k(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-item-divider",22),c.Ob(1,"ion-label",23),c.wc(2," Sacar producto del inventario "),c.Nb(),c.Ob(3,"ion-toggle",24),c.Wb("ionChange",function(o){return c.pc(t),c.Yb(2).cambiarr(o)}),c.Nb(),c.Nb()}if(2&t){const t=c.Yb(2);c.Ab(3),c.fc("checked",t.mostrar)}}function M(t,o){1&t&&c.Mb(0,"ion-spinner",25)}function C(t,o){if(1&t&&(c.Ob(0,"ion-select-option",29),c.wc(1),c.Nb()),2&t){const t=o.$implicit;c.gc("value",t._id),c.Ab(1),c.xc(t.name)}}function y(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-item",26),c.Ob(1,"ion-label"),c.wc(2,"Escoge el inventario"),c.Nb(),c.Ob(3,"ion-select",27),c.Wb("ionChange",function(o){return c.pc(t),c.Yb(2).cambioInventario(o)}),c.vc(4,C,2,2,"ion-select-option",28),c.Nb(),c.Nb()}if(2&t){const t=c.Yb(2);c.Ab(4),c.fc("ngForOf",t.inventarios)}}function I(t,o){if(1&t&&(c.Ob(0,"div"),c.Ob(1,"strong"),c.wc(2,"C\xf3digo: "),c.Nb(),c.wc(3),c.Nb()),2&t){const t=c.Yb().$implicit;c.Ab(3),c.yc(" ",t.codigo,"")}}function P(t,o){1&t&&(c.Ob(0,"ion-chip",37),c.wc(1,"AL DIA"),c.Nb())}function $(t,o){1&t&&(c.Ob(0,"ion-chip",38),c.wc(1,"SE EST\xc1 AGOTANDO"),c.Nb())}function L(t,o){1&t&&(c.Ob(0,"ion-chip",39),c.wc(1,"PRODUCTO AGOTADO"),c.Nb())}function H(t,o){if(1&t&&(c.Ob(0,"ion-item"),c.Ob(1,"ion-label"),c.Ob(2,"div"),c.wc(3),c.Nb(),c.vc(4,I,4,1,"div",10),c.Ob(5,"div"),c.Ob(6,"strong"),c.wc(7,"Categoria: "),c.Nb(),c.Ob(8,"strong",32),c.wc(9),c.Nb(),c.Nb(),c.Ob(10,"div",19),c.Ob(11,"strong"),c.wc(12,"Existencia: "),c.Ob(13,"span",20),c.wc(14),c.Nb(),c.Nb(),c.vc(15,P,2,0,"ion-chip",33),c.vc(16,$,2,0,"ion-chip",34),c.vc(17,L,2,0,"ion-chip",35),c.Nb(),c.Nb(),c.Mb(18,"ion-radio",36),c.Nb()),2&t){const t=o.$implicit;c.Ab(3),c.xc(t.nombre),c.Ab(1),c.fc("ngIf",t.codigo),c.Ab(5),c.xc(t.categoria),c.Ab(5),c.xc(t.existencia),c.Ab(1),c.fc("ngIf",t.existencia>t.limote),c.Ab(1),c.fc("ngIf",t.existencia<=t.limite&&t.existencia>0),c.Ab(1),c.fc("ngIf",0===t.existencia),c.Ab(1),c.fc("value",t)}}function F(t,o){if(1&t){const t=c.Pb();c.Ob(0,"div"),c.Ob(1,"ion-searchbar",30),c.Wb("ionChange",function(o){return c.pc(t),c.Yb(2).productoHijo(o)}),c.Nb(),c.Mb(2,"br"),c.Ob(3,"ion-radio-group",27),c.Wb("ionChange",function(o){return c.pc(t),c.Yb(2).prodDestino(o)}),c.vc(4,H,19,8,"ion-item",31),c.Nb(),c.Nb()}if(2&t){const t=c.Yb(2);c.Ab(4),c.fc("ngForOf",t.productosHijos)}}function _(t,o){1&t&&(c.Ob(0,"ion-item",13),c.Ob(1,"ion-label",23),c.wc(2," Nombre del prodcuto "),c.Nb(),c.Nb())}function T(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-item",15),c.Ob(1,"ion-input",40),c.Wb("ngModelChange",function(o){return c.pc(t),c.Yb(2).repuesto.nombre=o}),c.Nb(),c.Nb()}if(2&t){const t=c.Yb(2);c.Ab(1),c.fc("ngModel",t.repuesto.nombre)}}function Y(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-card",6),c.Ob(1,"ion-card-content"),c.Ob(2,"ion-list"),c.vc(3,k,4,1,"ion-item-divider",7),c.Mb(4,"br"),c.vc(5,M,1,0,"ion-spinner",8),c.Mb(6,"br"),c.vc(7,y,5,1,"ion-item",9),c.vc(8,F,5,1,"div",10),c.vc(9,_,3,0,"ion-item",11),c.vc(10,T,2,1,"ion-item",12),c.Mb(11,"br"),c.Ob(12,"ion-item",13),c.Ob(13,"ion-label",14),c.wc(14," Precio Unitario "),c.Nb(),c.Nb(),c.Ob(15,"ion-item",15),c.Ob(16,"ion-input",16),c.Wb("ionChange",function(o){return c.pc(t),c.Yb().salidaCambioProd(o,"precio")})("ngModelChange",function(o){return c.pc(t),c.Yb().repuesto.precio=o}),c.Nb(),c.Nb(),c.Ob(17,"ion-item",13),c.Ob(18,"ion-label",14),c.wc(19," Cantidad "),c.Nb(),c.Nb(),c.Ob(20,"ion-item",15),c.Ob(21,"ion-input",16),c.Wb("ionChange",function(o){return c.pc(t),c.Yb().salidaCambioProd(o,"canti")})("ngModelChange",function(o){return c.pc(t),c.Yb().repuesto.cantidad=o}),c.Nb(),c.Nb(),c.Mb(22,"br"),c.Ob(23,"ion-item",13),c.Ob(24,"ion-label",14),c.wc(25," Abono "),c.Nb(),c.Nb(),c.Ob(26,"ion-item",15),c.Ob(27,"ion-input",17),c.Wb("ngModelChange",function(o){return c.pc(t),c.Yb().repuesto.abono=o}),c.Nb(),c.Nb(),c.Mb(28,"br"),c.Ob(29,"div",18),c.Ob(30,"div",19),c.Ob(31,"strong"),c.wc(32,"Total: "),c.Nb(),c.Ob(33,"span",20),c.wc(34),c.Zb(35,"decimales"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(36,"div",19),c.Ob(37,"ion-button",21),c.Wb("click",function(){return c.pc(t),c.Yb().guardarHoja("rep")}),c.wc(38,"GUARDAR"),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&t){const t=c.Yb();c.Ab(3),c.fc("ngIf",t.mod),c.Ab(2),c.fc("ngIf",t.load),c.Ab(2),c.fc("ngIf",t.mostrar),c.Ab(1),c.fc("ngIf",t.mostrar&&""!==t.ivtSelect),c.Ab(1),c.fc("ngIf",!t.mostrar),c.Ab(1),c.fc("ngIf",!t.mostrar),c.Ab(6),c.fc("disabled",!t.idprod&&t.mostrar)("ngModel",t.repuesto.precio),c.Ab(5),c.fc("disabled",!t.idprod&&t.mostrar)("ngModel",t.repuesto.cantidad),c.Ab(6),c.fc("disabled",!t.idprod&&t.mostrar)("ngModel",t.repuesto.abono),c.Ab(7),c.yc("$",c.bc(35,13,t.repuesto.total,"es-CO"),"")}}function R(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-card",6),c.Ob(1,"ion-card-content"),c.Ob(2,"ion-list"),c.Ob(3,"ion-item",13),c.Ob(4,"ion-label",23),c.wc(5," Nombre del trabajo "),c.Nb(),c.Nb(),c.Ob(6,"ion-item",15),c.Ob(7,"ion-input",41),c.Wb("ngModelChange",function(o){return c.pc(t),c.Yb().trabajo.nombre=o}),c.Nb(),c.Nb(),c.Mb(8,"br"),c.Ob(9,"ion-item",13),c.Ob(10,"ion-label",23),c.wc(11," Precio Mano de Obra "),c.Nb(),c.Nb(),c.Ob(12,"ion-item",15),c.Ob(13,"ion-input",42),c.Wb("ngModelChange",function(o){return c.pc(t),c.Yb().trabajo.precio=o}),c.Nb(),c.Nb(),c.Mb(14,"br"),c.Ob(15,"div",18),c.Ob(16,"div",19),c.Ob(17,"strong"),c.wc(18,"Total: "),c.Nb(),c.Ob(19,"span",20),c.wc(20),c.Zb(21,"decimales"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(22,"div",19),c.Ob(23,"ion-button",21),c.Wb("click",function(){return c.pc(t),c.Yb().guardarHoja("tra")}),c.wc(24,"GUARDAR"),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&t){const t=c.Yb();c.Ab(7),c.fc("ngModel",t.trabajo.nombre),c.Ab(6),c.fc("ngModel",t.trabajo.precio),c.Ab(7),c.yc("$",c.bc(21,3,t.trabajo.precio,"es-CO"),"")}}let W=(()=>{class t{constructor(t,o,e,i,a,s,n,r,c,d,b,l){this.modalCtrl=t,this.actionCtrl=o,this.almacenamiento=e,this.camera=i,this.toast=a,this.myLoading=s,this.hojaApi=n,this.activeRoute=r,this.router=c,this.nav=d,this.ivtApi=b,this.usuarioApi=l,this.repuesto={nombre:"",precio:void 0,cantidad:void 0,total:0,existencia:0,abono:0},this.trabajo={nombre:"",precio:0},this.repuestos=[],this.trabajos=[],this.idHoja="",this.fotos=[],this.titulo="",this.textoActual="",this.titulotipo="",this.load=!1,this.files=[],this.filesRendering=[],this.mostrar=!1,this.mod=!1,this.listaModulos="",this.ivtSelect="",this.idprod="",this.ivtid="",this.prod="",this.cod="",this.productosHijos=[],this.inventarios=[],this.cargado=!1}ngOnInit(){}ionViewWillEnter(){return Object(r.a)(this,void 0,void 0,function*(){console.log(this.rep),this.modulos(),this.miHoja()})}cerrar(){this.modalCtrl.dismiss()}cambioInventario(t){return Object(r.a)(this,void 0,void 0,function*(){this.ivtSelect=t.detail.value})}modulos(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(t._id&&""!==t._id?this.usuarioApi.modulos(t.token).subscribe(t=>{t.exe?t.response.length>0&&(this.listaModulos=t.response[0].modulos,this.listaModulos.includes("inventarios")&&(this.mod=!0)):this.toast.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")}):this.nav.navigateRoot("/home"))})}productoHijo(t){return Object(r.a)(this,void 0,void 0,function*(){if(""!==t.detail.value){const o=yield this.almacenamiento.obtenerToken();o&&this.ivtApi.leerProductosPorInventario(o.token,{id:this.ivtSelect,patron:t.detail.value}).subscribe(t=>{t.exe?this.productosHijos=t.response:this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")})}else this.productosHijos=[]})}prodDestino(t){console.log(t),this.idprod=t.detail.value._id,this.prod=t.detail.value.nombre,this.cod=t.detail.value.codigo,0===t.detail.value.existencia?this.toast.toastError("No puede escoger este producto ya que se encuentra agotado"):(this.repuesto.cantidad>this.repuesto.existencia&&this.toast.toastError("No puede tener una cantidad mayor a la exisencia del producto, por favor verifique"),this.repuesto.nombre=t.detail.value.nombre,this.repuesto.existencia=t.detail.value.existencia)}cambiarr(t){t.detail.checked?(this.inventarios=[],this.cargarInventarios(),this.mostrar=!0):this.mostrar=!1}cargarInventarios(){return Object(r.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&this.ivtApi.CargarInventarios(t.token,{creador:this.creador}).subscribe(t=>Object(r.a)(this,void 0,void 0,function*(){t.exe?t.response.forEach(t=>{this.inventarios.push(t)}):this.toast.toastError("No se traer la lista de inventarios, intentelo m\xe1s tarde"),this.load=!1}),t=>{this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1})})}miHoja(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(this.cargado=!0,this.hojaApi.leeHoja2(t.token,{id:this.id}).subscribe(t=>{t.exe&&(console.log(t),this.idHoja=t.response._id,this.creador=t.response.idtaller,this.repuestos=t.response.repuestos,this.trabajos=t.response.trabajos)},t=>{this.toast.toastError("No se pudo traer la informaci\xf3n de la hoja de vida, int\xe9ntelo m\xe1s tarde")}))})}salidaCambioProd(t,o){"precio"===o?this.repuesto.precio=t.detail.value:"canti"===o&&(this.mostrar&&t.detail.value>this.repuesto.existencia?this.toast.toastError("No puede tener una cantidad mayor a la exisencia del producto, por favor verifique"):this.repuesto.cantidad=t.detail.value),this.repuesto.total=this.repuesto.precio*this.repuesto.cantidad}guardarHoja(t){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.almacenamiento.obtenerToken();if(o){let e="";if("rep"===t){if(""===this.repuesto.nombre||" "===this.repuesto.nombre)return void this.toast.toastError("Debe espec\xedficar el nombre del repuesto");if(!this.repuesto.precio||0===this.repuesto.precio)return void this.toast.toastError("Ingrese un precio para el repuesto");if(!this.repuesto.cantidad||0===this.repuesto.cantidad)return void this.toast.toastError("Ingrese una cantidad para el repuesto");e="Repuesto agregado",this.repuestos.push(this.repuesto)}else if("tra"===t){if(""===this.trabajo.nombre||" "===this.trabajo.nombre)return void this.toast.toastError("Debe espec\xedficar el trabajo realizado");if(!this.trabajo.precio||0===this.trabajo.precio)return void this.toast.toastError("Ingrese un valor de mano de obrao");e="Trabajo agregado",this.trabajos.push(this.trabajo)}this.cargado=!0,this.hojaApi.editarHoja(o.token,{id:this.idHoja,repuestos:this.repuestos,trabajos:this.trabajos,necesita:this.mostrar,producto:this.idprod,ivt:this.ivtSelect,nombre:this.prod,codigo:this.cod,cantidad:this.repuesto.cantidad,precio:this.repuesto.precio,total:this.repuesto.total}).subscribe(t=>{t.exe?(this.toast.toastExitoso(e,3e3),this.modalCtrl.dismiss({exe:!0})):this.toast.toastError("No se pudo realizar la petici\xf3n, int\xe9ntelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo realizar la petici\xf3n, int\xe9ntelo m\xe1s tarde")})}})}cancelar(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(o){return new(o||t)(c.Lb(s.qb),c.Lb(s.a),c.Lb(d.a),c.Lb(m.a),c.Lb(h.a),c.Lb(v.a),c.Lb(l.a),c.Lb(n.a),c.Lb(n.g),c.Lb(s.rb),c.Lb(b.a),c.Lb(g.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-agregar-repuesto"]],viewQuery:function(t,o){if(1&t&&(c.Ac(A,1),c.Ac(w,1)),2&t){let t;c.oc(t=c.Xb())&&(o.slide=t.first),c.oc(t=c.Xb())&&(o.fileUpload=t.first)}},inputs:{rep:"rep",tipoVista:"tipoVista",id:"id"},decls:10,vars:2,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],["mode","ios",4,"ngIf"],["mode","ios"],["color","light","lines","none",4,"ngIf"],["name","crescent","color","primary",4,"ngIf"],["color","light",4,"ngIf"],[4,"ngIf"],["class","sinfondo","lines","none",4,"ngIf"],["class","sinfondo",4,"ngIf"],["lines","none",1,"sinfondo"],["slot","start"],[1,"sinfondo"],["type","number","placeholder","Digitar valor",3,"disabled","ngModel","ionChange","ngModelChange"],["type","number","placeholder","Digitar valor",3,"disabled","ngModel","ngModelChange"],[1,"total"],[1,"flexbet"],[1,"verdei"],["color","oscuro","expand","block","mode","ios","shape","round",1,"btn",3,"click"],["color","light","lines","none"],["slot","start",1,"ion-text-wrap"],["slot","end","color","primary","mode","ios",3,"checked","ionChange"],["name","crescent","color","primary"],["color","light"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placeholder","Buscar producto ","debounce","500",3,"ionChange"],[4,"ngFor","ngForOf"],[1,"rojoi"],["color","success",4,"ngIf"],["color","warning",4,"ngIf"],["color","danger",4,"ngIf"],["slot","end","mode","md",3,"value"],["color","success"],["color","warning"],["color","danger"],["type","text","placeholder","Nombre del producto",3,"ngModel","ngModelChange"],["type","text","placeholder","Nombre del trabajo",3,"ngModel","ngModelChange"],["type","number","placeholder","Digitar valor",3,"ngModel","ngModelChange"]],template:function(t,o){1&t&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar",1),c.Ob(2,"ion-title"),c.wc(3,"Editar Repuesto"),c.Nb(),c.Ob(4,"ion-buttons",2),c.Ob(5,"ion-button",3),c.Wb("click",function(){return o.cerrar()}),c.Mb(6,"ion-icon",4),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(7,"ion-content"),c.vc(8,Y,39,16,"ion-card",5),c.vc(9,R,25,6,"ion-card",5),c.Nb()),2&t&&(c.Ab(8),c.fc("ngIf","repuesto"===o.tipoVista),c.Ab(1),c.fc("ngIf","trabajos"===o.tipoVista))},directives:[s.z,s.lb,s.jb,s.k,s.j,s.A,s.t,i.j,s.l,s.m,s.L,s.F,s.K,s.E,s.sb,a.i,a.k,s.G,s.kb,s.d,s.cb,s.X,s.xb,i.i,s.Y,s.U,s.yb,s.O,s.N,s.vb,s.r],pipes:[O.a],styles:[""]}),t})();function D(t,o){if(1&t&&(c.Ob(0,"div",22),c.wc(1),c.Nb()),2&t){const t=c.Yb();c.Ab(1),c.xc(t.placa)}}function S(t,o){if(1&t&&(c.Ob(0,"ion-select-option",26),c.wc(1),c.Nb()),2&t){const t=o.$implicit;c.fc("value",t.usuario),c.Ab(1),c.xc(t.usuario.nombrecompleto)}}function z(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-item"),c.Ob(1,"ion-label",23),c.wc(2,"Marcar Inicio de trabajo"),c.Nb(),c.Ob(3,"ion-button",27),c.Wb("click",function(){return c.pc(t),c.Yb(2).marcado()}),c.wc(4,"Iniciar Trabajo"),c.Nb(),c.Nb()}}function q(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-list"),c.Ob(1,"ion-item-divider",1),c.Ob(2,"ion-label",23),c.wc(3,"Agregar trabajador(es) para esta hoja de vida"),c.Nb(),c.Nb(),c.Ob(4,"ion-item"),c.Ob(5,"ion-label"),c.wc(6,"Escoger Trabajador"),c.Nb(),c.Ob(7,"ion-select",24),c.Wb("ionChange",function(o){return c.pc(t),c.Yb().agregar(o)}),c.vc(8,S,2,2,"ion-select-option",25),c.Nb(),c.Nb(),c.vc(9,z,5,0,"ion-item",9),c.Nb()}if(2&t){const t=c.Yb();c.Ab(8),c.fc("ngForOf",t.empleados),c.Ab(1),c.fc("ngIf",""===t.inicio)}}function U(t,o){1&t&&(c.Ob(0,"div",28),c.Mb(1,"img",29),c.Ob(2,"h3",30),c.wc(3,"No hay informaci\xf3n en mi hoja de vida"),c.Nb(),c.Nb())}function G(t,o){if(1&t){const t=c.Pb();c.Ob(0,"div",31),c.Wb("click",function(){return c.pc(t),c.Yb().tomarFoto()}),c.Ob(1,"span",32),c.wc(2,"ssfsdfsfs"),c.Nb(),c.Ob(3,"div",33),c.Ob(4,"ion-buttons"),c.Ob(5,"ion-button",34),c.Mb(6,"ion-icon",35),c.Nb(),c.Nb(),c.Ob(7,"strong"),c.wc(8,"A\xf1adir Fotograf\xeda"),c.Nb(),c.Nb(),c.Nb()}}function V(t,o){1&t&&(c.Ob(0,"div",36),c.Ob(1,"span",32),c.wc(2,"ssfsdfsfs"),c.Nb(),c.Mb(3,"ion-skeleton-text",37),c.Nb())}function X(t,o){1&t&&(c.Ob(0,"div",36),c.Ob(1,"span",32),c.wc(2,"ssfsdfsfs"),c.Nb(),c.Mb(3,"ion-skeleton-text",37),c.Nb())}function Q(t,o){if(1&t&&c.Mb(0,"img",40),2&t){const t=c.Yb().$implicit;c.hc("src","https://motocaliapp.com/11927613402/",t.ruta,"",c.qc)}}function Z(t,o){if(1&t){const t=c.Pb();c.Ob(0,"div",38),c.Wb("click",function(){c.pc(t);const e=o.index;return c.Yb().verFoto(e)}),c.vc(1,Q,1,1,"img",39),c.Nb()}if(2&t){const t=o.$implicit;c.Db("color","Fotos de Entrada"===t.tipo),c.Ab(1),c.fc("ngIf","Fotos de Entrada"===t.tipo)}}function J(t,o){if(1&t&&c.Mb(0,"img",40),2&t){const t=c.Yb().$implicit;c.hc("src","https://motocaliapp.com/11927613402/",t.ruta,"",c.qc)}}function K(t,o){if(1&t){const t=c.Pb();c.Ob(0,"div",38),c.Wb("click",function(){c.pc(t);const e=o.index;return c.Yb().verFoto(e)}),c.vc(1,J,1,1,"img",39),c.Nb()}if(2&t){const t=o.$implicit;c.Db("color","Novedades"===t.tipo),c.Ab(1),c.fc("ngIf","Novedades"===t.tipo)}}function B(t,o){if(1&t&&c.Mb(0,"img",40),2&t){const t=c.Yb().$implicit;c.hc("src","https://motocaliapp.com/11927613402/",t.ruta,"",c.qc)}}function tt(t,o){if(1&t){const t=c.Pb();c.Ob(0,"div",38),c.Wb("click",function(){c.pc(t);const e=o.index;return c.Yb().verFoto(e)}),c.vc(1,B,1,1,"img",39),c.Nb()}if(2&t){const t=o.$implicit;c.Db("color","Fotos de Salida"===t.tipo),c.Ab(1),c.fc("ngIf","Fotos de Salida"===t.tipo)}}function ot(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-buttons",44),c.Ob(1,"ion-button",38),c.Wb("click",function(){return c.pc(t),c.Yb(2).modal("repuesto")}),c.Mb(2,"ion-icon",35),c.Nb(),c.Nb()}}function et(t,o){1&t&&c.Mb(0,"div",7)}function it(t,o){if(1&t&&(c.Ob(0,"div",50),c.Ob(1,"strong"),c.wc(2,"Abono: "),c.Nb(),c.Ob(3,"span",49),c.wc(4),c.Zb(5,"decimales"),c.Nb(),c.Nb()),2&t){const t=c.Yb().$implicit;c.Ab(4),c.yc("$ ",c.bc(5,1,t.abono,"es-CO"),"")}}function at(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-item-options",54),c.Ob(1,"ion-item-option",55),c.Wb("click",function(){c.pc(t);const o=c.Yb(),e=o.$implicit,i=o.index;return c.Yb(2).editaresp(e,i)}),c.Mb(2,"ion-icon",56),c.Nb(),c.Ob(3,"ion-item-option",57),c.Wb("click",function(){c.pc(t);const o=c.Yb(),e=o.$implicit,i=o.index;return c.Yb(2).eliminarrep(e,i)}),c.Mb(4,"ion-icon",58),c.Nb(),c.Nb()}}function st(t,o){if(1&t&&(c.Ob(0,"ion-item-sliding"),c.Ob(1,"ion-item",45),c.Ob(2,"ion-label",23),c.Ob(3,"div",46),c.wc(4),c.Nb(),c.Mb(5,"br"),c.Ob(6,"div",47),c.Ob(7,"div",47),c.Ob(8,"strong"),c.wc(9,"Cantidad: "),c.Nb(),c.Ob(10,"span",48),c.wc(11),c.Nb(),c.Nb(),c.Ob(12,"div",47),c.Ob(13,"strong"),c.wc(14,"Precio: "),c.Nb(),c.Ob(15,"span",49),c.wc(16),c.Zb(17,"decimales"),c.Nb(),c.Nb(),c.Nb(),c.Ob(18,"div",50),c.Ob(19,"strong"),c.wc(20,"Total: "),c.Nb(),c.Ob(21,"span",51),c.wc(22),c.Zb(23,"decimales"),c.Nb(),c.Nb(),c.Mb(24,"br"),c.vc(25,it,6,4,"div",52),c.Nb(),c.Nb(),c.vc(26,at,5,0,"ion-item-options",53),c.Nb()),2&t){const t=o.$implicit,e=c.Yb(2);c.Ab(4),c.yc(" ",t.nombre," "),c.Ab(7),c.yc(" ",t.cantidad," "),c.Ab(5),c.yc("$ ",c.bc(17,6,t.precio,"es-CO"),""),c.Ab(6),c.yc("$ ",c.bc(23,9,t.total,"es-CO"),""),c.Ab(3),c.fc("ngIf",t.abono),c.Ab(1),c.fc("ngIf",e.accesos)}}function nt(t,o){if(1&t&&(c.Ob(0,"ion-list"),c.Ob(1,"ion-item-divider",10),c.Ob(2,"ion-label"),c.wc(3," A\xf1adir Repuestos"),c.Nb(),c.vc(4,ot,3,0,"ion-buttons",41),c.Nb(),c.vc(5,et,1,0,"div",42),c.vc(6,st,27,12,"ion-item-sliding",43),c.Nb()),2&t){const t=c.Yb();c.Ab(4),c.fc("ngIf","TALLER_ROLE"===t.role||t.accesos),c.Ab(1),c.fc("ngIf",0===t.repuestos.length),c.Ab(1),c.fc("ngForOf",t.repuestos)}}function rt(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-buttons",44),c.Ob(1,"ion-button",38),c.Wb("click",function(){return c.pc(t),c.Yb(2).modal("trabajos")}),c.Mb(2,"ion-icon",35),c.Nb(),c.Nb()}}function ct(t,o){1&t&&c.Mb(0,"div",7)}function dt(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-item-options",54),c.Ob(1,"ion-item-option",57),c.Wb("click",function(){c.pc(t);const o=c.Yb(),e=o.$implicit,i=o.index;return c.Yb(2).eliminar(e,i)}),c.Mb(2,"ion-icon",58),c.Nb(),c.Nb()}}function bt(t,o){if(1&t&&(c.Ob(0,"ion-item-sliding"),c.Ob(1,"ion-item",45),c.Ob(2,"ion-label",23),c.Ob(3,"div",46),c.wc(4),c.Nb(),c.Mb(5,"br"),c.Ob(6,"div",47),c.Ob(7,"strong"),c.wc(8,"Precio: "),c.Nb(),c.Ob(9,"span",49),c.wc(10),c.Zb(11,"decimales"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.vc(12,dt,3,0,"ion-item-options",53),c.Nb()),2&t){const t=o.$implicit,e=c.Yb(2);c.Ab(4),c.yc(" ",t.nombre," "),c.Ab(6),c.yc("$ ",c.bc(11,3,t.precio,"es-CO"),""),c.Ab(2),c.fc("ngIf",e.accesos)}}function lt(t,o){if(1&t&&(c.Ob(0,"ion-list"),c.Ob(1,"ion-item-divider",10),c.Ob(2,"ion-label"),c.wc(3,"Trabajos realizados"),c.Nb(),c.vc(4,rt,3,0,"ion-buttons",41),c.Nb(),c.vc(5,ct,1,0,"div",42),c.vc(6,bt,13,6,"ion-item-sliding",43),c.Nb()),2&t){const t=c.Yb();c.Ab(4),c.fc("ngIf","TALLER_ROLE"===t.role||t.accesos),c.Ab(1),c.fc("ngIf",0===t.trabajos.length),c.Ab(1),c.fc("ngForOf",t.trabajos)}}function ht(t,o){1&t&&(c.Ob(0,"div",59),c.Mb(1,"ion-spinner",60),c.Ob(2,"span"),c.wc(3,"Guardando cambios..."),c.Nb(),c.Nb())}function pt(t,o){1&t&&(c.Ob(0,"ion-item-divider",1),c.Ob(1,"ion-label",23),c.wc(2,"Listado de trabajadores "),c.Nb(),c.Nb())}function ut(t,o){if(1&t&&(c.Ob(0,"ion-item",45),c.Ob(1,"ion-label",23),c.Ob(2,"div"),c.wc(3),c.Nb(),c.Ob(4,"div"),c.Ob(5,"strong"),c.wc(6),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&t){const t=o.$implicit;c.Ab(3),c.xc(t.usuario.nombrecompleto),c.Ab(3),c.yc("@",t.usuario.nombreusuario,"")}}function ft(t,o){if(1&t&&(c.Ob(0,"div"),c.vc(1,pt,3,0,"ion-item-divider",61),c.vc(2,ut,7,2,"ion-item",62),c.Nb()),2&t){const t=c.Yb();c.Ab(1),c.fc("ngIf",t.escogidos.length>0),c.Ab(1),c.fc("ngForOf",t.escogidos)}}function mt(t,o){1&t&&(c.Ob(0,"ion-item-divider",1),c.Ob(1,"ion-label",23),c.wc(2,"Listado de trabajadores "),c.Nb(),c.Nb())}function vt(t,o){if(1&t&&(c.Ob(0,"ion-item",45),c.Ob(1,"ion-label",23),c.Ob(2,"div"),c.wc(3),c.Nb(),c.Ob(4,"div"),c.Ob(5,"strong"),c.wc(6),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&t){const t=o.$implicit;c.Ab(3),c.xc(t.nombrecompleto),c.Ab(3),c.yc("@",t.nombreusuario,"")}}function gt(t,o){if(1&t&&(c.Ob(0,"div"),c.vc(1,mt,3,0,"ion-item-divider",61),c.vc(2,vt,7,2,"ion-item",62),c.Nb()),2&t){const t=c.Yb();c.Ab(1),c.fc("ngIf",t.trabajadores.length>0),c.Ab(1),c.fc("ngForOf",t.trabajadores)}}function Ot(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-item-divider",63),c.Wb("click",function(){return c.pc(t),c.Yb().buscar()}),c.Ob(1,"ion-label",23),c.wc(2,"Asociar esta hoja de vida a un usuario "),c.Nb(),c.Nb()}}function jt(t,o){if(1&t){const t=c.Pb();c.Ob(0,"ion-button",64),c.Wb("click",function(){return c.pc(t),c.Yb().terminar()}),c.wc(1,"TERMINAR HOJA DE VIDA"),c.Nb()}}const Nt=[{path:"",component:(()=>{class t{constructor(t,o,e,i,a,s,n,r,c){this.modalCtrl=t,this.alertCtrl=o,this.almacenamiento=e,this.active=i,this.router=a,this.hojaApi=s,this.toast=n,this.IVTapi=r,this.nav=c,this.fotos=[],this.repuestos=[],this.trabajos=[],this.role="",this.cargaFotos=!0,this.id="",this.idHoja="",this.estado="",this.tipo="",this.placa="",this.accesos=!1,this.empleados=[],this.miid="",this.idtaller="a",this.escogidos=[],this.trabajadores=[],this.inicio="",this.idu="",this.observaciones="",this.obload=!1}ngOnInit(){}ionViewWillEnter(){return Object(r.a)(this,void 0,void 0,function*(){this.escogidos=[],this.tipo=this.active.snapshot.paramMap.get("tipo"),"hoja"===this.active.snapshot.paramMap.get("tipo")?yield this.miHoja2():yield this.miHoja()})}observacion(t){this.observaciones=t.detail.value}guardarObservacion(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();this.obload=!0,t&&this.hojaApi.editarHojaObs(t.token,{observaciones:this.observaciones,id:this.idHoja}).subscribe(t=>{t.exe?this.toast.toastExitoso("Cambios guardados",1500):this.toast.toastError("No se pudo editar la hoja de vida, int\xe9ntelo m\xe1s tarde"),this.obload=!1},t=>{this.toast.toastError("No se pudo editar la hoja de vida, int\xe9ntelo m\xe1s tarde"),this.obload=!1})})}editaresp(t,o){return Object(r.a)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:E,componentProps:{rep:t,idx:o,rep2:this.repuestos,tra:this.trabajos,id:this.idHoja}});yield e.present();const i=yield e.onWillDismiss();i&&i.data&&("hoja"===this.active.snapshot.paramMap.get("tipo")?yield this.miHoja2():yield this.miHoja())})}modal(t){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.modalCtrl.create({component:W,componentProps:{tipoVista:t,id:this.active.snapshot.paramMap.get("id")}});yield o.present();const e=yield o.onWillDismiss();e&&e.data&&("hoja"===this.active.snapshot.paramMap.get("tipo")?yield this.miHoja2():yield this.miHoja())})}refrescando(t){return Object(r.a)(this,void 0,void 0,function*(){this.escogidos=[],"hoja"===this.active.snapshot.paramMap.get("tipo")?yield this.miHoja2():yield this.miHoja(),t.target.complete()})}tomarFoto(){this.nav.navigateRoot(["/hoja-vida-modal",this.active.snapshot.paramMap.get("id"),"fotos",this.idHoja])}verFoto(t){this.nav.navigateRoot(["/hoja-vida-modal",this.active.snapshot.paramMap.get("id"),"ver",this.idHoja,t])}viajar(t){this.nav.navigateRoot(["/hoja-vida-modal",this.active.snapshot.paramMap.get("id"),t,this.idHoja])}miHoja(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(this.miid=t._id,this.hojaApi.leeHoja(t.token,{id:this.active.snapshot.paramMap.get("id")}).subscribe(o=>Object(r.a)(this,void 0,void 0,function*(){console.log(o,"hoja"),o.exe&&(o.response&&(this.idHoja=o.response._id,o.response.accesos.filter(o=>o===t._id).length>0&&(this.accesos=!0),this.idtaller=o.response.idataller,this.traerEmpleados(o.response.trabajador),this.repuestos=o.response.repuestos,this.trabajos=o.response.trabajos,this.estado=o.response.cita.estado),yield this.traerFotos())}),t=>{this.toast.toastError("No se pudo traer la informaci\xf3n de la hoja de vida, int\xe9ntelo m\xe1s tarde")}))})}traerEmpleados(t){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.almacenamiento.obtenerToken();o&&this.IVTapi.leerEmpleados(o.token).subscribe(o=>{o.exe?o.response.forEach(o=>{o.usuario.imagen=o.usuario.imagen[0].path.includes("notfound")?"/assets/notfound.png":`https://motocaliapp.com/${o.usuario.imagen[0].path}`,0===t.filter(t=>t._id===o.usuario._id).length?this.empleados.push(o):this.escogidos.push(o)}):this.toast.toastError("No se pudo traer los empleados, int\xe9ntelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo traer los empleados, int\xe9ntelo m\xe1s tarde")})})}escoger(t){}miHoja2(){return Object(r.a)(this,void 0,void 0,function*(){this.trabajos=[],this.repuestos=[],this.empleados=[];const t=yield this.almacenamiento.obtenerToken();t&&(this.miid=t._id,this.hojaApi.leeHoja2(t.token,{id:this.active.snapshot.paramMap.get("id")}).subscribe(o=>Object(r.a)(this,void 0,void 0,function*(){o.exe?(o.response&&(this.idHoja=o.response._id,o.response.trabajos.filter(o=>o===t._id).length>0&&(this.accesos=!0),this.inicio=o.response.inicio?o.response.inicio:"",this.idu=o.response.idusuario?o.response.idusuario:"",this.idtaller=o.response.idtaller,this.traerEmpleados(o.response.trabajador),o.response.idtaller===t._id&&(this.accesos=!0),this.accesos||(this.trabajadores=o.response.trabajador),this.repuestos=o.response.repuestos,this.trabajos=o.response.trabajos,this.placa=o.response.placa),yield this.traerFotos()):this.toast.toastError("No se pudo traer la informaci\xf3n de la hoja de vida, int\xe9ntelo m\xe1s tarde")}),t=>{this.toast.toastError("No se pudo traer la informaci\xf3n de la hoja de vida, int\xe9ntelo m\xe1s tarde")}))})}terminar(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.alertCtrl.create({header:"Atenci\xf3n!",message:"\xbfEstas seguro de marcar esta hoja de vida como terminada?",buttons:[{text:"No quiero",cssClass:"cancelarAlerta",role:"cancel",handler:()=>{}},{text:"Aceptar",cssClass:"botonalerta",handler:()=>Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&this.hojaApi.terminar(t.token,{id:this.active.snapshot.paramMap.get("id")}).subscribe(t=>Object(r.a)(this,void 0,void 0,function*(){console.log(t),t.exe?(this.toast.toastError("Hoja de vida terminada"),this.router.navigate(["/central/menu/hoja"])):this.toast.toastError("No se pudo terminar la hoja de vida, int\xe9ntelo m\xe1s tarde")}),t=>{this.toast.toastError("No se pudo terminar la hoja de vida, int\xe9ntelo m\xe1s tarde")})})}]});yield t.present()})}marcado(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.alertCtrl.create({header:"Atenci\xf3n!",message:"\xbfDeseas iniciar esta hoja de vida ?",buttons:[{text:"No quiero",cssClass:"cancelarAlerta",role:"cancel",handler:()=>{}},{text:"Aceptar",cssClass:"botonalerta",handler:()=>Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&this.hojaApi.inicio(t.token,{id:this.active.snapshot.paramMap.get("id")}).subscribe(t=>Object(r.a)(this,void 0,void 0,function*(){console.log(t),t.exe?this.toast.toastExitoso("Se inici\xf3 el trabajo en la hoja de vida"):this.toast.toastError("No se pudo actualizar la hoja de vida, int\xe9ntelo m\xe1s tarde")}),t=>{this.toast.toastError("No se pudo actualizar la hoja de vida, int\xe9ntelo m\xe1s tarde")})})}]});yield t.present()})}buscar(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:f,componentProps:{id:this.idHoja}});yield t.present();const o=yield t.onWillDismiss();o&&o.data&&(this.escogidos=[],this.miHoja2())})}agregar(t){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.alertCtrl.create({header:"Atenci\xf3n!",message:"\xbfQuieres agregar "+t.detail.value.nombrecompleto+" como trabajador para sta hoja de vida?",buttons:[{text:"No",cssClass:"cancelarAlerta",role:"cancel",handler:()=>{}},{text:"Si",cssClass:"botonalerta",handler:()=>Object(r.a)(this,void 0,void 0,function*(){const o=yield this.almacenamiento.obtenerToken();o&&this.hojaApi.trabajador(o.token,{id:this.active.snapshot.paramMap.get("id"),trabajador:t.detail.value._id}).subscribe(t=>Object(r.a)(this,void 0,void 0,function*(){console.log(t),t.exe?(this.toast.toastExitoso("Usuario agregado como trabajador"),this.miHoja2()):this.toast.toastError("No se pudo actualizar la hoja de vida, int\xe9ntelo m\xe1s tarde")}),t=>{this.toast.toastError("No se pudo actualizar la hoja de vida, int\xe9ntelo m\xe1s tarde")})})}]});yield o.present()})}eliminar(t,o){return Object(r.a)(this,void 0,void 0,function*(){const e=yield this.alertCtrl.create({header:"Atenci\xf3n!",message:"\xbfDeseas eliminar este trabajo ?",buttons:[{text:"Cancelar",cssClass:"cancelarAlerta",role:"cancel",handler:()=>{}},{text:"Aceptar",cssClass:"botonalerta",handler:()=>Object(r.a)(this,void 0,void 0,function*(){this.trabajos.splice(o,1);const e=yield this.almacenamiento.obtenerToken();e&&this.hojaApi.editarHoja(e.token,{id:this.active.snapshot.paramMap.get("id"),trabajos:this.trabajos,repuestos:this.repuestos}).subscribe(o=>Object(r.a)(this,void 0,void 0,function*(){console.log(o),o.exe?this.toast.toastExitoso("Se actualiz\xf3 la hoja de vida correctamente"):(this.toast.toastError("No se pudo actualizar la hoja de vida, int\xe9ntelo m\xe1s tarde"),this.trabajos.push(t))}),o=>{this.toast.toastError("No se pudo actualizar la hoja de vida, int\xe9ntelo m\xe1s tarde"),this.trabajos.push(t)})})}]});yield e.present()})}eliminarrep(t,o){return Object(r.a)(this,void 0,void 0,function*(){const e=yield this.alertCtrl.create({header:"Atenci\xf3n!",message:"\xbfDeseas eliminar este repuesto ?",buttons:[{text:"Cancelar",cssClass:"cancelarAlerta",role:"cancel",handler:()=>{}},{text:"Aceptar",cssClass:"botonalerta",handler:()=>Object(r.a)(this,void 0,void 0,function*(){this.repuestos.splice(o,1);const e=yield this.almacenamiento.obtenerToken();e&&this.hojaApi.editarHoja(e.token,{id:this.active.snapshot.paramMap.get("id"),trabajos:this.trabajos,repuestos:this.repuestos}).subscribe(o=>Object(r.a)(this,void 0,void 0,function*(){console.log(o),o.exe?this.toast.toastExitoso("Se actualiz\xf3 la hoja de vida correctamente"):(this.toast.toastError("No se pudo actualizar la hoja de vida, int\xe9ntelo m\xe1s tarde"),this.repuestos.push(t))}),o=>{this.toast.toastError("No se pudo actualizar la hoja de vida, int\xe9ntelo m\xe1s tarde"),this.repuestos.push(t)})})}]});yield e.present()})}traerFotos(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(this.role=t.role,this.hojaApi.leefotos(t.token,{id:this.idHoja}).subscribe(t=>{t.exe&&(this.fotos=t.response),this.cargaFotos=!1},t=>{this.cargaFotos=!1,this.toast.toastError("No se pudo traer las fotos de la hoja de vida, int\xe9ntelo m\xe1s tarde")}))})}estados(){return Object(r.a)(this,void 0,void 0,function*(){let t="PENDIENTE";"PENDIENTE"===this.estado?t='Marcar como "en Progeso"':"EN PROGRESO"===this.estado&&(t='Marcar como "Terminado"');const o=yield this.alertCtrl.create({header:"Cambiar Estado de Cita",message:`Actualmente la cita esta en estado ${this.estado}`,mode:"ios",buttons:[{text:"cancelar",role:"cancel"},{text:t,handler:()=>{this.estado="PENDIENTE"===this.estado?"EN PROGRESO":"TERMINADO",this.cambiarEstado()}}]});yield o.present()})}cambiarEstado(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&this.hojaApi.editarCita(t.token,this.active.snapshot.paramMap.get("id"),{estado:this.estado}).subscribe(t=>{console.log(t),t.exe?this.toast.toastExitoso("Estado cambiado"):this.toast.toastError("No se pudo cambiar el estado de la cita, int\xe9ntelo \xe1s tarde")},t=>{this.toast.toastError("No se pudo cambiar el estado de la cita, int\xe9ntelo \xe1s tarde")})})}}return t.\u0275fac=function(o){return new(o||t)(c.Lb(s.qb),c.Lb(s.b),c.Lb(d.a),c.Lb(n.a),c.Lb(n.g),c.Lb(l.a),c.Lb(h.a),c.Lb(b.a),c.Lb(s.rb))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-hoja"]],decls:46,vars:17,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","start"],["icon","chevron-back-outline","defaultHref","/central/menu"],["slot","fixed","pullFactor","0.5","pullMin","50","pullMax","150",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles"],[1,"content"],[1,"divider"],["class","placa",4,"ngIf"],[4,"ngIf"],["color","light"],["class","flexbetver",4,"ngIf"],[1,"segment"],["class","color",3,"click",4,"ngIf"],["class","color2",4,"ngIf"],[1,"fotos"],[3,"color","click",4,"ngFor","ngForOf"],["placeholder","Observaciones","rows","5",1,"obs",3,"value","ionChange"],["mode","ios","color","light",3,"click"],["class","fl",4,"ngIf"],["class","pointer","color","medium",3,"click",4,"ngIf"],["mode","ios","expand","block","color","success",3,"click",4,"ngIf"],[1,"placa"],[1,"ion-text-wrap"],["value","",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mode","ios","color","primary","expand","block","slot","end",3,"click"],[1,"flexbetver"],["src","/assets/Hojas.png","width","70px","alt",""],[1,"tituloGrande"],[1,"color",3,"click"],[1,"none"],[1,"add"],["color","medium"],["name","add","slot","icon-only"],[1,"color2"],["animated",""],[3,"click"],["width","100%","alt","",3,"src",4,"ngIf"],["width","100%","alt","",3,"src"],["slot","end",4,"ngIf"],["class","divider",4,"ngIf"],[4,"ngFor","ngForOf"],["slot","end"],[1,"sinfondo"],[1,"nombre"],[1,"flexbet"],[1,"verdei","padd"],[1,"verdei"],[1,"flexbet","bor"],[1,"rojoi"],["class","flexbet bor",4,"ngIf"],["side","end",4,"ngIf"],["side","end"],["color","warning",3,"click"],["name","pencil","slot","icon-only"],["color","danger",3,"click"],["name","trash","slot","icon-only"],[1,"fl"],["name","crescent","color","primary","mode","ios"],["color","oscuro",4,"ngIf"],["class","sinfondo",4,"ngFor","ngForOf"],["color","medium",1,"pointer",3,"click"],["mode","ios","expand","block","color","success",3,"click"]],template:function(t,o){1&t&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar",1),c.Ob(2,"ion-buttons",2),c.Mb(3,"ion-back-button",3),c.Nb(),c.Ob(4,"ion-title"),c.wc(5,"Hoja de Vida"),c.Nb(),c.Nb(),c.Nb(),c.Ob(6,"ion-content"),c.Ob(7,"ion-refresher",4),c.Wb("ionRefresh",function(t){return o.refrescando(t)}),c.Mb(8,"ion-refresher-content",5),c.Nb(),c.Ob(9,"div",6),c.Mb(10,"div",7),c.vc(11,D,2,1,"div",8),c.Mb(12,"div",7),c.vc(13,q,10,2,"ion-list",9),c.Mb(14,"div",7),c.Ob(15,"ion-item-divider",10),c.wc(16," Registro Fotogr\xe1fico "),c.Nb(),c.vc(17,U,4,0,"div",11),c.Ob(18,"div",12),c.vc(19,G,9,0,"div",13),c.vc(20,V,4,0,"div",14),c.vc(21,X,4,0,"div",14),c.Nb(),c.Ob(22,"ion-item-divider",10),c.wc(23,"Fotos de entrada"),c.Nb(),c.Ob(24,"div",15),c.vc(25,Z,2,3,"div",16),c.Nb(),c.Ob(26,"ion-item-divider",10),c.wc(27,"Novedades"),c.Nb(),c.Ob(28,"div",15),c.vc(29,K,2,3,"div",16),c.Nb(),c.Ob(30,"ion-item-divider",10),c.wc(31,"Fotos de Salida"),c.Nb(),c.Ob(32,"div",15),c.vc(33,tt,2,3,"div",16),c.Nb(),c.vc(34,nt,7,3,"ion-list",9),c.vc(35,lt,7,3,"ion-list",9),c.Mb(36,"br"),c.Ob(37,"ion-textarea",17),c.Wb("ionChange",function(t){return o.observacion(t)}),c.Nb(),c.Ob(38,"ion-button",18),c.Wb("click",function(){return o.guardarObservacion()}),c.wc(39,"Guardar Observaciones"),c.Nb(),c.vc(40,ht,4,0,"div",19),c.Mb(41,"div",7),c.vc(42,ft,3,2,"div",9),c.vc(43,gt,3,2,"div",9),c.vc(44,Ot,3,0,"ion-item-divider",20),c.vc(45,jt,2,0,"ion-button",21),c.Nb(),c.Nb()),2&t&&(c.Ab(11),c.fc("ngIf","hoja"===o.tipo),c.Ab(2),c.fc("ngIf",o.miid===o.idtaller),c.Ab(4),c.fc("ngIf",0===o.fotos.length&&0===o.trabajos.length&&0===o.repuestos.length&&!o.cargaFotos&&"USER_ROLE"===o.role&&!o.accesos),c.Ab(2),c.fc("ngIf","TALLER_ROLE"===o.role||o.accesos),c.Ab(1),c.fc("ngIf",o.cargaFotos),c.Ab(1),c.fc("ngIf",o.cargaFotos),c.Ab(4),c.fc("ngForOf",o.fotos),c.Ab(4),c.fc("ngForOf",o.fotos),c.Ab(4),c.fc("ngForOf",o.fotos),c.Ab(1),c.fc("ngIf","TALLER_ROLE"===o.role||o.accesos||o.repuestos.length>0),c.Ab(1),c.fc("ngIf","TALLER_ROLE"===o.role||o.accesos||o.trabajos.length>0),c.Ab(2),c.fc("value",o.observaciones),c.Ab(3),c.fc("ngIf",o.obload),c.Ab(2),c.fc("ngIf",o.accesos),c.Ab(1),c.fc("ngIf",!o.accesos),c.Ab(1),c.fc("ngIf",o.miid===o.idtaller&&""===o.idu),c.Ab(1),c.fc("ngIf",o.accesos))},directives:[s.z,s.lb,s.k,s.g,s.h,s.jb,s.t,s.Q,s.R,i.j,s.G,i.i,s.hb,s.yb,s.j,s.L,s.K,s.F,s.X,s.xb,s.Y,s.A,s.Z,s.J,s.I,s.H,s.cb],pipes:[O.a],styles:[".color[_ngcontent-%COMP%]{margin:5px;width:150px;max-width:150px;height:150px;border-radius:10px;background:#b6e5fb;display:flex;justify-content:center;align-items:center;flex-direction:column}.obs[_ngcontent-%COMP%]{width:100%;padding:5px;border:1px solid rgba(0,0,0,.1);border-radius:10px;background-color:#fff}.fl[_ngcontent-%COMP%]{display:flex;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}.segment[_ngcontent-%COMP%]{overflow:hidden;overflow-x:scroll;display:inline-block}.fotos[_ngcontent-%COMP%], .segment[_ngcontent-%COMP%]{width:100%;background-color:#fff}.fotos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.content[_ngcontent-%COMP%]{max-width:800px;margin:auto}.color2[_ngcontent-%COMP%]{margin:5px;min-width:150px;height:150px;border-radius:10px;background:#f1f1f1}.color2[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:150px;height:100%!important;margin-top:0!important}.color[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;overflow:hidden}.camarillo[_ngcontent-%COMP%]{background:#fdf2c0;padding:5px}.none[_ngcontent-%COMP%]{opacity:0;display:none}.add[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:var(--ion-color-medium)}.tituloGrande[_ngcontent-%COMP%]{font-size:22px;width:250px;margin:auto;text-align:center;opacity:.3;padding:8px 0}.flexbet[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.padd[_ngcontent-%COMP%]{padding-right:14px}.flexbet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50%}.nombre[_ngcontent-%COMP%]{background-color:#fdf2c0;padding:2px 10px}.verdei[_ngcontent-%COMP%]{color:#18713c}.rojoi[_ngcontent-%COMP%]{color:red}.estadobol[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:100%}.estado-verde[_ngcontent-%COMP%]{background:#85b84f}.estado-amarillo[_ngcontent-%COMP%]{background:#fcd573}.estado-azul[_ngcontent-%COMP%]{background:#5591b1}.flexbetver[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.flexbetver[_ngcontent-%COMP%]   .tituloGrande[_ngcontent-%COMP%]{opacity:.3}.placa[_ngcontent-%COMP%]{width:150px;background-color:#ffa800;color:#000;font-size:22px;text-align:center;padding:10px;border-radius:5px;font-weight:700;border:3px solid #000}"]}),t})()}];let xt=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[n.j.forChild(Nt)],n.j]}),t})();var Et=e("iTUp");let At=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[i.b,a.e,s.mb,xt,Et.a]]}),t})()},fqim:function(t,o,e){"use strict";e.d(o,"a",function(){return a});var i=e("fXoL");let a=(()=>{class t{transform(t,o){return 0===t?0:new Intl.NumberFormat(o,{minimumFractionDigits:1}).format(t)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=i.Kb({name:"decimales",type:t,pure:!0}),t})()},r3ab:function(t,o,e){"use strict";e.d(o,"a",function(){return n});var i=e("mrSG"),a=e("fXoL"),s=e("TEn/");let n=(()=>{class t{constructor(t){this.loadingCtrl=t}cargaProcesos(t){return Object(i.a)(this,void 0,void 0,function*(){return this.loading=yield this.loadingCtrl.create({message:t}),this.loading.present()})}finalizarCargado(){this.loading.dismiss()}}return t.\u0275fac=function(o){return new(o||t)(a.Sb(s.ob))},t.\u0275prov=a.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);