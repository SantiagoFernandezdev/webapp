(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{B9W8:function(i,n,o){"use strict";o.r(n),o.d(n,"FacturaConfiguracionPageModule",function(){return p});var t=o("ofXK"),e=o("3Pt+"),c=o("TEn/"),r=o("tyNb"),a=o("mrSG"),s=o("fXoL"),b=o("fsfq"),l=o("6POk"),u=o("fmoy");function d(i,n){if(1&i){const i=s.Nb();s.Mb(0,"div",5),s.Mb(1,"ion-button",6),s.Ub("click",function(){return s.lc(i),s.Wb().habilitar()}),s.rc(2,"ABRIR CONFIGURACI\xd3N"),s.Lb(),s.Lb()}}function h(i,n){1&i&&(s.Mb(0,"ion-item",7),s.Mb(1,"ion-label"),s.rc(2,"PORCENTAJE DEL IVA"),s.Lb(),s.Lb())}function m(i,n){if(1&i){const i=s.Nb();s.Mb(0,"ion-item",8),s.Mb(1,"ion-input",19),s.Ub("ngModelChange",function(n){return s.lc(i),s.Wb(2).ivaValor=n}),s.Lb(),s.Lb()}if(2&i){const i=s.Wb(2);s.zb(1),s.dc("ngModel",i.ivaValor)}}function g(i,n){if(1&i){const i=s.Nb();s.Mb(0,"ion-list"),s.Mb(1,"ion-item",7),s.Mb(2,"ion-label"),s.rc(3,"NIT DE LA EMPRESA"),s.Lb(),s.Lb(),s.Mb(4,"ion-item",8),s.Mb(5,"ion-input",9),s.Ub("ngModelChange",function(n){return s.lc(i),s.Wb().nit=n}),s.Lb(),s.Lb(),s.Mb(6,"ion-item",7),s.Mb(7,"ion-label"),s.rc(8,"DIRECCI\xd3N DE LA EMPRESA"),s.Lb(),s.Lb(),s.Mb(9,"ion-item",8),s.Mb(10,"ion-input",9),s.Ub("ngModelChange",function(n){return s.lc(i),s.Wb().direccion=n}),s.Lb(),s.Lb(),s.Mb(11,"ion-item",7),s.Mb(12,"ion-label"),s.rc(13,"R\xc9GIMEN DE LA EMPRESA"),s.Lb(),s.Lb(),s.Mb(14,"ion-item",8),s.Mb(15,"ion-select",10),s.Ub("ionChange",function(n){return s.lc(i),s.Wb().regimenc(n)}),s.Mb(16,"ion-select-option",11),s.rc(17,"R\xe9gimen simplificado"),s.Lb(),s.Mb(18,"ion-select-option",11),s.rc(19,"R\xe9gimen com\xfan"),s.Lb(),s.Lb(),s.Lb(),s.Mb(20,"ion-item",7),s.Mb(21,"ion-label"),s.rc(22,"TITULAR DE LA EMPRESA (OPCIONAL)"),s.Lb(),s.Lb(),s.Mb(23,"ion-item",8),s.Mb(24,"ion-input",9),s.Ub("ngModelChange",function(n){return s.lc(i),s.Wb().titular=n}),s.Lb(),s.Lb(),s.Mb(25,"ion-item",12),s.Mb(26,"ion-label"),s.Mb(27,"div",13),s.rc(28," CONSECUTIVO "),s.Mb(29,"strong"),s.rc(30),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(31,"ion-item",14),s.Mb(32,"ion-label"),s.rc(33,"HABILITAR IVA"),s.Lb(),s.Mb(34,"ion-toggle",15),s.Ub("ionChange",function(n){return s.lc(i),s.Wb().cambiar(n)}),s.Lb(),s.Lb(),s.Kb(35,"br"),s.qc(36,h,3,0,"ion-item",16),s.qc(37,m,2,1,"ion-item",17),s.Kb(38,"br"),s.Mb(39,"ion-button",18),s.Ub("click",function(){return s.lc(i),s.Wb().guardar()}),s.rc(40,"GUDARDAR CONFIGURACI\xd3N"),s.Lb(),s.Lb()}if(2&i){const i=s.Wb();s.zb(5),s.dc("ngModel",i.nit),s.zb(5),s.dc("ngModel",i.direccion),s.zb(5),s.dc("value",i.regimen),s.zb(9),s.dc("ngModel",i.titular),s.zb(6),s.sc(i.consecutivo),s.zb(4),s.dc("checked",i.iva),s.zb(2),s.dc("ngIf",i.iva),s.zb(1),s.dc("ngIf",i.iva)}}const f=[{path:"",component:(()=>{class i{constructor(i,n,o){this.almacenamiento=i,this.apiFactura=n,this.toast=o,this.nuevo=!1,this.mostrar=!1,this.nit="",this.direccion="",this.regimen="",this.titular="",this.iva=!1,this.ivaValor=0,this.consecutivo="",this.proceso=!1}ngOnInit(){}ionViewWillEnter(){this.mostrar=!1,this.consultar()}consultar(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();i&&this.apiFactura.consultarConfiguracion(i.token).subscribe(i=>{i.exe?i.response?(this.regimen=i.response.regimen,this.direccion=i.response.direccion,this.titular=i.response.titular,this.nit=i.response.nit,this.iva=i.response.iva,this.ivaValor=i.response.valorIva,this.consecutivo=i.response.consecutivo,this.mostrar=!0):this.nuevo=!0:this.toast.toastError("No se pudo consultar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")},i=>{this.toast.toastError("No se pudo consultar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")})})}habilitar(){this.nuevo=!1,this.mostrar=!0}cambiar(i){this.iva=i.detail.checked}regimenc(i){this.regimen=i.detail.value}guardar(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();i&&this.apiFactura.editarConfiguracion(i.token,{regimen:this.regimen,direccion:this.direccion,titular:this.titular,iva:this.iva,nit:this.nit,valorIva:this.ivaValor}).subscribe(i=>{i.exe?this.toast.toastExitoso("Configuraci\xf3n actualizada"):this.toast.toastError("No se pudo guardar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")},i=>{this.toast.toastError("No se pudo guardar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")})})}}return i.\u0275fac=function(n){return new(n||i)(s.Jb(b.a),s.Jb(l.a),s.Jb(u.a))},i.\u0275cmp=s.Db({type:i,selectors:[["app-factura-configuracion"]],decls:8,vars:2,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","start","icon","chevron-back-outline","defaultHref","/central/menu/factura"],["class","ion-padding",4,"ngIf"],[4,"ngIf"],[1,"ion-padding"],["expand","block","mode","ios","color","success",3,"click"],["lines","none","mode","ios"],["mode","ios"],["placeholder","Escribir",3,"ngModel","ngModelChange"],["placeholder","Seleccionar","okText","Aceptar","cancelText","Cancelar",3,"value","ionChange"],["value","R\xe9gimen simplificado"],["lines","none","mode","ios",1,"sinfondo"],[1,"flexbet"],["lines","none","mode","ios","color","light"],["slot","end","color","success","mode","ios",3,"checked","ionChange"],["lines","none","mode","ios",4,"ngIf"],["mode","ios",4,"ngIf"],["expand","block","mode","ios","color","secondary",3,"click"],["type","number","placeholder","Escribir",3,"ngModel","ngModelChange"]],template:function(i,n){1&i&&(s.Mb(0,"ion-header",0),s.Mb(1,"ion-toolbar",1),s.Kb(2,"ion-back-button",2),s.Mb(3,"ion-title"),s.rc(4,"Configuraci\xf3n"),s.Lb(),s.Lb(),s.Lb(),s.Mb(5,"ion-content"),s.qc(6,d,3,0,"div",3),s.qc(7,g,41,8,"ion-list",4),s.Lb()),2&i&&(s.zb(6),s.dc("ngIf",n.nuevo),s.zb(1),s.dc("ngIf",n.mostrar))},directives:[c.z,c.jb,c.g,c.h,c.hb,c.t,t.j,c.j,c.L,c.F,c.K,c.E,c.wb,e.i,e.k,c.W,c.vb,c.X,c.ib,c.d,c.qb],styles:[".flexbet[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.cien[_ngcontent-%COMP%]{width:100%}"]}),i})()}];let M=(()=>{class i{}return i.\u0275mod=s.Hb({type:i}),i.\u0275inj=s.Gb({factory:function(n){return new(n||i)},imports:[[r.i.forChild(f)],r.i]}),i})(),p=(()=>{class i{}return i.\u0275mod=s.Hb({type:i}),i.\u0275inj=s.Gb({factory:function(n){return new(n||i)},imports:[[t.b,e.e,c.kb,M]]}),i})()}}]);