(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{ytyx:function(i,o,e){"use strict";e.r(o),e.d(o,"RecordatorioPageModule",function(){return ii});var n=e("ofXK"),t=e("3Pt+"),r=e("TEn/"),c=e("tyNb"),a=e("mrSG"),s=e("R0Ic"),b=e("fXoL"),l=e("Gq8O"),d=e("71hY"),u=e("fsfq"),m=e("fmoy");let p=(()=>{class i{transform(i,o,e){return""===(o=o.toLowerCase())?[]:i.filter(i=>{i.usuarioEmisor.checked=!1,e.length>0&&e.find(o=>o.id===i.usuarioEmisor._id)&&(i.usuarioEmisor.checked=!0);const n=i.usuarioEmisor.nombrecompleto;if(i.usuarioEmisor.nombrecompleto=i.usuarioEmisor.nombrecompleto.toLowerCase(),i.usuarioEmisor.nombrecompleto.includes(o))return i.usuarioEmisor.nombrecompleto=n,n})}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=b.Ib({name:"filtroRepo",type:i,pure:!0}),i})();function f(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-content",3),b.Mb(1,"ion-list"),b.Mb(2,"ion-item-divider",4),b.rc(3," Recordatorios para mis clientes "),b.Lb(),b.Lb(),b.Mb(4,"div",5),b.Mb(5,"div",6),b.Mb(6,"div",7),b.Ub("click",function(){return b.lc(i),b.Wb().crear("predeterminado_cliente")}),b.Kb(7,"ion-icon",8),b.Lb(),b.Mb(8,"div",9),b.Mb(9,"ion-label",10),b.Mb(10,"strong"),b.rc(11,"Crear Predeterminado"),b.Lb(),b.Kb(12,"br"),b.Lb(),b.Lb(),b.Lb(),b.Mb(13,"div",6),b.Mb(14,"div",7),b.Ub("click",function(){return b.lc(i),b.Wb().crear("personalizado_cliente")}),b.Kb(15,"ion-icon",8),b.Lb(),b.Mb(16,"div",9),b.Mb(17,"ion-label",10),b.Mb(18,"strong"),b.rc(19,"Crear Personalizado"),b.Lb(),b.Kb(20,"br"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(21,"ion-list"),b.Mb(22,"ion-item-divider",4),b.rc(23," Opciones "),b.Lb(),b.Lb(),b.Mb(24,"div",5),b.Mb(25,"div",6),b.Mb(26,"div",11),b.Ub("click",function(){return b.lc(i),b.Wb().cerrar()}),b.Kb(27,"ion-icon",12),b.Lb(),b.Mb(28,"div",9),b.Mb(29,"ion-label",10),b.Mb(30,"strong"),b.rc(31,"Cerrar"),b.Lb(),b.Kb(32,"br"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()}}function h(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-header",13),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-chip",14),b.Ub("click",function(){return b.lc(i),b.Wb().cancelar()}),b.Kb(3,"ion-icon",15),b.Mb(4,"ion-label"),b.rc(5,"Cancelar"),b.Lb(),b.Lb(),b.Mb(6,"ion-title",16),b.rc(7,"Predeterminados"),b.Lb(),b.Mb(8,"ion-chip",17),b.Ub("click",function(){return b.lc(i),b.Wb().guardar()}),b.Kb(9,"ion-icon",15),b.Mb(10,"ion-label"),b.rc(11,"Guardar"),b.Lb(),b.Lb(),b.Lb(),b.Lb()}}function g(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-item"),b.Mb(1,"ion-avatar",35),b.Kb(2,"img",36),b.Lb(),b.Mb(3,"ion-label"),b.Mb(4,"strong"),b.rc(5),b.Lb(),b.Kb(6,"br"),b.rc(7),b.Lb(),b.Mb(8,"ion-checkbox",37),b.Ub("ionChange",function(o){return b.lc(i),b.Wb(2).selectPersona(o)}),b.Lb(),b.Lb()}if(2&i){const i=o.$implicit;b.zb(2),b.fc("src","https://motocaliapp.com/",i.usuarioEmisor.image,"",b.mc),b.zb(3),b.sc(i.usuarioEmisor.nombrecompleto),b.zb(2),b.tc(" ",i.usuarioEmisor.nombreusuario," "),b.zb(1),b.ec("checked",i.usuarioEmisor.checked),b.ec("value",i.usuarioEmisor._id)}}function M(i,o){1&i&&b.Kb(0,"ion-icon",38)}function L(i,o){1&i&&b.Kb(0,"ion-icon",39)}function v(i,o){1&i&&b.Kb(0,"ion-icon",38)}function k(i,o){1&i&&b.Kb(0,"ion-icon",39)}function C(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-content",18),b.Kb(1,"div",19),b.Mb(2,"ion-list"),b.Mb(3,"ion-item-divider",20),b.Mb(4,"ion-label",16),b.rc(5,"\xbfPara que cliente est\xe1 dirigido?"),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"div",21),b.Mb(7,"ion-searchbar",22),b.Ub("ionChange",function(o){return b.lc(i),b.Wb().buscarPersona(o)}),b.Lb(),b.Lb(),b.Mb(8,"div",23),b.Mb(9,"ion-list"),b.qc(10,g,9,5,"ion-item",24),b.Xb(11,"filtroRepo"),b.Lb(),b.Lb(),b.Kb(12,"div",19),b.Mb(13,"ion-list"),b.Mb(14,"ion-item-divider",20),b.Mb(15,"ion-label",16),b.rc(16,"Frecuencia del recordatorio"),b.Lb(),b.Lb(),b.Lb(),b.Mb(17,"div",21),b.Mb(18,"div",25),b.Mb(19,"ion-card",26),b.Ub("click",function(){return b.lc(i),b.Wb().selectPredeterminado("diario")}),b.Mb(20,"ion-card-header",27),b.Mb(21,"div",28),b.qc(22,M,1,0,"ion-icon",29),b.qc(23,L,1,0,"ion-icon",30),b.Lb(),b.Lb(),b.Mb(24,"ion-card-content",10),b.Mb(25,"ion-label",10),b.rc(26,"Ejecutar cada d\xeda "),b.Lb(),b.Lb(),b.Lb(),b.Mb(27,"ion-card",26),b.Ub("click",function(){return b.lc(i),b.Wb().selectPredeterminado("mensual")}),b.Mb(28,"ion-card-header",27),b.Mb(29,"div",28),b.qc(30,v,1,0,"ion-icon",29),b.qc(31,k,1,0,"ion-icon",30),b.Lb(),b.Lb(),b.Mb(32,"ion-card-content",10),b.Mb(33,"ion-label",10),b.rc(34,"Ejecutar cada Mes "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Kb(35,"div",19),b.Mb(36,"ion-list"),b.Mb(37,"ion-item-divider",20),b.Mb(38,"ion-label",16),b.rc(39,"Informaci\xf3n"),b.Lb(),b.Lb(),b.Lb(),b.Mb(40,"div",21),b.Mb(41,"ion-list"),b.Mb(42,"ion-item"),b.Mb(43,"ion-input",31),b.Ub("ngModelChange",function(o){return b.lc(i),b.Wb().informacion.titulo=o}),b.Lb(),b.Lb(),b.Mb(44,"ion-item"),b.Mb(45,"ion-textarea",32),b.Ub("ngModelChange",function(o){return b.lc(i),b.Wb().informacion.contenido=o}),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Kb(46,"div",19),b.Mb(47,"ion-list"),b.Mb(48,"ion-item-divider",20),b.Mb(49,"ion-label",16),b.rc(50,"Configuraciones"),b.Lb(),b.Lb(),b.Lb(),b.Mb(51,"div",21),b.Mb(52,"ion-list"),b.Mb(53,"ion-item",33),b.Kb(54,"ion-checkbox",34),b.Mb(55,"ion-label"),b.rc(56,"Seguir recordando "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&i){const i=b.Wb();b.dc("@entrada",void 0),b.zb(10),b.dc("ngForOf",b.ac(11,12,i.clientes,i.texto,i.personasSelect)),b.zb(9),b.Bb("isSelect",i.predeterminado.diario),b.zb(3),b.dc("ngIf",!i.predeterminado.diario),b.zb(1),b.dc("ngIf",i.predeterminado.diario),b.zb(4),b.Bb("isSelect",i.predeterminado.mensual),b.zb(3),b.dc("ngIf",!i.predeterminado.mensual),b.zb(1),b.dc("ngIf",i.predeterminado.mensual),b.zb(12),b.dc("ngModel",i.informacion.titulo),b.zb(2),b.dc("ngModel",i.informacion.contenido)}}function y(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-item"),b.Mb(1,"ion-avatar",35),b.Kb(2,"img",36),b.Lb(),b.Mb(3,"ion-label"),b.Mb(4,"strong"),b.rc(5),b.Lb(),b.Kb(6,"br"),b.rc(7),b.Lb(),b.Mb(8,"ion-checkbox",37),b.Ub("ionChange",function(o){return b.lc(i),b.Wb(2).selectPersona(o)}),b.Lb(),b.Lb()}if(2&i){const i=o.$implicit;b.zb(2),b.fc("src","https://motocaliapp.com/",i.usuarioEmisor.image,"",b.mc),b.zb(3),b.sc(i.usuarioEmisor.nombrecompleto),b.zb(2),b.tc(" ",i.usuarioEmisor.nombreusuario," "),b.zb(1),b.ec("checked",i.usuarioEmisor.checked),b.ec("value",i.usuarioEmisor._id)}}function x(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-item"),b.Mb(1,"ion-label"),b.rc(2),b.Lb(),b.Mb(3,"ion-input",47),b.Ub("ngModelChange",function(o){return b.lc(i),b.Wb(2).frecuencia.cantidad=o}),b.Lb(),b.Lb()}if(2&i){const i=b.Wb(2);b.zb(2),b.sc(i.msgFrecuencia),b.zb(1),b.dc("ngModel",i.frecuencia.cantidad)}}function z(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-content",18),b.Kb(1,"div",19),b.Mb(2,"ion-list"),b.Mb(3,"ion-item-divider",20),b.Mb(4,"ion-label",16),b.rc(5,"\xbfPara que cliente est\xe1 dirigido?"),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"div",21),b.Mb(7,"ion-searchbar",22),b.Ub("ionChange",function(o){return b.lc(i),b.Wb().buscarPersona(o)}),b.Lb(),b.Lb(),b.Mb(8,"div",23),b.Mb(9,"ion-list"),b.qc(10,y,9,5,"ion-item",24),b.Xb(11,"filtroRepo"),b.Lb(),b.Lb(),b.Kb(12,"div",19),b.Mb(13,"ion-list"),b.Mb(14,"ion-item-divider",20),b.Mb(15,"ion-label",16),b.rc(16,"Frecuencia del recordatorio"),b.Lb(),b.Lb(),b.Lb(),b.Mb(17,"div",21),b.Mb(18,"ion-list"),b.Mb(19,"ion-item"),b.Mb(20,"ion-label"),b.rc(21,"Seleccione Frecuencia"),b.Lb(),b.Mb(22,"ion-select",40),b.Ub("ionChange",function(o){return b.lc(i),b.Wb().frecuenciaPersonalizada(o)}),b.Mb(23,"ion-select-option",41),b.rc(24,"Diario"),b.Lb(),b.Mb(25,"ion-select-option",42),b.rc(26,"Semanal"),b.Lb(),b.Mb(27,"ion-select-option",43),b.rc(28,"Mensual"),b.Lb(),b.Lb(),b.Lb(),b.qc(29,x,4,2,"ion-item",44),b.Lb(),b.Lb(),b.Kb(30,"div",19),b.Mb(31,"ion-list"),b.Mb(32,"ion-item-divider",20),b.Mb(33,"ion-label",16),b.rc(34,"Informaci\xf3n"),b.Lb(),b.Lb(),b.Lb(),b.Mb(35,"div",21),b.Mb(36,"ion-list"),b.Mb(37,"ion-item"),b.Mb(38,"ion-input",31),b.Ub("ngModelChange",function(o){return b.lc(i),b.Wb().informacion.titulo=o}),b.Lb(),b.Lb(),b.Mb(39,"ion-item"),b.Mb(40,"ion-textarea",32),b.Ub("ngModelChange",function(o){return b.lc(i),b.Wb().informacion.contenido=o}),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Kb(41,"div",19),b.Mb(42,"ion-list"),b.Mb(43,"ion-item-divider",20),b.Mb(44,"ion-label",16),b.rc(45,"Configuraciones"),b.Lb(),b.Lb(),b.Lb(),b.Mb(46,"div",21),b.Mb(47,"ion-list"),b.Mb(48,"ion-item",33),b.Mb(49,"ion-checkbox",45),b.Ub("ionChange",function(o){return b.lc(i),b.Wb().repetir(o)}),b.Lb(),b.Mb(50,"ion-label",16),b.rc(51,"Seguir recordando al usuario cada hora"),b.Lb(),b.Lb(),b.Mb(52,"ion-item-divider",46),b.Mb(53,"ion-label",16),b.rc(54,"Le recuerda al usuario hasta que confirme que visualiz\xf3 el recordatorio"),b.Lb(),b.Lb(),b.Mb(55,"ion-item",33),b.Mb(56,"ion-checkbox",45),b.Ub("ionChange",function(o){return b.lc(i),b.Wb().reprogramar(o)}),b.Lb(),b.Mb(57,"ion-label",16),b.rc(58,"Ejecutar de nuevo el recordatorio con el tiempo que tiene configurado"),b.Lb(),b.Lb(),b.Mb(59,"ion-item-divider",46),b.Mb(60,"ion-label",16),b.rc(61,"Programa una nueva fecha para la ejecuci\xf3n del recordatorio en base a la frecuencia configurada "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&i){const i=b.Wb();b.dc("@entrada",void 0),b.zb(10),b.dc("ngForOf",b.ac(11,8,i.clientes,i.texto,i.personasSelect)),b.zb(12),b.dc("value",i.frecuencia.patron),b.zb(7),b.dc("ngIf",""!==i.msgFrecuencia),b.zb(9),b.dc("ngModel",i.informacion.titulo),b.zb(2),b.dc("ngModel",i.informacion.contenido),b.zb(9),b.dc("checked",i.recheckedRecord),b.zb(7),b.dc("checked",i.repetirchecked)}}let O=(()=>{class i{constructor(i,o,e,n,t,r){this.modalCtrl=i,this.plt=o,this.apiSeguimiento=e,this.apiRecordatorio=n,this.almacenamiento=t,this.toastCtrl=r,this.configuracion=!0,this.predeterminado={semanal:!1,mensual:!1,diario:!1},this.clientes=[],this.texto="",this.personasSelect=[],this.msgFrecuencia="Cada cuantos d\xedas",this.tipo="",this.frecuencia={patron:"diario",cantidad:0},this.informacion={titulo:"",contenido:"",archivos:[]},this.repetirRecordatorio="SI",this.repetirProgramacion="SI",this.repetirchecked=!0,this.recheckedRecord=!0,this.plt.backButton.subscribe(i=>{this.configuracion?this.cerrar():this.configuracion=!1})}ngOnInit(){}ionViewWillEnter(){"editar"===this.type?(this.configuracion=!0,this.evaluar()):"informacion"===this.type||(this.configuracion=!1),this.alAbrir()}evaluar(){if("personalizado"===this.recordatorioData.tipo){this.vista="2";const i=this.recordatorioData;this.informacion=i.informacion,this.repetirProgramacion=i.repetirprograma,this.repetirRecordatorio=i.repetir,this.repetirchecked="SI"===i.repetirprograma,this.recheckedRecord="SI"===i.repetir,this.frecuencia=i.frecuencia,this.cambiarMensaje(i.frecuencia.patron),this.personasSelect=i.destinatarios}else if("predeterminado"===this.recordatorioData.tipo){this.vista="1";const i=this.recordatorioData;this.informacion=i.informacion,this.repetirProgramacion=i.repetirprograma,this.repetirRecordatorio=i.repetir,this.recheckedRecord="SI"===i.repetir,this.frecuencia=i.frecuencia,this.personasSelect=i.destinatarios,this.predeterminado[i.frecuencia.patron]=!0}}cambiarMensaje(i){switch(i){case"diario":this.msgFrecuencia="Cada cuantos d\xedas";break;case"semanal":this.msgFrecuencia="Cada cuantas semanas";break;case"mensual":this.msgFrecuencia="Cada cuantos meses"}}alAbrir(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();i&&this.apiSeguimiento.solicitudesAceptadas(i.token,"sin receptor","0").subscribe(i=>{i.exe&&i.response.length>0&&i.response.forEach(i=>{i.usuarioEmisor.image=i.usuarioEmisor.imagen.length>0?i.usuarioEmisor.imagen[0].path:"ruta de app"}),this.clientes=i.response},i=>{})})}buscarPersona(i){this.texto=i.detail.value}selectPersona(i){if(i.detail.checked){if(!this.personasSelect.find(o=>o.id===i.detail.value)){const o=this.clientes.filter(o=>o.usuarioEmisor._id===i.detail.value);this.personasSelect.push({id:i.detail.value,visto:"NO",dispositivo:o[0].usuarioEmisor.usuarioID})}}else this.personasSelect=this.personasSelect.filter(o=>o.id!==i.detail.value)}crear(i){switch(i){case"predeterminado_cliente":this.vista="1";break;case"personalizado_cliente":this.vista="2"}this.configuracion=!0}cancelar(){"editar"===this.type?this.cerrar():this.configuracion=!1}selectPredeterminado(i){switch(i){case"diario":this.predeterminado.diario=!this.predeterminado.diario,this.frecuencia.cantidad=1,this.frecuencia.patron="diario",this.predeterminado.mensual=!1;break;case"semanal":this.predeterminado.semanal=!this.predeterminado.semanal;break;case"mensual":this.frecuencia.cantidad=1,this.frecuencia.patron="mensual",this.predeterminado.mensual=!this.predeterminado.mensual,this.predeterminado.diario=!1}}frecuenciaPersonalizada(i){switch(this.frecuencia.patron=i.detail.value,i.detail.value){case"diario":this.msgFrecuencia="Cada cuantos d\xedas";break;case"semanal":this.msgFrecuencia="Cada cuantas semanas";break;case"mensual":this.msgFrecuencia="Cada cuantos meses"}}repetir(i){i.detail.checked?(this.repetirRecordatorio="SI",this.recheckedRecord=!0):(this.repetirRecordatorio="NO",this.recheckedRecord=!1)}reprogramar(i){i.detail.checked?(this.repetirProgramacion="SI",this.repetirchecked=!0):(this.repetirProgramacion="NO",this.repetirchecked=!1)}cerrar(){this.modalCtrl.dismiss({})}guardar(){return Object(a.a)(this,void 0,void 0,function*(){if(this.personasSelect.length>0&&""!==this.informacion.titulo&&""!==this.informacion.contenido&&""!==this.frecuencia.patron&&this.frecuencia.cantidad>0){const i=yield this.almacenamiento.obtenerToken(),o={tipo:"1"===this.vista?"predeterminado":"personalizado",destinos:this.personasSelect,informacion:this.informacion,frecuencia:this.frecuencia,repetir:this.repetirRecordatorio,repetirprograma:this.repetirProgramacion};i&&("editar"===this.type?(o._id=this.recordatorioData._id,this.apiRecordatorio.putRecordatorio(i.token,o).subscribe(i=>{i.exe?(this.toastCtrl.alertApplication("Recordatorio actualizado con \xe9xito",!0),this.cerrar()):this.toastCtrl.alertApplication("No se pudo actualizar el recordatorio, intentelo m\xe1s tarde",!1)},i=>{})):this.apiRecordatorio.postRecordatorio(i.token,o).subscribe(i=>{i.exe?(this.toastCtrl.alertApplication("Recordatorio creado con \xe9xito",!0),this.cerrar()):this.toastCtrl.alertApplication("No se pudo crear el recordatorio, intentelo m\xe1s tarde",!1)},i=>{}))}else this.toastCtrl.alertApplication("Debe completar toda la informaci\xf3n",!1)})}}return i.\u0275fac=function(o){return new(o||i)(b.Jb(r.ob),b.Jb(r.rb),b.Jb(l.a),b.Jb(d.a),b.Jb(u.a),b.Jb(m.a))},i.\u0275cmp=b.Db({type:i,selectors:[["app-recordatorio-modal"]],inputs:{type:"type",recordatorioData:"recordatorioData"},decls:4,vars:4,consts:[["fullscreen","true",4,"ngIf"],["class","ion-no-border",4,"ngIf"],["fullscreen","true","color","muro",4,"ngIf"],["fullscreen","true"],["color","light",1,"ion-padding"],[1,"divider","caja-flex"],[1,"opt"],[1,"boton","btn-verde",3,"click"],["color","blanco","slot","icon-only","name","add-outline"],[1,"des"],[1,"ion-text-center"],[1,"boton","btn-rojo",3,"click"],["color","blanco","slot","icon-only","name","close-outline"],[1,"ion-no-border"],["slot","start","color","danger",3,"click"],["name","close"],[1,"ion-text-wrap"],["slot","end","color","success",3,"click"],["fullscreen","true","color","muro"],[1,"divider"],["color","light"],[1,"divider","blanco"],["mode","ios","placeholder","Buscar Cliente",1,"ion-margin-bottom",3,"ionChange"],[1,"blanco","ion-margin-bottom"],[4,"ngFor","ngForOf"],[1,"miflex"],["mode","md",1,"tarjeta",3,"click"],[1,"headercard"],[1,"boton","btn-gris"],["color","dark","slot","icon-only","name","megaphone-outline",4,"ngIf"],["color","success","slot","icon-only","name","megaphone-outline",4,"ngIf"],["type","text","placeholder","Titulo del Recordatorio",3,"ngModel","ngModelChange"],["rows","5","placeholder","Contenido del Recordatorio",3,"ngModel","ngModelChange"],["lines","none",1,"ion-margin-bottom"],["checked","true","slot","start","color","success"],["slot","start",1,"avatar"],[3,"src"],["slot","end","color","success",3,"checked","value","ionChange"],["color","dark","slot","icon-only","name","megaphone-outline"],["color","success","slot","icon-only","name","megaphone-outline"],["okText","Aceptar","cancelText","Cerrar",3,"value","ionChange"],["value","diario"],["value","semanal"],["value","mensual"],[4,"ngIf"],["slot","start","color","success",3,"checked","ionChange"],[1,"anuncio"],["type","number","value","1",3,"ngModel","ngModelChange"]],template:function(i,o){1&i&&(b.qc(0,f,33,0,"ion-content",0),b.qc(1,h,12,0,"ion-header",1),b.qc(2,C,57,16,"ion-content",2),b.qc(3,z,62,12,"ion-content",2)),2&i&&(b.dc("ngIf",!o.configuracion),b.zb(1),b.dc("ngIf",o.configuracion),b.zb(1),b.dc("ngIf",o.configuracion&&"1"===o.vista),b.zb(1),b.dc("ngIf",o.configuracion&&"2"===o.vista))},directives:[n.j,r.t,r.L,r.G,r.A,r.K,r.z,r.jb,r.r,r.hb,r.T,r.wb,n.i,r.l,r.n,r.m,r.F,r.E,t.i,t.k,r.fb,r.q,r.d,r.f,r.W,r.vb,r.X,r.qb],pipes:[p],styles:[".caja-flex[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-around}.avatar[_ngcontent-%COMP%]{width:50px;height:50px}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.opt[_ngcontent-%COMP%]{width:calc(50% - 10px);margin:5px;display:flex;align-items:center;flex-direction:column}.opt[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]{padding:5px}.boton[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:100%;color:#fff;display:flex;justify-content:center;align-items:center;font-size:40px;font-weight:100}.btn-verde[_ngcontent-%COMP%]:hover{background-color:#1e8c4a}.btn-verde[_ngcontent-%COMP%]{background-color:var(--ion-color-success)}.btn-amarillo[_ngcontent-%COMP%]{background-color:var(--ion-color-warning)}.btn-amarillo[_ngcontent-%COMP%]:hover{background-color:#aa8206}.btn-rojo[_ngcontent-%COMP%]{background-color:var(--ion-color-danger)}.btn-gris[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}.btn-rojo[_ngcontent-%COMP%]:hover{background-color:#9c2d3c}.miflex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tarjeta[_ngcontent-%COMP%]{width:calc(50% - 10px);margin:5px;box-shadow:none;opacity:.5;border:1px solid rgba(3,3,3,.1);transition:all .1s}.headercard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.isSelect[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;border:2px solid var(--ion-color-success)}.anuncio[_ngcontent-%COMP%]{background-color:#fffbe5!important}"],data:{animation:[Object(s.l)("entrada",[Object(s.k)(":enter",[Object(s.j)({opacity:0}),Object(s.e)("300ms",Object(s.j)({opacity:1}))]),Object(s.k)(":leave",[Object(s.j)({opacity:0})])])]}}),i})();var R=e("MUpS"),P=e("FlrC");let I=(()=>{class i{transform(i,o,e){e=e.toLowerCase(),console.log(e,i);let n=i;return""!==e&&(n=i.filter(i=>{const o=i.informacion.titulo.toLowerCase(),n=i.informacion.contenido.toLowerCase();if(o.includes(e)||n.includes(e))return i.nada=!1,i})),n=n.filter(i=>i.tipo===o),0===n.length?[{nada:!0}]:n}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=b.Ib({name:"filtroRecorList",type:i,pure:!0}),i})(),E=(()=>{class i{transform(i){return i.length>=50?i.substr(0,50)+"...":i}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=b.Ib({name:"recortar",type:i,pure:!0}),i})();function j(i,o){1&i&&(b.Mb(0,"ion-toolbar",14),b.Mb(1,"ion-buttons",15),b.Kb(2,"ion-back-button",16),b.Lb(),b.Mb(3,"ion-title"),b.rc(4,"Recordatorios"),b.Lb(),b.Lb()),2&i&&b.dc("@entrada",void 0)}function w(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-toolbar",17),b.Mb(1,"ion-title"),b.rc(2,"Opciones"),b.Lb(),b.Mb(3,"ion-buttons",18),b.Mb(4,"ion-button",19),b.Ub("click",function(){return b.lc(i),b.Wb().informacion()}),b.Kb(5,"ion-icon",20),b.Lb(),b.Mb(6,"ion-button",19),b.Ub("click",function(){return b.lc(i),b.Wb().modal("editar")}),b.Kb(7,"ion-icon",21),b.Lb(),b.Mb(8,"ion-button",19),b.Ub("click",function(){return b.lc(i),b.Wb().eliminarRecordatorio()}),b.Kb(9,"ion-icon",22),b.Lb(),b.Mb(10,"ion-button",19),b.Ub("click",function(){return b.lc(i),b.Wb().cerrarOpt()}),b.Kb(11,"ion-icon",23),b.Lb(),b.Lb(),b.Lb()}2&i&&b.dc("@entrada",void 0)}function K(i,o){1&i&&b.Kb(0,"ion-icon",31)}function _(i,o){if(1&i&&(b.Mb(0,"ion-label",32),b.Mb(1,"strong"),b.rc(2),b.Lb(),b.Kb(3,"br"),b.rc(4),b.Xb(5,"recortar"),b.Kb(6,"br"),b.Mb(7,"strong",33),b.rc(8),b.Lb(),b.Lb()),2&i){const i=b.Wb().$implicit;b.zb(2),b.sc(i.informacion.titulo),b.zb(2),b.tc(" ",b.Yb(5,3,i.informacion.contenido)," "),b.zb(4),b.tc("Frecuencia ",i.frecuencia.patron,"")}}function S(i,o){1&i&&(b.Mb(0,"div",34),b.Mb(1,"h3"),b.rc(2,"No hay resultados"),b.Lb(),b.Lb())}function W(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-item",27),b.Ub("press",function(){b.lc(i);const e=o.$implicit;return b.Wb(2).opciones(e)}),b.qc(1,K,1,0,"ion-icon",28),b.qc(2,_,9,5,"ion-label",29),b.qc(3,S,3,0,"div",30),b.Lb()}if(2&i){const i=o.$implicit;b.Bb("select",i.checked),b.dc("lines",i.nada?"none":""),b.zb(1),b.dc("ngIf",!i.nada),b.zb(1),b.dc("ngIf",!i.nada),b.zb(1),b.dc("ngIf",i.nada)}}function q(i,o){if(1&i&&(b.Mb(0,"div",24),b.Mb(1,"ion-list"),b.Mb(2,"ion-item-divider",25),b.rc(3,"Personalizados"),b.Lb(),b.Mb(4,"div",6),b.qc(5,W,4,6,"ion-item",26),b.Xb(6,"filtroRecorList"),b.Lb(),b.Lb(),b.Lb()),2&i){const i=b.Wb();b.zb(5),b.dc("ngForOf",b.ac(6,1,i.lista,"personalizado",i.texto))}}function U(i,o){1&i&&b.Kb(0,"div",6)}function F(i,o){1&i&&b.Kb(0,"ion-icon",31)}function N(i,o){if(1&i&&(b.Mb(0,"ion-label",32),b.Mb(1,"strong"),b.rc(2),b.Lb(),b.Kb(3,"br"),b.rc(4),b.Xb(5,"recortar"),b.Kb(6,"br"),b.Mb(7,"strong",33),b.rc(8),b.Lb(),b.Lb()),2&i){const i=b.Wb().$implicit;b.zb(2),b.sc(i.informacion.titulo),b.zb(2),b.tc(" ",b.Yb(5,3,i.informacion.contenido)," "),b.zb(4),b.tc("Frecuencia ",i.frecuencia.patron,"")}}function A(i,o){1&i&&(b.Mb(0,"div",34),b.Mb(1,"h3"),b.rc(2,"No hay resultados"),b.Lb(),b.Lb())}function T(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-item",27),b.Ub("press",function(){b.lc(i);const e=o.$implicit;return b.Wb(2).opciones(e)}),b.qc(1,F,1,0,"ion-icon",28),b.qc(2,N,9,5,"ion-label",29),b.qc(3,A,3,0,"div",30),b.Lb()}if(2&i){const i=o.$implicit;b.Bb("select",i.checked),b.dc("lines",i.nada?"none":""),b.zb(1),b.dc("ngIf",!i.nada),b.zb(1),b.dc("ngIf",!i.nada),b.zb(1),b.dc("ngIf",i.nada)}}function J(i,o){if(1&i&&(b.Mb(0,"div",24),b.Mb(1,"ion-list"),b.Mb(2,"ion-item-divider",25),b.rc(3,"Predeterminados"),b.Lb(),b.Mb(4,"div",6),b.qc(5,T,4,6,"ion-item",26),b.Xb(6,"filtroRecorList"),b.Lb(),b.Lb(),b.Lb()),2&i){const i=b.Wb();b.zb(5),b.dc("ngForOf",b.ac(6,1,i.lista,"predeterminado",i.texto))}}function D(i,o){1&i&&b.Kb(0,"div",35)}function X(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-item",19),b.Ub("click",function(){b.lc(i);const e=o.$implicit;return b.Wb(2).ver(e)}),b.Kb(1,"ion-icon",31),b.Mb(2,"ion-label",32),b.Mb(3,"strong"),b.rc(4),b.Lb(),b.Kb(5,"br"),b.rc(6),b.Xb(7,"recortar"),b.Kb(8,"br"),b.Mb(9,"strong",33),b.rc(10),b.Lb(),b.Lb(),b.Lb()}if(2&i){const i=o.$implicit;b.zb(4),b.sc(i.informacion.titulo),b.zb(2),b.tc(" ",b.Yb(7,3,i.informacion.contenido)," "),b.zb(4),b.tc("Frecuencia ",i.frecuencia.patron,"")}}function $(i,o){if(1&i&&(b.Mb(0,"div",24),b.Mb(1,"ion-list"),b.Mb(2,"ion-item-divider",36),b.rc(3,"Personalizados"),b.Lb(),b.Mb(4,"div",6),b.qc(5,X,11,5,"ion-item",37),b.Lb(),b.Lb(),b.Lb()),2&i){const i=b.Wb();b.zb(5),b.dc("ngForOf",i.lista)}}function G(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-fab",38),b.Mb(1,"ion-fab-button",39),b.Ub("click",function(){return b.lc(i),b.Wb().modal("normal")}),b.Kb(2,"ion-icon",40),b.Lb(),b.Lb()}}const B=[{path:"",component:(()=>{class i{constructor(i,o,e,n,t,r,c,a){this.modalCtrl=i,this.animationCtrl=o,this.apiSeguimiento=e,this.apiRecordatorios=n,this.almacenamiento=t,this.miToast=r,this.alertCtrl=c,this.entrada=a,this.lista=[],this.vista="1",this.role="",this.texto=""}ngOnInit(){}ionViewWillEnter(){this.listaRecordatorios()}refrescando(i){return Object(a.a)(this,void 0,void 0,function*(){yield this.listaRecordatorios(),i.target.complete()})}listaRecordatorios(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();if(i)return this.role=i.role,"USER_ROLE"!==i.role?this.apiRecordatorios.getRecordatorio(i.token).subscribe(i=>{i.exe?(i.response.forEach(i=>{i.checked=!1}),this.lista=i.response):this.miToast.alertApplication("No se pudo traer los recordatorios, intentelo m\xe1s tarde",!1)}):this.apiRecordatorios.getRecordatorioPersona(i.token).subscribe(i=>{i.exe?(i.response.forEach(i=>{i.checked=!1}),this.lista=i.response):this.miToast.alertApplication("No se pudo traer los recordatorios, intentelo m\xe1s tarde",!1)}),!0})}opciones(i){this.recordatorio||(this.vista="2",i.checked=!i.checked,this.recordatorio=i)}eliminarRecordatorio(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.alertCtrl.create({header:"Borrar Recordatorio",message:"\xbfEst\xe1 seguro de eliminar este recordatorio de forma permanente?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:()=>Object(a.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();i&&this.apiRecordatorios.deleteRecordatorio(i.token,this.recordatorio._id).subscribe(i=>{i.exe?(this.miToast.alertApplication("El recordatorio ha sido eliminado",!0),this.listaRecordatorios()):this.miToast.alertApplication("No se pudo borrar el recordatorio, intentelo m\xe1s tarde",!1),this.recordatorio=!1})})}]});return yield i.present()})}cerrarOpt(){this.vista="1",this.lista.forEach(i=>i.checked=!1),this.recordatorio=!1}modal(i){return Object(a.a)(this,void 0,void 0,function*(){const o=i=>{const o=this.animationCtrl.create().addElement(i.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),e=this.animationCtrl.create().addElement(i.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)  translateX(300px)"},{offset:1,opacity:"0.99",transform:"scale(1) translateX(0)"}]);return this.animationCtrl.create().addElement(i).easing("ease-out").duration(300).addAnimation([o,e])},e=yield this.modalCtrl.create({component:O,componentProps:{type:i,recordatorioData:this.recordatorio},mode:"ios",enterAnimation:o,leaveAnimation:i=>o(i).direction("reverse")});yield e.present(),(yield e.onWillDismiss())&&(this.recordatorio=!1,this.vista="1",this.listaRecordatorios())})}informacion(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.modalCtrl.create({component:R.a,componentProps:{type:"recordatorio",data:this.recordatorio}});yield i.present(),yield i.onWillDismiss()})}filtrar(i){this.texto=i.detail.value}ver(i){this.entrada.mostrarSoloUna(i)}}return i.\u0275fac=function(o){return new(o||i)(b.Jb(r.ob),b.Jb(r.c),b.Jb(l.a),b.Jb(d.a),b.Jb(u.a),b.Jb(m.a),b.Jb(r.b),b.Jb(P.a))},i.\u0275cmp=b.Db({type:i,selectors:[["app-recordatorio"]],decls:16,vars:8,consts:[[1,"ion-no-border"],["color","oscuro","mode","md",4,"ngIf"],["color","barra","mode","md",4,"ngIf"],["color","light"],["slot","fixed","pullFactor","0.5","pullMin","50","pullMax","150",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles"],[1,"divider"],[1,"divider","blanco"],["mode","ios","placeholder","Buscar Recordatorio",3,"ionChange"],["class","blanco",4,"ngIf"],["class","divider",4,"ngIf"],["class"," blanco",4,"ngIf"],["class","divider light",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],["color","oscuro","mode","md"],["slot","start"],["icon","chevron-back-outline","defaultHref","/central/menu"],["color","barra","mode","md"],["slot","end"],[3,"click"],["name","information-outline","slot","icon-only"],["name","pencil-outline","slot","icon-only"],["name","trash-outline","slot","icon-only"],["name","close-outline","slot","icon-only"],[1,"blanco"],["color","medium",1,"color-blanco"],[3,"select","lines","press",4,"ngFor","ngForOf"],[3,"lines","press"],["name","megaphone-outline","slot","start",4,"ngIf"],["class","ion-text-wrap",4,"ngIf"],["class","nada",4,"ngIf"],["name","megaphone-outline","slot","start"],[1,"ion-text-wrap"],[1,"color-verde"],[1,"nada"],[1,"divider","light"],["color","medium"],[3,"click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","barra",3,"click"],["name","add-outline"]],template:function(i,o){1&i&&(b.Mb(0,"ion-header",0),b.qc(1,j,5,1,"ion-toolbar",1),b.qc(2,w,12,1,"ion-toolbar",2),b.Lb(),b.Mb(3,"ion-content",3),b.Mb(4,"ion-refresher",4),b.Ub("ionRefresh",function(i){return o.refrescando(i)}),b.Kb(5,"ion-refresher-content",5),b.Lb(),b.Kb(6,"div",6),b.Mb(7,"div",7),b.Mb(8,"ion-searchbar",8),b.Ub("ionChange",function(i){return o.filtrar(i)}),b.Lb(),b.Lb(),b.Kb(9,"div",6),b.qc(10,q,7,5,"div",9),b.qc(11,U,1,0,"div",10),b.qc(12,J,7,5,"div",11),b.qc(13,D,1,0,"div",12),b.qc(14,$,6,1,"div",9),b.qc(15,G,3,0,"ion-fab",13),b.Lb()),2&i&&(b.zb(1),b.dc("ngIf","1"===o.vista),b.zb(1),b.dc("ngIf","2"===o.vista),b.zb(8),b.dc("ngIf","USER_ROLE"!==o.role),b.zb(1),b.dc("ngIf","USER_ROLE"!==o.role),b.zb(1),b.dc("ngIf","USER_ROLE"!==o.role),b.zb(1),b.dc("ngIf","USER_ROLE"===o.role),b.zb(1),b.dc("ngIf","USER_ROLE"===o.role),b.zb(1),b.dc("ngIf","USER_ROLE"!==o.role))},directives:[r.z,n.j,r.t,r.P,r.Q,r.T,r.wb,r.jb,r.k,r.g,r.h,r.hb,r.j,r.A,r.L,r.G,n.i,r.F,r.K,r.v,r.w],pipes:[I,E],styles:["ion-card[_ngcontent-%COMP%]{margin:0}.color-verde[_ngcontent-%COMP%]{color:var(--ion-color-success)}.select[_ngcontent-%COMP%]{border:2px solid var(--ion-color-success)!important}.nada[_ngcontent-%COMP%]{width:100%;padding:10px;background:#fafafa;opacity:.7;display:flex;justify-content:center;align-items:center}.nada[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:100}"],data:{animation:[Object(s.l)("entrada",[Object(s.k)(":enter",[Object(s.j)({opacity:0}),Object(s.e)("300ms",Object(s.j)({opacity:1}))])])]}}),i})()}];let H=(()=>{class i{}return i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({factory:function(o){return new(o||i)},imports:[[c.i.forChild(B)],c.i]}),i})();const Y=[{path:"",component:O}];let V=(()=>{class i{}return i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({factory:function(o){return new(o||i)},imports:[[c.i.forChild(Y)],c.i]}),i})();var Q=e("iTUp");let Z=(()=>{class i{}return i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({factory:function(o){return new(o||i)},imports:[[n.b,t.e,r.kb,V,Q.a]]}),i})(),ii=(()=>{class i{}return i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({factory:function(o){return new(o||i)},imports:[[n.b,t.e,r.kb,H,Z,Q.a]]}),i})()}}]);