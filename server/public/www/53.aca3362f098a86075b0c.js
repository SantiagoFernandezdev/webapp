(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"99Un":function(e,o,i){"use strict";i.r(o),i.d(o,"HomePageModule",function(){return _});var t=i("ofXK"),r=i("TEn/"),n=i("3Pt+"),a=i("tyNb"),s=i("mrSG"),c=i("h7Pn"),b=i("fXoL"),l=i("oQG1"),d=i("fsfq"),u=i("fmoy"),h=i("CkIw"),p=i("1+ow"),g=i("FlrC"),m=i("3qam"),f=i("2c91");function v(e,o){if(1&e){const e=b.Nb();b.Mb(0,"div",6),b.Mb(1,"ion-list"),b.Mb(2,"ion-item",7),b.Mb(3,"ion-input",8),b.Ub("ngModelChange",function(o){return b.lc(e),b.Wb().miCodigo=o}),b.Lb(),b.Lb(),b.Kb(4,"br"),b.Mb(5,"div",9),b.rc(6,"Si no tiene un c\xf3digo, por favor contactenos por medio de este correo: velascosantiago28@gmail.com "),b.Lb(),b.Kb(7,"br"),b.Kb(8,"br"),b.Mb(9,"div",10),b.Mb(10,"ion-button",11),b.Ub("click",function(){return b.lc(e),b.Wb().verificar()}),b.rc(11,"Verificar"),b.Lb(),b.Mb(12,"ion-button",12),b.Ub("click",function(){return b.lc(e),b.Wb().ir()}),b.rc(13,"Volver"),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.Wb();b.zb(3),b.dc("ngModel",e.miCodigo)}}function M(e,o){if(1&e&&(b.Mb(0,"div",40),b.rc(1),b.Lb()),2&e){const e=b.Wb(2);b.Bb("brojo",!e.okUsuario)("bverde",e.okUsuario),b.zb(1),b.sc(e.msgUsuario)}}function C(e,o){if(1&e&&(b.Mb(0,"ion-select-option",41),b.rc(1),b.Lb()),2&e){const e=o.$implicit;b.dc("value",e),b.zb(1),b.sc(e.nombre)}}function L(e,o){1&e&&(b.Mb(0,"ion-item",29),b.Mb(1,"ion-chip",23),b.rc(2,"Requerido"),b.Lb(),b.Lb())}function x(e,o){if(1&e&&(b.Mb(0,"ion-select-option",41),b.rc(1),b.Lb()),2&e){const e=o.$implicit;b.ec("value",e.nombre),b.zb(1),b.sc(e.nombre)}}function k(e,o){if(1&e){const e=b.Nb();b.Mb(0,"ion-item",24),b.Mb(1,"ion-label",18),b.rc(2,"Selecciona la ciudad"),b.Lb(),b.Mb(3,"ion-select",25),b.Ub("ionChange",function(o){return b.lc(e),b.Wb(2).seleccionarCiudad(o)}),b.qc(4,x,2,2,"ion-select-option",26),b.Lb(),b.Lb()}if(2&e){const e=b.Wb(2);b.zb(4),b.dc("ngForOf",e.ciudades)}}function E(e,o){if(1&e&&(b.Mb(0,"div",40),b.rc(1),b.Lb()),2&e){const e=b.Wb(2);b.Bb("brojo",!e.okClave)("bverde",e.okClave),b.zb(1),b.sc(e.msgClave)}}function O(e,o){if(1&e){const e=b.Nb();b.Mb(0,"ion-item",42),b.Mb(1,"ion-checkbox",43),b.Ub("ionChange",function(o){return b.lc(e),b.Wb(2).agregarNegocios(o)}),b.Lb(),b.Mb(2,"ion-label"),b.rc(3),b.Lb(),b.Lb()}if(2&e){const e=o.$implicit;b.zb(1),b.ec("value",e.nombre),b.zb(2),b.sc(e.nombre)}}function S(e,o){if(1&e){const e=b.Nb();b.Mb(0,"div",6),b.Mb(1,"ion-list"),b.Mb(2,"ion-item",13),b.Mb(3,"ion-label"),b.rc(4,"Nombre Completo"),b.Lb(),b.Lb(),b.Mb(5,"ion-item",7),b.Mb(6,"ion-input",14),b.Ub("ngModelChange",function(o){return b.lc(e),b.Wb().ncompleto=o}),b.Lb(),b.Lb(),b.Kb(7,"br"),b.qc(8,M,2,5,"div",15),b.Mb(9,"ion-item",13),b.Mb(10,"ion-label"),b.rc(11,"Nombre usuario"),b.Lb(),b.Lb(),b.Mb(12,"ion-item",7),b.Mb(13,"ion-input",16),b.Ub("ionChange",function(o){return b.lc(e),b.Wb().comprobarUsuario(o)}),b.Lb(),b.Lb(),b.Kb(14,"br"),b.Mb(15,"ion-item",17),b.Mb(16,"ion-label",18),b.rc(17,"Escriba su correo electr\xf3nico (opcional)"),b.Lb(),b.Lb(),b.Mb(18,"ion-item",19),b.Mb(19,"ion-input",20),b.Ub("ngModelChange",function(o){return b.lc(e),b.Wb().correo=o}),b.Lb(),b.Lb(),b.Mb(20,"ion-item",17),b.Mb(21,"ion-label",18),b.rc(22,"Escriba su tel\xe9fono celular (opcional)"),b.Lb(),b.Lb(),b.Mb(23,"ion-item",19),b.Mb(24,"ion-input",21),b.Ub("ngModelChange",function(o){return b.lc(e),b.Wb().tel=o}),b.Lb(),b.Lb(),b.Mb(25,"ion-item",22),b.Mb(26,"ion-chip",23),b.rc(27,"Requerido"),b.Lb(),b.Lb(),b.Mb(28,"ion-item",24),b.Mb(29,"ion-label",18),b.rc(30,"Selecciona el Pa\xeds"),b.Lb(),b.Mb(31,"ion-select",25),b.Ub("ionChange",function(o){return b.lc(e),b.Wb().listarCiudades(o)}),b.qc(32,C,2,2,"ion-select-option",26),b.Lb(),b.Lb(),b.qc(33,L,3,0,"ion-item",27),b.qc(34,k,5,1,"ion-item",28),b.Kb(35,"br"),b.Mb(36,"ion-item",29),b.Mb(37,"ion-chip",23),b.rc(38,"Requerido"),b.Lb(),b.Lb(),b.qc(39,E,2,5,"div",15),b.Mb(40,"ion-item",17),b.Mb(41,"ion-label",18),b.rc(42,"Escriba su contrase\xf1a"),b.Lb(),b.Lb(),b.Mb(43,"ion-item",19),b.Mb(44,"ion-input",30),b.Ub("ionChange",function(o){return b.lc(e),b.Wb().comprobarClave(o,1)}),b.Lb(),b.Lb(),b.Mb(45,"ion-item",31),b.Mb(46,"ion-label",18),b.rc(47,"Confirmar la contrase\xf1a"),b.Lb(),b.Lb(),b.Mb(48,"ion-item",19),b.Mb(49,"ion-input",32),b.Ub("ionChange",function(o){return b.lc(e),b.Wb().comprobarClave(o,2)}),b.Lb(),b.Lb(),b.Kb(50,"br"),b.Mb(51,"ion-item",17),b.Mb(52,"ion-label",18),b.rc(53,"Tipo de negocio"),b.Lb(),b.Lb(),b.qc(54,O,4,2,"ion-item",33),b.Kb(55,"br"),b.Mb(56,"ion-item",34),b.Ub("click",function(){return b.lc(e),b.Wb().politicas()}),b.Mb(57,"ion-label",35),b.rc(58,"Leer pol\xedticas de datos"),b.Lb(),b.Lb(),b.Mb(59,"ion-item",36),b.Mb(60,"ion-checkbox",37),b.Ub("ionChange",function(o){return b.lc(e),b.Wb().aceptar(o)}),b.Lb(),b.Mb(61,"ion-label",18),b.rc(62,"Acepto pol\xedticas de datos"),b.Lb(),b.Lb(),b.Kb(63,"br"),b.Kb(64,"br"),b.Mb(65,"div",10),b.Mb(66,"ion-button",38),b.Ub("click",function(){return b.lc(e),b.Wb().ir()}),b.rc(67,"Cancelar"),b.Lb(),b.Mb(68,"ion-button",39),b.Ub("click",function(){return b.lc(e),b.Wb().guardar()}),b.rc(69,"Crear Cuenta"),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.Wb();b.zb(6),b.dc("ngModel",e.ncompleto),b.zb(2),b.dc("ngIf",e.usuarioValido),b.zb(11),b.dc("ngModel",e.correo),b.zb(5),b.dc("ngModel",e.tel),b.zb(8),b.dc("ngForOf",e.paises),b.zb(1),b.dc("ngIf",e.ciudad),b.zb(1),b.dc("ngIf",e.ciudad),b.zb(5),b.dc("ngIf",e.claveValida),b.zb(15),b.dc("ngForOf",e.negocios)}}const w=function(){return["/registro"]};function j(e,o){if(1&e){const e=b.Nb();b.Mb(0,"div",6),b.Mb(1,"div",10),b.Mb(2,"ion-card",44),b.Ub("click",function(){return b.lc(e),b.Wb().codigo()}),b.Mb(3,"ion-card-header"),b.Kb(4,"img",45),b.Lb(),b.Mb(5,"ion-card-title"),b.rc(6,"Negocio"),b.Lb(),b.Lb(),b.Mb(7,"ion-card",46),b.Mb(8,"ion-card-header"),b.Kb(9,"img",47),b.Lb(),b.Mb(10,"ion-card-title"),b.rc(11,"Persona"),b.Lb(),b.Lb(),b.Lb(),b.Kb(12,"br"),b.Kb(13,"br"),b.Mb(14,"ion-button",48),b.Ub("click",function(){return b.lc(e),b.Wb().retroceder()}),b.rc(15,"Navegar al inicio"),b.Lb(),b.Lb()}2&e&&(b.zb(7),b.dc("routerLink",b.gc(1,w)))}function N(e,o){1&e&&(b.Mb(0,"div",64),b.Kb(1,"ion-spinner",65),b.Mb(2,"p",2),b.rc(3,"Iniciando sesi\xf3n..."),b.Lb(),b.Lb())}function U(e,o){if(1&e){const e=b.Nb();b.Mb(0,"form",49),b.Ub("ngSubmit",function(){return b.lc(e),b.Wb().iniciar()}),b.Mb(1,"ion-grid"),b.Mb(2,"ion-row"),b.Mb(3,"ion-col",50),b.Mb(4,"ion-item",51),b.Kb(5,"ion-icon",52),b.Kb(6,"ion-input",53),b.Lb(),b.Lb(),b.Mb(7,"ion-col",50),b.Mb(8,"ion-item",51),b.Kb(9,"ion-icon",54),b.Kb(10,"ion-input",55),b.Lb(),b.Lb(),b.Kb(11,"br"),b.Kb(12,"br"),b.Mb(13,"ion-col",50),b.Mb(14,"ion-button",56),b.rc(15,"Iniciar Sesi\xf3n"),b.Lb(),b.Lb(),b.Lb(),b.Mb(16,"ion-row"),b.Mb(17,"ion-col",57),b.Mb(18,"p",58),b.Mb(19,"span",59),b.rc(20,"Recuperar mi "),b.Lb(),b.Mb(21,"b",60),b.Ub("click",function(){return b.lc(e),b.Wb().recuperar()}),b.rc(22,"Cuenta"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(23,"ion-row"),b.Mb(24,"ion-col",61),b.Mb(25,"ion-button",62),b.Ub("click",function(){return b.lc(e),b.Wb().ir()}),b.rc(26,"Crear una Cuenta"),b.Lb(),b.Lb(),b.Lb(),b.Mb(27,"ion-row"),b.Mb(28,"ion-col",50),b.qc(29,N,4,0,"div",63),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.Wb();b.dc("formGroup",e.forma),b.zb(29),b.dc("ngIf",!e.sesion)}}function z(e,o){if(1&e){const e=b.Nb();b.Mb(0,"ion-button",72),b.Ub("click",function(){return b.lc(e),b.Wb(2).validar()}),b.rc(1,"Solicitar C\xf3digo"),b.Lb()}}function I(e,o){if(1&e){const e=b.Nb();b.Mb(0,"ion-item",51),b.Kb(1,"ion-icon",54),b.Mb(2,"ion-input",73),b.Ub("ngModelChange",function(o){return b.lc(e),b.Wb(2).cod=o}),b.Lb(),b.Lb()}if(2&e){const e=b.Wb(2);b.zb(2),b.dc("ngModel",e.cod)}}function P(e,o){if(1&e){const e=b.Nb();b.Mb(0,"ion-button",74),b.Ub("click",function(){return b.lc(e),b.Wb(2).validarCod()}),b.rc(1,"V\xe1lidar C\xf3digo"),b.Lb()}}function W(e,o){if(1&e){const e=b.Nb();b.Mb(0,"ion-item",51),b.Kb(1,"ion-icon",54),b.Mb(2,"ion-input",75),b.Ub("ngModelChange",function(o){return b.lc(e),b.Wb(2).cl=o}),b.Lb(),b.Lb()}if(2&e){const e=b.Wb(2);b.zb(2),b.dc("ngModel",e.cl)}}function y(e,o){if(1&e){const e=b.Nb();b.Mb(0,"ion-item",51),b.Kb(1,"ion-icon",54),b.Mb(2,"ion-input",76),b.Ub("ngModelChange",function(o){return b.lc(e),b.Wb(2).ccl=o}),b.Lb(),b.Lb()}if(2&e){const e=b.Wb(2);b.zb(2),b.dc("ngModel",e.ccl)}}function K(e,o){if(1&e){const e=b.Nb();b.Mb(0,"ion-button",74),b.Ub("click",function(){return b.lc(e),b.Wb(2).actualizar()}),b.rc(1,"Cambiar Contrase\xf1a"),b.Lb()}}function $(e,o){if(1&e){const e=b.Nb();b.Mb(0,"div",6),b.Mb(1,"ion-list"),b.Mb(2,"ion-item",51),b.Kb(3,"ion-icon",52),b.Mb(4,"ion-input",66),b.Ub("ngModelChange",function(o){return b.lc(e),b.Wb().ur=o}),b.Lb(),b.Lb(),b.Mb(5,"ion-item",51),b.Kb(6,"ion-icon",67),b.Mb(7,"ion-input",68),b.Ub("ngModelChange",function(o){return b.lc(e),b.Wb().cr=o}),b.Lb(),b.Lb(),b.qc(8,z,2,0,"ion-button",69),b.Kb(9,"br"),b.qc(10,I,3,1,"ion-item",70),b.qc(11,P,2,0,"ion-button",71),b.Kb(12,"br"),b.qc(13,W,3,1,"ion-item",70),b.qc(14,y,3,1,"ion-item",70),b.qc(15,K,2,0,"ion-button",71),b.Kb(16,"br"),b.Lb(),b.Kb(17,"br"),b.Kb(18,"br"),b.Mb(19,"ion-button",48),b.Ub("click",function(){return b.lc(e),b.Wb().retroceder()}),b.rc(20,"Navegar al inicio"),b.Lb(),b.Lb()}if(2&e){const e=b.Wb();b.zb(4),b.dc("ngModel",e.ur),b.zb(3),b.dc("ngModel",e.cr),b.zb(1),b.dc("ngIf",!e.hab),b.zb(2),b.dc("ngIf",e.hab),b.zb(1),b.dc("ngIf",e.hab),b.zb(2),b.dc("ngIf",e.pp),b.zb(1),b.dc("ngIf",e.pp),b.zb(1),b.dc("ngIf",e.pp)}}let q=(()=>{class e{constructor(e,o,i,t,r,a,s,c,b,l,d,u,h){this.apiService=e,this.inicioService=o,this.toastService=i,this.router=t,this.navCtrl=r,this.OSService=a,this.menuCtrl=s,this.conexion=c,this.entradas=b,this.almacenamiento=l,this.registroService=d,this.apiMapas=u,this.modal=h,this.sesion=!0,this.usuarioID="",this.vista=1,this.miCodigo="",this.usuarioValido=!1,this.msgUsuario="",this.okUsuario=!1,this.paises=[],this.ciudades=[],this.ciudad=!1,this.load=!1,this.pais="",this.miciudad="",this.claveValida=!1,this.msgClave="",this.clave="",this.confirClave="",this.correo="",this.tel=0,this.nusuario="",this.ncompleto="",this.okClave=!1,this.negocios=[],this.escogidos=[],this.acepto=!1,this.ur="",this.cr="",this.cod="",this.hab=!1,this.pp=!1,this.cl="",this.ccl="",this.forma=new n.c({usuario:new n.a("",n.m.required),clave:new n.a("",n.m.required)}),this.OSService.$usuarioID.subscribe(e=>{this.dispositivoID=e})}ngOnInit(){this.OSService.$usuarioID.subscribe(e=>{this.usuarioID=e})}ionViewWillEnter(){this.menuCtrl.enable(!1,"perfil"),this.menuCtrl.close("perfil"),this.listarPaises(),this.listarNegocios()}iniciar(){""!==this.forma.value.usuario&&""!==this.forma.value.clave&&(this.sesion=!1,this.apiService.iniciarPartida(this.forma.value,this.dispositivoID).subscribe(e=>{e.exe?(this.sesion=!0,this.inicioService.cambiarEstado(!1),e.usuarioID=this.usuarioID,this.inicioService.guardarUsuario(e).then(()=>{this.conexion.cargaLista(),this.toastService.alertApplication("Bienvenido!!!",!0).then(()=>{this.router.navigate(["/central/klklk"]),this.entradas.crearEntrada()})},e=>{this.toastService.alertApplication(e.message,!1)})):(this.sesion=!0,this.toastService.alertApplication("Credenciales Incorrectas",!1))},e=>{this.sesion=!0,this.inicioService.cambiarEstado(!0),this.toastService.alertApplication(e.message,!1)}))}ir(){this.vista=2}recuperar(){this.vista=5}retroceder(){this.vista=1}codigo(){this.vista=3}verificar(){""!==this.miCodigo?this.apiService.CodigoComprobar({codigo:this.miCodigo}).subscribe(e=>{e?0===e.response.length?this.toastService.toastError("Ingrese un c\xf3digo v\xe1lido"):(this.vista=4,this.toastService.toastNotificacion("Complete toda la informaci\xf3n")):this.toastService.toastError("No se pudo comprobar el c\xf3digo, int\xe9ntelo m\xe1s tarde")},e=>{this.toastService.toastError("No se pudo comprobar el c\xf3digo, int\xe9ntelo m\xe1s tarde")}):this.toastService.toastError("Ingrese un c\xf3digo v\xe1lido")}validar(){""!==this.cr&&""!==this.ur?this.apiService.Cambio({usuario:this.ur,correo:this.cr}).subscribe(e=>{e.exe?0===e.response.length?this.toastService.toastError("Los datos son incorrectos, por favor verifique la informaci\xf3n registrada"):(this.hab=!0,this.toastService.toastNotificacion("Complete toda la informaci\xf3n")):this.toastService.toastError(e.response?"No puedes recuperar la contrase\xf1a de este usuario por este m\xe9todo.":"No se pudo enviar el c\xf3digo, int\xe9ntelo m\xe1s tarde")},e=>{this.toastService.toastError("No se pudo enviar el c\xf3digo, int\xe9ntelo m\xe1s tarde")}):this.toastService.toastError("Por favor llene los dos campos")}validarCod(){""!==this.cod?this.apiService.Validar({codigo:this.cod}).subscribe(e=>{console.log(e,"tdod"),e.exe?e.resp?(this.hab=!1,this.pp=!0):this.toastService.toastError("C\xf3digo vencido, caduc\xf3 el tiempo de espera de 1 minuto"):(this.toastService.toastError("No se pudo verificar el c\xf3digo, int\xe9ntelo m\xe1s tarde"),this.hab=!1)},e=>{this.toastService.toastError("No se pudo verificar el c\xf3digo, int\xe9ntelo m\xe1s tarde"),this.hab=!1}):this.toastService.toastError("Por favor ingrese el c\xf3digo")}actualizar(){return Object(s.a)(this,void 0,void 0,function*(){this.cl===this.ccl&&""!==this.cl&&""!==this.ccl?(yield this.almacenamiento.obtenerToken())&&this.apiService.editarClaves2({clave:this.ccl,usuario:this.ur}).subscribe(e=>{e.exe?(this.pp=!1,this.vista=1,this.toastService.toastExitoso("Contrase\xf1a actualizada")):this.toastService.toastError("No se pudo actualizar la contrase\xf1a, int\xe9ntelo m\xe1s tarde")},e=>{this.toastService.toastError("No se pudo actualizar la contrase\xf1a, int\xe9ntelo m\xe1s tarde")}):this.toastService.toastError("Las contrase\xf1as no co\xednciden")})}comprobarUsuario(e){e.detail.value.length>5?(this.usuarioValido=!0,this.apiService.usuario(e.detail.value).subscribe(o=>Object(s.a)(this,void 0,void 0,function*(){o.exe?(this.okUsuario=!1,this.msgUsuario="El usuario ya se encuentra en uso"):(this.okUsuario=!0,this.msgUsuario="El nombre de usuario esta disponible",this.nusuario=e.detail.value)}),e=>Object(s.a)(this,void 0,void 0,function*(){this.toastService.toastError("No se pudo comprobar el usuario, int\xe9ntelo m\xe1s tarde")}))):this.usuarioValido=!1}listarNegocios(){this.apiService.negocios().subscribe(e=>{e.exe?this.negocios=e.response:this.negocios.push("Taller M\xe9canico")},e=>{this.negocios.push("Taller M\xe9canico")})}listarPaises(){this.apiService.listarPaises().subscribe(e=>{e.exe?this.paises=e.response:this.paises.push("Colombia")},e=>{this.paises.push("Colombia")})}listarCiudades(e){this.pais=e.detail.value.nombre,this.miciudad="",this.apiService.listarCiudades(e.detail.value._id).subscribe(e=>{e.exe?(this.ciudades=e.response,this.ciudad=!0):this.toastService.toastError("No se pudo traer las ciudades, intente registrarse m\xe1s tarde")},e=>{this.toastService.toastError("No se pudo traer las ciudades, intente registrarse m\xe1s tarde")})}seleccionarCiudad(e){this.miciudad=e.detail.value}comprobarClave(e,o){this.claveValida=!0,e.detail.value.length>=8?(1===o?this.clave=e.detail.value:this.confirClave=e.detail.value,this.clave===this.confirClave?(this.msgClave="Las claves co\xednciden correctamente",this.okClave=!0):(this.msgClave="Las contrase\xf1as no co\xednciden",this.okClave=!1)):(this.okClave=!1,this.msgClave="Debe tener como m\xednmo 8 caracteres")}agregarNegocios(e){e.detail.checked?this.escogidos.find(o=>o===e.detail.value)||this.escogidos.push(e.detail.value):this.escogidos=this.escogidos.filter(o=>o!==e.detail.value)}guardar(){this.okUsuario&&this.okClave&&""!==this.pais&&""!==this.miciudad&&""!==this.ncompleto?this.acepto?this.apiService.registrar({nombreCompleto:this.ncompleto,nombreUsuario:this.nusuario,clave:this.clave,correo:this.correo,tel:this.tel,role:"TALLER_ROLE",pais:this.pais,ciudad:this.miciudad,tipoNegocio:this.escogidos,usuarioID:this.usuarioID,acepto:this.acepto}).subscribe(e=>{this.almacenamiento.guardarUsuario(e).then(()=>{this.toastService.toastExitoso("Usuario registrado corectamente"),this.registroService.cambioEstado(!0),this.almacenamiento.cambiarEstado(!1),this.navCtrl.navigateRoot(["/central"]),this.apiService.EditarCodigo({codigo:this.miCodigo}).subscribe(e=>{}),this.apiMapas.crearSede(e.token,{ubicacion:{lat:0,lng:0},nombre:"SEDE "+this.ncompleto,tipo:this.escogidos,pais:this.pais,ciudad:this.miciudad}).subscribe(e=>{e||this.toastService.toastError("No se pudo crear la sede")},e=>{this.toastService.toastError("No se pudo crear la sede")})})},e=>{this.toastService.toastError("No se pudo registrar el usuario, int\xe9ntelo m\xe1s tarde")}):this.toastService.toastError("Debe aceptar las pol\xedticas de la aplicaci\xf3n"):this.toastService.toastError("Existen campos sin diligenciar correctamente")}politicas(){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.modal.create({component:c.a});yield e.present()})}aceptar(e){this.acepto=e.detail.checked}}return e.\u0275fac=function(o){return new(o||e)(b.Jb(l.a),b.Jb(d.a),b.Jb(u.a),b.Jb(a.g),b.Jb(r.rb),b.Jb(h.a),b.Jb(r.pb),b.Jb(p.a),b.Jb(g.a),b.Jb(d.a),b.Jb(m.a),b.Jb(f.a),b.Jb(r.qb))},e.\u0275cmp=b.Db({type:e,selectors:[["app-home"]],decls:13,vars:6,consts:[[1,"ion-no-border",3,"translucent"],["color","oscuro",1,"ion-justify-content-center"],[1,"ion-text-center"],[1,"ion-padding"],["class","c",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"c"],["lines","none","mode","ios"],["type","text","placeholder","C\xf3digo de verificaci\xf3n",1,"privado",3,"ngModel","ngModelChange"],[1,"texto"],[1,"flexbet"],["mode","ios","expand","block","color","success","fill","outline","shape","round",3,"click"],["mode","ios","expand","block","color","light","shape","round",3,"click"],["lines","none","mode","ios",1,"noborder"],["type","text","placeholder","Ingrese nombre completo del negocio",1,"privado",3,"ngModel","ngModelChange"],["class","mensaje",3,"brojo","bverde",4,"ngIf"],["type","text","placeholder","Ingrese su nombre de usuario",1,"privado",3,"ionChange"],["lines","none","mode","md",1,"noborder","ion-margin-top"],[1,"ion-text-wrap"],["lines","none","mode","ios",1,"campo","ion-margin-top"],["placeholder","Correo Electr\xf3nico","type","email",3,"ngModel","ngModelChange"],["placeholder","N\xfamero de Celular","type","tel",3,"ngModel","ngModelChange"],["lines","none","mode","md",1,"noborder","ion-margin-top","sinfondo"],["color","danger"],["lines","none","mode","md",1,"noborder"],["okText","Aceptar","cancelText","Cancelar",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["lines","none","class","noborder sinfondo","mode","md",4,"ngIf"],["lines","none","class"," noborder","mode","md",4,"ngIf"],["lines","none","mode","md",1,"noborder","sinfondo"],["type","password","placeholder","Escriba su contrase\xf1a",3,"ionChange"],["lines","none","mode","ios",1,"noborder","ion-margin-top"],["type","password","placeholder","Confirmar la contrase\xf1a",3,"ionChange"],["class","noborder","mode","ios",4,"ngFor","ngForOf"],["lines","none","mode","md",1,"noborder","sinfondo","ion-margin-top",3,"click"],[1,"ion-text-wrap","azul"],["lines","none","color","light","mode","md",1,"noborder"],["color","barra","slot","start",3,"ionChange"],["expand","block","color","danger","mode","ios","fill","outline","shape","round",3,"click"],["expand","block","color","light","mode","ios","shape","round",3,"click"],[1,"mensaje"],[3,"value"],["mode","ios",1,"noborder"],["slot","start","color","success",3,"value","ionChange"],["mode","ios",3,"click"],["src","/assets/Negocio.png","width","100px"],["mode","ios",3,"routerLink"],["src","/assets/Estadisticas.png","width","100px"],["expand","block","color","warning","fill","outline","shape","round",3,"click"],[3,"formGroup","ngSubmit"],["size","12"],["mode","ios","lines","none"],["name","person","slot","start","color","medium"],["formControlName","usuario","type","text","placeholder","Nombre de Usuario"],["name","key","slot","start","color","medium"],["formControlName","clave","type","password","placeholder","Contrase\xf1a"],["mode","ios","expand","block","shape","round","color","light","type","submit",1,"margen"],["size","12",1,"ion-text-center"],[1,"ion-no-margin","medium"],[1,"opacity"],[2,"color","var(--ion-color-success)",3,"click"],["size","12",1,"centrar"],["color","warning","fill","outline","shape","round",3,"click"],["class","load",4,"ngIf"],[1,"load"],["color","oscuro","name","crescent"],["type","text","placeholder","Nombre de Usuario",3,"ngModel","ngModelChange"],["name","mail","slot","start","color","medium"],["type","text","placeholder","Correo eletr\xf3nico con que se registr\xf3",3,"ngModel","ngModelChange"],["expand","block","color","light","mode","ios",3,"click",4,"ngIf"],["mode","ios","lines","none",4,"ngIf"],["expand","block","color","success","mode","ios",3,"click",4,"ngIf"],["expand","block","color","light","mode","ios",3,"click"],["type","text","placeholder","C\xf3digo de acceso",3,"ngModel","ngModelChange"],["expand","block","color","success","mode","ios",3,"click"],["type","password","placeholder","Nueva Contrase\xf1a",3,"ngModel","ngModelChange"],["type","password","placeholder","Confirmar nueva Contrase\xf1a",3,"ngModel","ngModelChange"]],template:function(e,o){1&e&&(b.Mb(0,"ion-header",0),b.Mb(1,"ion-toolbar",1),b.Mb(2,"ion-title",2),b.rc(3," intas App "),b.Lb(),b.Lb(),b.Lb(),b.Mb(4,"ion-content"),b.Mb(5,"div",3),b.Kb(6,"h3",2),b.Kb(7,"br"),b.qc(8,v,14,1,"div",4),b.qc(9,S,70,9,"div",4),b.qc(10,j,16,2,"div",4),b.qc(11,U,30,2,"form",5),b.qc(12,$,21,8,"div",4),b.Lb(),b.Lb()),2&e&&(b.dc("translucent",!0),b.zb(8),b.dc("ngIf",3===o.vista),b.zb(1),b.dc("ngIf",4===o.vista),b.zb(1),b.dc("ngIf",2===o.vista),b.zb(1),b.dc("ngIf",1===o.vista),b.zb(1),b.dc("ngIf",5===o.vista))},directives:[r.z,r.lb,r.jb,r.t,t.j,r.L,r.F,r.E,r.yb,n.i,n.k,r.j,r.K,r.r,r.X,r.xb,t.i,r.q,r.d,r.Y,r.l,r.n,r.p,r.wb,a.h,n.n,n.j,n.d,r.y,r.T,r.s,r.A,n.b,r.cb],styles:[".contenedor[_ngcontent-%COMP%]{width:auto;max-width:100px;margin:50px auto}ion-button[_ngcontent-%COMP%]{--padding-top:20px;--padding-end:15px;--padding-start:15px;--padding-bottom:20px}.azul[_ngcontent-%COMP%]{color:#005a8c}.load[_ngcontent-%COMP%]{margin-top:10px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.load[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;opacity:.7}ion-item[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.3);margin-bottom:8px}.noborder[_ngcontent-%COMP%]{border:0}.margen[_ngcontent-%COMP%]{margin-bottom:35px}.centrar[_ngcontent-%COMP%]{justify-content:center}.centrar[_ngcontent-%COMP%], .flexbet[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{display:flex}ion-card[_ngcontent-%COMP%]{width:calc(100% - 20px);margin:10px;flex-direction:column;justify-content:center;align-items:center;transition:all .5s}ion-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:22px;text-align:center}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{text-align:center;padding:5px}.privado[_ngcontent-%COMP%]{border:0!important}.privado[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:100px;background-color:#faebd7}.flexbet[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:50%}.mensaje[_ngcontent-%COMP%], .texto[_ngcontent-%COMP%]{background-color:#fbf6d8;padding:10px;border-radius:10px}.brojo[_ngcontent-%COMP%]{background:#f3c5c1;color:#93372f}.bverde[_ngcontent-%COMP%]{background:#c4e4c5;color:#4eaf52}"]}),e})(),_=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(o){return new(o||e)},imports:[[t.b,n.e,n.l,r.mb,a.i.forChild([{path:"",component:q}])]]}),e})()},oQG1:function(e,o,i){"use strict";i.d(o,"a",function(){return m});var t=i("tk/3"),r=i("PqYM"),n=i("Cfvw"),a=i("coGc"),s=i("lJxs"),c=i("IzEk"),b=i("MtjB"),l=i("JIr8"),d=i("AytR"),u=i("fXoL"),h=i("B7Rs"),p=i("fsfq"),g=i("TEn/");let m=(()=>{class e{constructor(e,o,i,t){this.http=e,this.transfer=o,this.almacenamiento=i,this.navCtrl=t}hanflerError(e){let o=0;return e.pipe(Object(a.a)(()=>Object(r.a)(5e3)),Object(s.a)(e=>{if(o++,console.log("Entramos a intentos"),e instanceof ErrorEvent){if(3===o)throw new Error("Error de Red")}else{if(!(e instanceof ProgressEvent))throw 404===e.status?new Error(" al realizar la solicictud "):401===e.status?(this.almacenamiento.terminarPartida().then(()=>{this.navCtrl.navigateRoot("/home")}),new Error("No tiene permisos para realizar la petici\xf3n ")):(console.log(e,"Error de servidor"),new Error(" No se pudo realizar la petici\xf3n, intentalo m\xe1s tarde "));if(3===o)throw new Error("Error de Red")}}),Object(c.a)(3))}registrar(e){return this.http.post(`${d.a}/usuarios`,e).pipe(Object(s.a)(e=>e.exe?(e.response.exe=e.exe,e.response.token=e.token,e.response):e),Object(b.a)(e=>this.hanflerError(e)))}usuario(e){return this.http.post(`${d.a}/usuarios/unico`,{buscar:e}).pipe(Object(b.a)(e=>this.hanflerError(e)))}iniciarPartida(e,o){const i={headers:new t.c({"x-dispositivoID":o})};return this.http.post(`${d.a}/login`,e,i).pipe(Object(s.a)(e=>(console.log(e),e.exe?(e.response.exe=e.exe,e.response.token=e.token,e.response):e.exe)),Object(b.a)(e=>this.hanflerError(e)))}fotoPerfilUsuarioMoto(e,o,i){const t={fileKey:"archivo",httpMethod:"PUT",headers:{"x-token":o},params:{tipo:i}},r=this.transfer.create();return Object(n.a)(r.upload(e,`${d.a}/upload`,t)).pipe(Object(l.a)(e=>{throw console.log("No se pudo subir la imagen "),new Error("No se pudo subir la imagen ")}))}subirweb(e,o){const i={headers:new t.c({"x-token":e})};return this.http.put(`${d.a}/upload`,o,i).pipe(Object(b.a)(e=>this.hanflerError(e)))}subirweb2(e,o,i){const r={headers:new t.c({"x-token":e,"x-old":i})};return this.http.put(`${d.a}/upload/portada/`,o,r).pipe(Object(b.a)(e=>this.hanflerError(e)))}viewImagen(e){const o={headers:new t.c({"x-token":e})};return this.http.get(`${d.a}/ver`,o).pipe(Object(b.a)(e=>this.hanflerError(e)))}buscarUsuario(e,o){const i={headers:new t.c({"x-token":o})};return this.http.get(`${d.a}/usuarios/${e}`,i).pipe(Object(b.a)(e=>this.hanflerError(e)))}cerrar(e){const o={headers:new t.c({"x-token":e})};return this.http.put(`${d.a}/usuarios/cerrar/`,{},o).pipe(Object(b.a)(e=>this.hanflerError(e)))}usuarioDatos(e){const o={headers:new t.c({"x-token":e})};return this.http.put(`${d.a}/usuarios/uno/`,{},o).pipe(Object(b.a)(e=>this.hanflerError(e)))}editarUusuario(e,o){const i={headers:new t.c({"x-token":e})};return this.http.put(`${d.a}/usuarios/editar/uno/`,o,i).pipe(Object(b.a)(e=>this.hanflerError(e)))}buscarPerfilUsuario(e,o){const i={headers:new t.c({"x-token":o})};return this.http.get(`${d.a}/usuarios/perfil/${e}`,i).pipe(Object(b.a)(e=>this.hanflerError(e)))}traerMisNotificaciones(e,o){const i={headers:new t.c({"x-token":e,"x-desde":o.toString()})};return this.http.get(`${d.a}/notificaciones/misnotificaciones/`,i).pipe(Object(b.a)(e=>this.hanflerError(e)))}notiCantidad(e){const o={headers:new t.c({"x-token":e})};return this.http.get(`${d.a}/notificaciones/numero/`,o).pipe(Object(b.a)(e=>this.hanflerError(e)))}ActualizarNotificaciones(e,o){const i={headers:new t.c({"x-token":e})};return this.http.put(`${d.a}/notificaciones/misnotificaciones/cambiarestado/`,{id:o},i).pipe(Object(b.a)(e=>this.hanflerError(e)))}validarClave(e,o){const i={headers:new t.c({"x-token":e})};return this.http.put(`${d.a}/usuarios/claves/`,o,i).pipe(Object(b.a)(e=>this.hanflerError(e)))}editarClaves(e,o){const i={headers:new t.c({"x-token":e})};return this.http.put(`${d.a}/usuarios/claves/editar`,o,i).pipe(Object(b.a)(e=>this.hanflerError(e)))}editarClaves2(e){return this.http.put(`${d.a}/usuarios/claves/editar/dos`,e).pipe(Object(b.a)(e=>this.hanflerError(e)))}listarPaises(){return this.http.get(`${d.a}/paises`).pipe(Object(b.a)(e=>this.hanflerError(e)))}listarCiudades(e){const o={headers:new t.c({"x-pais":e})};return this.http.get(`${d.a}/ciudad`,o).pipe(Object(b.a)(e=>this.hanflerError(e)))}CodigoComprobar(e){return this.http.put(`${d.a}/codigos`,e).pipe(Object(b.a)(e=>this.hanflerError(e)))}EditarCodigo(e){return this.http.put(`${d.a}/codigos/cambiar`,e).pipe(Object(b.a)(e=>this.hanflerError(e)))}negocios(){return this.http.get(`${d.a}/tiponegocio`).pipe(Object(b.a)(e=>this.hanflerError(e)))}modulos(e){const o={headers:new t.c({"x-token":e})};return this.http.get(`${d.a}/modulos`,o).pipe(Object(b.a)(e=>this.hanflerError(e)))}modulosTALLER(e,o){const i={headers:new t.c({"x-token":e})};return this.http.post(`${d.a}/modulos`,o,i).pipe(Object(b.a)(e=>this.hanflerError(e)))}Cambio(e){return this.http.post(`${d.a}/cambio`,e).pipe(Object(b.a)(e=>this.hanflerError(e)))}Validar(e){return this.http.put(`${d.a}/cambio`,e).pipe(Object(b.a)(e=>this.hanflerError(e)))}}return e.\u0275fac=function(o){return new(o||e)(u.Qb(t.a),u.Qb(h.a),u.Qb(p.a),u.Qb(g.rb))},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);