{"version":3,"sources":["./src/app/pages/Tickets/inicio-tickets/inicio-tickets.module.ts","./src/app/providers/Api/Tickets.service.ts","./src/app/pages/Tickets/inicio-tickets/inicio-tickets-routing.module.ts","./src/app/pages/Tickets/inicio-tickets/inicio-tickets.page.html","./src/app/pages/Tickets/inicio-tickets/inicio-tickets.page.ts","./src/app/pages/Tickets/inicio-tickets/inicio-tickets.page.scss"],"names":[],"mappings":"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","file":"Tickets-inicio-tickets-inicio-tickets-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InicioTicketsPageRoutingModule } from './inicio-tickets-routing.module';\n\nimport { InicioTicketsPage } from './inicio-tickets.page';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InicioTicketsPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [InicioTicketsPage]\n})\nexport class InicioTicketsPageModule {}\n","import { Injectable } from '@angular/core';\r\nimport { URL_SERVER } from '../../../environments/environment';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { map, retryWhen, delayWhen, take, catchError } from 'rxjs/operators';\r\nimport { timer, Observable, from } from 'rxjs';\r\nimport { FileTransferObject, FileTransfer, FileUploadOptions } from '@ionic-native/file-transfer/ngx';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\n\r\nexport class TicketsService {\r\n\r\n    constructor(private http: HttpClient, private router: Router) { }\r\n\r\n    private hanflerError(error: Observable<any>) {\r\n\r\n            let intento = 0;\r\n\r\n            return error.pipe(\r\n                delayWhen(() => timer(3000)),\r\n                map((errorHttp: HttpErrorResponse) => {\r\n\r\n                        console.log('Entramos a intentos');\r\n                        if (errorHttp instanceof ErrorEvent) {\r\n                            throw new Error('Error de Red');\r\n                        } else {\r\n\r\n                            if ( errorHttp.status === 404) {\r\n                               throw new Error(' Página no encontrada');\r\n                            } if ( errorHttp.status === 401) {\r\n                                throw new Error(' No tiene permisos ');\r\n                             } else {\r\n                               // throw new Error(' No se pudo realizar la conexión, comprueba tu red ');\r\n                            }\r\n                           \r\n                        }\r\n                }),\r\n                take(3)\r\n            );\r\n    }\r\n\r\n  \r\n\r\n    disponibilidad(token: any) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.get(`${URL_SERVER}/ticket/disponibilidad`, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    Creardisponibilidad(token: any) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/ticket/disponibilidad`, {}, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n   editardisponibilidad(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/disponibilidad`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    crearSala(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/ticket/salas`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    misSalas(token: any) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.get(`${URL_SERVER}/ticket/salas`, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    crearTicket(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/ticket/crear`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    misTickets(token: any) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.get(`${URL_SERVER}/ticket/lista`, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    misTicketsLista(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/lista/negocio`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    salasNegocio(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/salas/usuario`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    disponibilidadnegocio(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/disponibilidad/negocio`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    ticketsolo(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/solo`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    ticketelimina(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/ticket/eliminar`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    crearHoja(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/hoja/dos`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    \r\n    consultarSala(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/ticket/consultar/chat`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InicioTicketsPage } from './inicio-tickets.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InicioTicketsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InicioTicketsPageRoutingModule {}\n","export default \"<ion-header>\\n    <ion-toolbar color=\\\"oscuro\\\">\\n        <ion-back-button slot=\\\"start\\\" icon=\\\"chevron-back-outline\\\" defaultHref=\\\"/central/menu\\\"></ion-back-button>\\n        <ion-title>Turnos</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refrescando($event)\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"50\\\" pullMax=\\\"150\\\">\\n        <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" refreshingSpinner=\\\"circles\\\">\\n        </ion-refresher-content>\\n    </ion-refresher>\\n\\n    <div class=\\\"flcenter ion-padding\\\" *ngIf=\\\"configurando\\\">\\n        <ion-spinner name=\\\"crescent\\\" color=\\\"oscuro\\\"></ion-spinner>\\n        <div>\\n            Configurando sistema de turno para <br>\\n            <strong> {{ usuario }}</strong>\\n        </div>\\n\\n    </div>\\n\\n    <ion-list *ngIf=\\\"cargado\\\">\\n        <ion-item lines=\\\"none\\\" color=\\\"light\\\">\\n            <ion-label *ngIf=\\\"habilitado\\\">Apagar mi sala de turnos</ion-label>\\n            <ion-label *ngIf=\\\"!habilitado\\\">Encender mi sala de turnos</ion-label>\\n            <ion-toggle slot=\\\"end\\\" mode=\\\"ios\\\" [checked]=\\\"habilitado\\\" color=\\\"barra\\\" (ionChange)=\\\"cambiar($event)\\\"></ion-toggle>\\n        </ion-item>\\n    </ion-list>\\n    <div class=\\\"divider light\\\"></div>\\n\\n    <div *ngIf=\\\"cargado\\\" class=\\\"salas\\\">\\n        <div class=\\\"flcenter ion-padding\\\" *ngIf=\\\"salas.length === 0\\\">\\n            <div>\\n                Aún no tiene salas creadas <br>\\n            </div>\\n\\n        </div>\\n\\n\\n        <ion-card mode=\\\"ios\\\" *ngFor=\\\"let sala of salas; let i = index;\\\" (click)=\\\"salon(sala)\\\">\\n            <ion-card-title>Sala {{ i + 1 }}\\n            </ion-card-title>\\n            <div class=\\\"msg\\\" [class.ocupado]=\\\"sala.ocupada\\\" [class.desocupado]=\\\"!sala.ocupada\\\">\\n                <strong *ngIf=\\\"!sala.ocupada\\\">Libre</strong>\\n                <strong *ngIf=\\\"sala.ocupada\\\">Ocupada</strong>\\n            </div>\\n\\n            <ion-card-content>\\n                <div><strong>Persona que atiende:</strong> {{sala.atiende}}</div>\\n                <br>\\n                <div *ngIf=\\\"sala.fechainicio !== '' && sala.ocupada\\\"><strong>Dureción estimada del trabajo:</strong> {{sala.fechainicio | diferencia : sala.fechafinal: 1}}</div>\\n                <div *ngIf=\\\"sala.fechainicio !== '' && sala.ocupada\\\"><strong>Tiempo transcurrido:</strong> {{sala.fechainicio | diferencia : sala.fechafinal: 2}}</div><br>\\n                <div class=\\\"botones\\\" *ngIf=\\\"sala.ocupada\\\">\\n                    <ion-button mode=\\\"ios\\\" color=\\\"light\\\" expand=\\\"block\\\" (click)=\\\"navegar(sala.ticket._id)\\\">Chat</ion-button>\\n                </div>\\n                <div class=\\\"botones\\\" *ngIf=\\\"sala.ocupada\\\">\\n                    <ion-button mode=\\\"ios\\\" color=\\\"light\\\" expand=\\\"block\\\" (click)=\\\"finalizar(sala)\\\">Finalizar Ticket</ion-button>\\n                </div>\\n            </ion-card-content>\\n        </ion-card>\\n    </div>\\n\\n    <ion-fab *ngIf=\\\"cargado\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button color=\\\"oscuro\\\" (click)=\\\"crear()\\\">\\n            <ion-icon name=\\\"add\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n\\n</ion-content>\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { Socket } from 'ngx-socket-io';\nimport { Observable } from 'rxjs';\nimport { TicketsService } from 'src/app/providers/Api/Tickets.service';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\n\n@Component({\n  selector: 'app-inicio-tickets',\n  templateUrl: './inicio-tickets.page.html',\n  styleUrls: ['./inicio-tickets.page.scss'],\n})\nexport class InicioTicketsPage implements OnInit {\n\n  configurando = false;\n  usuario = '';\n  habilitado = false;\n  cargado = false;\n  id = '';\n\n  salas = [];\n\n  constructor(\n    private almacenamiento: InicioService,\n    private toast: ToastServices,\n    private apiTickets: TicketsService,\n    private alert: AlertController,\n    private router: Router,\n    private socket: Socket\n  ) { \n    this.escucharMensajes().subscribe((data: any) => {\n      // console.log(data, ' data suscribe')\n      if (data.msg) {\n        this.salas.forEach((item) => {\n          if (item._id === data.id) {\n            item.ocupada = false;\n            item.info = false;\n          }\n        })\n        this.toast.toastExitoso('Ticket Finalizado');\n      } else {\n        this.toast.toastError('No se pudo finalizar el ticket, inténtelo más tarde');\n      }\n\n    })\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.disponibilidad();\n    this.almacenamiento.insertarTicket('entrando').then((r) => {\n      if (r) {\n        return true;\n      }\n    });\n  }\n\n  refrescando(event) {\n    this.salas = [];\n    this.disponibilidad().then(() => {\n        event.detail.complete();\n    }).catch(() => {\n      event.detail.complete();\n    })\n  }\n\n  async disponibilidad() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n\n      if (info.role === 'USER_ROLE') {\n        this.router.navigate(['/central/menu']);\n      } else {\n        this.socket.emit('ticket', {id: info._id})\n        this.usuario = info.nombre;\n        this.apiTickets.disponibilidad(info.token).subscribe((data: any) => {\n          // console.log(data)\n          if (data.exe) {\n            if (data.response === 'no') {\n              this.alerta();\n            } else {\n              this.cargado = true;\n              this.habilitado = data.data[0].estado;\n              this.id = data.data[0]._id;\n              this.misSalas();\n            }\n          } else {\n            this.toast.toastError('No se pudo consultar la disponibilidad, inténtelo más tarde');\n            this.router.navigate(['/central/menu/'])\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo consultar la disponibilidad, inténtelo más tarde');\n          this.router.navigate(['/central/menu/'])\n        })\n      }\n      \n    }\n  }\n\n\n  async Creardisponibilidad() {\n    this.configurando = true;\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.apiTickets.Creardisponibilidad(info.token).subscribe((data: any) => {\n        if (data.exe) {\n          this.toast.toastExitoso('Configuración realizada correcxtamente, ya puedes disfrutar de este módulo');\n          this.disponibilidad();\n        } else {\n          this.toast.toastError('No se pudo configurar tu sala de turnos, inténtelo más tarde');\n          this.router.navigate(['/central/menu/'])\n        }\n        this.configurando = false;\n      }, (err) => {\n        this.toast.toastError('No se pudo configurar tu sala de turnos, inténtelo más tarde');\n        this.router.navigate(['/central/menu/'])\n        this.configurando = false;\n      })\n    }\n  }\n\n  async alerta() {\n    const alert = await this.alert.create({\n      header: 'Configurar sistema de turnos',\n      message: 'Aún no has comenzado a usar este módulo, si quieres empezar a crear tus salas de turno puedes dar click en configurar',\n      buttons: [\n        {\n          text: 'Cancelar',\n          cssClass: 'cancelarAlerta',\n          role: 'cancel',\n          handler: () => {\n            this.router.navigate(['/central/menu/'])\n          }\n        },\n        {\n          text: 'Configurar',\n          cssClass: 'botonalerta',\n          handler: () => {\n            this.Creardisponibilidad();\n          }\n        }\n      ]\n    })\n\n    await alert.present();\n  }\n\n  async cambiar(event) {\n    this.configurando = true;\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.apiTickets.editardisponibilidad(info.token, {id: this.id, estado: event.detail.checked}).subscribe((data: any) => {\n        if (data.exe) {\n          this.habilitado = data.response.estado;\n        } else {\n          this.toast.toastError('No se pudo configurar tu sala de turnos, inténtelo más tarde');\n          this.router.navigate(['/central/menu/'])\n        }\n        this.configurando = false;\n      }, (err) => {\n        this.toast.toastError('No se pudo configurar tu sala de turnos, inténtelo más tarde');\n        this.router.navigate(['/central/menu/'])\n        this.configurando = false;\n      })\n    }\n  }\n\n  async crear() {\n    const alert = await this.alert.create({\n      header: 'Crear sala',\n      // tslint:disable-next-line:max-line-length\n      message: 'Por medio de una sala puedes atender los usuarios que esten esperando en la fila, crea tus salas dependiendo de la capacidad del negocio.',\n      inputs: [\n        {\n          type: 'text',\n          placeholder: 'Persona que atiende',\n          name: 'persona'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          cssClass: 'cancelarAlerta',\n          role: 'cancel'\n        },\n        {\n          text: 'Crear Sala',\n          cssClass: 'botonalerta',\n          handler: (data) => {\n            this.CrearSala({persona: data.persona});\n          }\n        }\n      ]\n    })\n\n    await alert.present();\n  }\n\n\n  async misSalas() {\n    this.configurando = true;\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.apiTickets.misSalas(info.token).subscribe((data: any) => {\n        if (data.exe) {\n          this.salas = data.response;\n          // console.log('salas', data)\n        } else {\n          this.toast.toastError('No se pudo traer las salas, inténtelo más tarde');\n          this.router.navigate(['/central/menu/'])\n        }\n        this.configurando = false;\n      }, (err) => {\n        this.toast.toastError('No se pudo traer las salas, inténtelo más tarde');\n        this.router.navigate(['/central/menu/'])\n        this.configurando = false;\n      })\n    }\n  }\n\n\n\n  async CrearSala(datos) {\n    this.configurando = true;\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.apiTickets.crearSala(info.token, datos).subscribe((data: any) => {\n        if (data.exe) {\n          this.toast.toastExitoso('La sala se creó correctamente');\n          this.salas.push(data.response);\n        } else {\n          this.toast.toastError('No se pudo crear la sala, inténtelo más tarde');\n          this.router.navigate(['/central/menu/'])\n        }\n        this.configurando = false;\n      }, (err) => {\n        this.toast.toastError('No se pudo crear la sala, inténtelo más tarde');\n        this.router.navigate(['/central/menu/'])\n        this.configurando = false;\n      })\n    }\n  }\n\n  salon(sala) {\n    if (!sala.ocupada) {\n      this.router.navigate(['/central/tickets', this.id, 'ticketsala', sala._id]);\n    }\n    \n  }\n\n  escucharMensajes() {\n    const myobserver = new Observable(observer => {\n      this.socket.on('mensajeTicket', (data) => {\n        observer.next(data);\n      });\n    });\n  \n    return myobserver;\n  }\n\n  async finalizar(sala) {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.socket.emit('finalizar', {idtaller: info._id, id: sala._id, ticket: sala.ticket._id} );\n    }\n  }\n\n\n  \n  async navegar(id) {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n\n        this.apiTickets.consultarSala(info.token, {ticket: id}).subscribe((data: any) => {\n         //  console.log(data)\n          if (data.exe) {\n            if (data.response.length > 0) {\n              if (data.response[0].accesos.length > 0) {\n                this.almacenamiento.insertarChat(data.response[0]).then(() => {\n                  this.router.navigate(['/central/chats/chat']);\n                 \n                }).catch(() => {\n                  this.toast.toastError('No se puede acceder al chat, inténtelo más tarde');\n                })\n              } else {\n                this.toast.Especial('El ticket fue cancelado, ya no puede acceder al chat');\n              }\n            } else {\n              this.toast.toastError('No se puede acceder al chat, inténtelo más tarde');\n            }\n            \n          } else {\n            this.toast.toastError('No se puede acceder al chat, inténtelo más tarde');\n           \n          }\n        }, (err) => {\n          this.toast.toastError('No se puede acceder al chat, inténtelo más tarde');\n        })\n      }\n\n\n   \n  }\n\n\n  ionViewWillLeave() {\n    this.almacenamiento.eleminarTicket().then((r) => {\n      if (r) {\n        return true;\n      }\n    });\n  }\n\n}\n","export default \".flcenter {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 18px;\\n  text-align: center;\\n}\\n\\nion-card {\\n  position: relative;\\n}\\n\\n.msg {\\n  position: absolute;\\n  top: 0px;\\n  right: 0px;\\n  text-align: center;\\n  padding: 5px 10px;\\n  border-radius: 10px;\\n}\\n\\nion-card-title {\\n  width: 100%;\\n  padding: 5px 15px;\\n}\\n\\n.ocupado {\\n  background-color: #CA0900 !important;\\n  color: #ffffff;\\n}\\n\\n.desocupado {\\n  background-color: #819830 !important;\\n  color: #ffffff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcaW5pY2lvLXRpY2tldHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksb0NBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxvQ0FBQTtFQUNBLGNBQUE7QUFDSiIsImZpbGUiOiJpbmljaW8tdGlja2V0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZmxjZW50ZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbmlvbi1jYXJkIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLm1zZyB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDBweDtcclxuICAgIHJpZ2h0OiAwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn1cclxuXHJcbmlvbi1jYXJkLXRpdGxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogNXB4IDE1cHg7XHJcbn1cclxuXHJcbi5vY3VwYWRvIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNDQTA5MDAgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG59XHJcblxyXG4uZGVzb2N1cGFkbyB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODE5ODMwICFpbXBvcnRhbnQ7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxufSJdfQ== */\";"],"sourceRoot":"webpack:///"}