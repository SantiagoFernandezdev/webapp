{"version":3,"sources":["./src/app/pages/Pedidos/pedidos-mapa/pedidos-mapa.page.html","./src/app/pages/Pedidos/pedidos-mapa/pedidos-mapa.page.scss","./src/app/pages/Pedidos/pedidos-mapa/pedidos-mapa-routing.module.ts","./src/app/pages/Pedidos/pedidos-mapa/pedidos-mapa.page.ts","./src/app/pages/Pedidos/pedidos-mapa/pedidos-mapa.module.ts"],"names":[],"mappings":"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","file":"Pedidos-pedidos-mapa-pedidos-mapa-module.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar color=\\\"oscuro\\\">\\n        <ion-back-button slot=\\\"start\\\" icon=\\\"chevron-back-outline\\\" defaultHref=\\\"/central/pedidos\\\"></ion-back-button>\\n        <ion-title>Seguimiento del pedido</ion-title>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button (click)=\\\"refrescando()\\\">\\n                <ion-icon name=\\\"reload-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n            </ion-button>\\n\\n            <ion-button *ngIf=\\\"pedido && !pedido.ubicacion\\\" (click)=\\\"guardar()\\\">\\n                <ion-icon name=\\\"checkmark-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n            </ion-button>\\n            <ion-button *ngIf=\\\"pedido && pedido.ubicacionactual && id === pedido.domiciliario._id\\\" (click)=\\\"entregado()\\\">\\n                <ion-icon name=\\\"checkmark-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <div class=\\\"mapa\\\" #mapa>\\n\\n    </div>\\n</ion-content>\";","export default \".mapa {\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxccGVkaWRvcy1tYXBhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBQ0oiLCJmaWxlIjoicGVkaWRvcy1tYXBhLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXBhIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4ubWFya2VyIHt9Il19 */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PedidosMapaPage } from './pedidos-mapa.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PedidosMapaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PedidosMapaPageRoutingModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController, Platform } from '@ionic/angular';\nimport { Socket } from 'ngx-socket-io';\nimport { InicioService } from 'src/app/providers/Almacenamiento/inicio.service';\nimport { PedidosService } from 'src/app/providers/Api/Pedidos.service';\nimport { ToastServices } from 'src/app/providers/Utilidades/ToastService.service';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { ConexionService } from '../../../providers/Conexiones/Conexion.service';\nimport { CargaElementosUsuariosService } from '../../../providers/cargas/usuarios.service';\ndeclare var mapboxgl;\n\n@Component({\n  selector: 'app-pedidos-mapa',\n  templateUrl: './pedidos-mapa.page.html',\n  styleUrls: ['./pedidos-mapa.page.scss'],\n})\nexport class PedidosMapaPage implements OnInit {\n  configurando = false;\n  cargado = false;\n  id = '';\n\n  pedido;\n\n  texto = '';\n  estados = [];\n  habilitado = false;\n  domicilios = [];\n\n  lng;\n lat;\n\n coord = {\n   lat: 0,\n   lng: 0\n }\n\nmensaje = '';\ndraggable= true;\n\nposicion;\n\ncreado = false;\nmapon;\neltemp;\n\nparar = false;\n\n@ViewChild('mapa') mapa: ElementRef;\n  constructor(\n    private router: Router,\n    private alert: AlertController,\n    private almacenamiento: InicioService,\n    private toast: ToastServices,\n    private apiPedidos: PedidosService,\n    private active: ActivatedRoute,\n    private socket: Socket,\n    private geoReferencia: Geolocation,\n    private plt: Platform,\n    private cargarElementos: CargaElementosUsuariosService\n  ) { \n\n    this.escucharCoords().subscribe((data: any) => {\n      if (data) {\n        console.log(data);\n        this.graficar2(data.coords)\n      }\n    })\n\n    this.escucharPedido().subscribe( async (data: any) => {\n      if (data) {\n        const alert = await this.alert.create({\n          header: 'Pedido Entregado',\n          message: this.pedido.domiciliario.nombrecompleto + ' finalizó tu pedido',\n          buttons: [\n            {\n              text: 'Terminar Pedido',\n              cssClass: 'botonalerta',\n              handler: () => {\n                 this.router.navigate(['/central/pedidos']);\n              }\n            }\n          ]\n        })\n \n        await alert.present();\n      }\n    })\n\n    this.cargarElementos.$cargarRed.subscribe(async (red: any) => {\n   \n      if (red === 'none') {\n        this.almacenamiento.eleminarSala().then(() => {\n          this.toast.Especial('Perdiste la conexión, verifica la red de internet e intenta nuevamente')\n          this.router.navigate(['/central/pedidos'])\n       }).catch(() => {\n         this.toast.Especial('Perdiste la conexión, verifica la red de internet e intenta nuevamente')\n         this.router.navigate(['/central/pedidos'])\n       })\n      }\n    });\n\n    this.plt.resume.subscribe( async (e) => {\n      if (this.active.snapshot.paramMap.get('tipo') === 'entrega') {\n        this.informaciónPedidoVivo();\n      } else if (this.active.snapshot.paramMap.get('tipo') === 'vivo') {\n        this.informaciónPedidoVivo();\n      } else {\n        this.toast.toastError('Se perdión la conexión, por favor volver a ingresar al pedido')\n        this.router.navigate(['/central/pedidos'])\n      }\n   });\n\n   \n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    if (this.active.snapshot.paramMap.get('tipo') === 'entrega') {\n      this.informaciónPedidoVivo();\n    } else if (this.active.snapshot.paramMap.get('tipo') === 'vivo') {\n      this.informaciónPedidoVivo();\n    } else {\n      this.informaciónPedido();\n    }\n\n  }\n\n  refrescando() {\n    this.parar = false;\n \n\n    if (this.active.snapshot.paramMap.get('tipo') === 'entrega') {\n      this.informaciónPedidoVivo();\n    } else if (this.active.snapshot.paramMap.get('tipo') === 'vivo') {\n      this.informaciónPedidoVivo();\n    } else {\n      this.informaciónPedido();\n    }\n\n   \n  }\n\n  async calcular() {\n    try {\n      // console.log('entramos al click')\n      // tslint:disable-next-line:max-line-length\n      const data = await this.geoReferencia.getCurrentPosition({enableHighAccuracy: true, timeout: 20000});\n      if ( data ) {\n      // console.log(data);\n      this.lat = data.coords.latitude;\n      this.lng = data.coords.longitude;\n      this.graficar();\n    }\n    } catch (error) {\n      \n      this.toast.toastError('No se pudo captruar su ubicación, verifique que el GPS este prendido o inténtelo más tarde');\n    }\n  }\n\n  graficar() {\n    // console.log('Bien');\n    mapboxgl.accessToken = 'pk.eyJ1Ijoic2FudGlhZ29mZXJuYW5kZXpkZXYiLCJhIjoiY2tmYmh6cXdzMDM0bDJ2cHRucTI4cHpkaSJ9.-01EYvsLdJOU1Oy4BtwBwA';\n    const mapa = new mapboxgl.Map({\n    container: this.mapa.nativeElement,\n    style: 'mapbox://styles/mapbox/streets-v11',\n    center: [this.lng, this.lat],\n    zoom: 12\n    });\n  \n    mapa.addControl(new mapboxgl.NavigationControl());\n  \n    const el = document.createElement('div'); \n    el.className = 'marker'; \n    el.style.backgroundImage = 'url(\"/assets/Marcador.png\")';\n    el.style.backgroundSize = '100%';\n    el.style.width = 50 + 'px';\n    el.style.height = 80   + 'px';\n  \n    const marker = new mapboxgl.Marker({\n      element: el,\n      draggable: this.draggable\n    })\n      .setLngLat([this.lng, this.lat])\n      .addTo(mapa)\n  \n    marker.on('dragend', () => {\n          const lngLat = marker.getLngLat();\n          this.lat = lngLat.lat;\n          this.lng = lngLat.lng;\n          // console.log('Longitude: ' + lngLat.lng + '<br />Latitude: ' + lngLat.lat)\n        });\n  \n  \n    \n  }\n\n\n\n  calcular2() {\n\n    console.log('MAPON')\n\n    mapboxgl.accessToken = 'pk.eyJ1Ijoic2FudGlhZ29mZXJuYW5kZXpkZXYiLCJhIjoiY2tmYmh6cXdzMDM0bDJ2cHRucTI4cHpkaSJ9.-01EYvsLdJOU1Oy4BtwBwA';\n    const mapa = new mapboxgl.Map({\n    container: this.mapa.nativeElement,\n    style: 'mapbox://styles/mapbox/streets-v11',\n    center: [this.pedido.ubicacion.lng, this.pedido.ubicacion.lat],\n    zoom: 12\n    });\n  \n    mapa.addControl(new mapboxgl.NavigationControl());\n  \n    const el = document.createElement('div'); \n    el.className = 'marker'; \n    el.style.backgroundImage = 'url(\"/assets/Marcador.png\")';\n    el.style.backgroundSize = '100%';\n    el.style.width = 50 + 'px';\n    el.style.height = 80   + 'px';\n  \n    const marker = new mapboxgl.Marker({\n      element: el,\n      draggable: false\n    })\n      .setLngLat([this.pedido.ubicacion.lng, this.pedido.ubicacion.lat])\n      .addTo(mapa)\n \n    this.posicion =  this.geoReferencia.watchPosition({enableHighAccuracy: true}).subscribe((data: any) => {\n        console.log(data.coords, ' DATOS DEL WATH', this.pedido);\n        if (!this.parar) {\n        this.coord.lat = data.coords.latitude;\n        this.coord.lng = data.coords.longitude;\n        this.socket.emit('coordenadas', {\n          id: this.pedido._id,\n          accesos: this.pedido.pedido.accesos,\n          coord: {\n            lat: data.coords.latitude,\n            lng: data.coords.longitude\n          }\n        })\n\n        if (this.eltemp ) {\n          this.eltemp.style.display = 'none';\n        }\n     \n\n        this.eltemp = document.createElement('div'); \n        this.eltemp.className = 'marker2'; \n        this.eltemp.style.backgroundImage = 'url(\"/assets/Caja.png\")';\n        this.eltemp.style.backgroundSize = '100%';\n        this.eltemp.style.width = 50 + 'px';\n        this.eltemp.style.height = 80   + 'px';\n        \n        const marker2 = new mapboxgl.Marker({\n            element: this.eltemp,\n            draggable: false\n          })\n        .setLngLat([this.coord.lng, this.coord.lat])\n        .addTo(mapa)\n      }\n        }, (err) => {\n          this.toast.toastError('No se pudo captruar su ubicación, verifique que el GPS este prendido o inténtelo más tarde');\n        })\n\n  \n  }\n\n  graficar2(coord) {\n    // console.log('Bien');\n\n    if (this.creado) {\n\n      if (this.eltemp) {\n      this.eltemp.style.display = 'none';\n        \n      }\n      this.eltemp = document.createElement('div'); \n      this.eltemp.className = 'marker2'; \n      this.eltemp.style.backgroundImage = 'url(\"/assets/Caja.png\")';\n      this.eltemp.style.backgroundSize = '100%';\n      this.eltemp.style.width = 50 + 'px';\n      this.eltemp.style.height = 80   + 'px';\n          \n      const marker2 = new mapboxgl.Marker({\n              element: this.eltemp,\n              draggable: false\n            })\n          .setLngLat([coord.lng, coord.lat])\n          .addTo(this.mapon)\n    } else {\n     \n\n      mapboxgl.accessToken = 'pk.eyJ1Ijoic2FudGlhZ29mZXJuYW5kZXpkZXYiLCJhIjoiY2tmYmh6cXdzMDM0bDJ2cHRucTI4cHpkaSJ9.-01EYvsLdJOU1Oy4BtwBwA';\n      this.mapon = new mapboxgl.Map({\n      container: this.mapa.nativeElement,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [this.pedido.ubicacion.lng, this.pedido.ubicacion.lat],\n      zoom: 12\n      });\n    \n      this.mapon.addControl(new mapboxgl.NavigationControl());\n    \n      const el = document.createElement('div'); \n      el.className = 'marker'; \n      el.style.backgroundImage = 'url(\"/assets/Marcador.png\")';\n      el.style.backgroundSize = '100%';\n      el.style.width = 50 + 'px';\n      el.style.height = 80   + 'px';\n    \n      const marker = new mapboxgl.Marker({\n        element: el,\n      })\n        .setLngLat([this.pedido.ubicacion.lng, this.pedido.ubicacion.lat])\n        .addTo( this.mapon)\n\n\n        if (this.pedido.ubicacionactual) {\n          console.log(this.pedido.ubicacionactual)\n          const mk = document.createElement('div'); \n          mk.className = 'marker2'; \n          mk.style.backgroundImage = 'url(\"/assets/Caja.png\")';\n          mk.style.backgroundSize = '100%';\n          mk.style.width = 50 + 'px';\n          mk.style.height = 80   + 'px';\n  \n          this.eltemp = mk;\n              \n          const marker2 = new mapboxgl.Marker({\n                  element: mk,\n                })\n              .setLngLat([coord.lng, coord.lat])\n              .addTo(this.mapon)\n         \n        }\n        this.creado = true;\n      \n    }\n   \n \n\n  \n     \n  }\n\n\n\n  async informaciónPedido() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n\n        this.id = info._id;\n\n        this.apiPedidos.consultarMapaUnico(info.token, {id: this.active.snapshot.paramMap.get('id')}).subscribe((data: any) => {\n            console.log(data)\n            if (data.exe) {\n            if (data.response.length > 0) {\n             this.pedido = data.response[0];\n\n             if (this.pedido.ubicacion) {\n               this.lat = this.pedido.ubicacion.lat;\n               this.lng = this.pedido.ubicacion.lng;\n               this.draggable = false;\n               this.graficar();\n             } else {\n               this.calcular();\n             }\n            }\n           \n            } else {\n              this.toast.toastError('No se pudo consultar el pedido, inténtelo más tarde');\n              this.router.navigate(['/central/menu/'])\n            }\n            this.cargado = true;\n        }, (err) => {\n              this.toast.toastError('No se pudo consultar el pedido, inténtelo más tarde');\n              this.router.navigate(['/central/menu/'])\n        })\n      }\n  }\n\n\n  async informaciónPedidoVivo() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n\n        this.id = info._id;\n\n        this.apiPedidos.consultarMapaUnico(info.token, {id: this.active.snapshot.paramMap.get('id')}).subscribe((data: any) => {\n            console.log(data)\n            if (data.exe) {\n            if (data.response.length > 0) {\n             this.pedido = data.response[0];\n              console.log(this.active.snapshot.paramMap.get('tipo'))\n             if (this.active.snapshot.paramMap.get('tipo') === 'vivo') {\n\n              this.graficar2(this.pedido.ubicacionactual);\n             } else {\n               console.log('Entrar');\n              this.calcular2();\n             }\n\n            \n            }\n           \n            } else {\n              this.toast.toastError('No se pudo consultar el pedido, inténtelo más tarde');\n              this.router.navigate(['/central/menu/'])\n            }\n            this.cargado = true;\n        }, (err) => {\n              this.toast.toastError('No se pudo consultar el pedido, inténtelo más tarde');\n              this.router.navigate(['/central/menu/'])\n        })\n      }\n  }\n\n\n\n  async guardar() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n        \n       const alert = await this.alert.create({\n         header: 'Atención!',\n         message: '¿Estas seguro de tu ubicación?, una vez que aceptes no podras cambiarla de nuevo',\n         buttons: [\n           {\n             text: 'Cancelar',\n             cssClass: 'cancelarAlerta',\n             role: 'cancel'\n           },\n           {\n             text: 'Confirmar',\n             cssClass: 'botonalerta',\n             handler: () => {\n              if (this.lat !== '' && this.lng !== '') {\n                // tslint:disable-next-line:max-line-length\n                this.apiPedidos.editarMapa(info.token, {id: this.active.snapshot.paramMap.get('id'), ubicacion: {lat: this.lat, lng: this.lng}}).subscribe((data: any) => {\n                  console.log(data)\n                  if (data.exe) {\n                    this.router.navigate(['/central/pedidos/info', data.response.pedido._id]);\n                    this.toast.Especial('Ubicación actualizada');\n                  } else {\n                    this.toast.toastError('No se pudo editar la ubicación para el pedido, inténtelo más tarde');\n                    this.router.navigate(['/central/pedidos'])\n                  }\n                  this.cargado = true;\n              }, (err) => {\n                    this.toast.toastError('No se pudo edita, inténtelo más tarde');\n                    this.router.navigate(['/central/pedidos'])\n              })\n              } else {\n                this.toast.toastError('No ha seleccionado la ubicación');\n              }\n             }\n           }\n         ]\n       })\n\n       await alert.present();\n        \n      }\n  }\n\n  escucharCoords() {\n      const myobserver = new Observable(observer => {\n        this.socket.on('coordenadas', (data) => {\n          observer.next(data);\n        });\n      });\n    \n      return myobserver;\n    \n  }\n\n\n  escucharPedido() {\n    const myobserver = new Observable(observer => {\n      this.socket.on('finalizarPedido', (data) => {\n        observer.next(data);\n      });\n    });\n  \n    return myobserver;\n  \n}\n\n  async entregado() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n        \n       const alert = await this.alert.create({\n         header: '¿Has terminado el pedido?!',\n         message: 'Al marcar terminar ' + this.pedido.destino.nombrecompleto + ' ya no recibirá más tu ubicación',\n         buttons: [\n           {\n             text: 'Cancelar',\n             cssClass: 'cancelarAlerta',\n             role: 'cancel'\n           },\n           {\n             text: 'Terminar',\n             cssClass: 'botonalerta',\n             handler: () => {\n                this.parar = true;\n                this.posicion.unsubscribe();\n                this.socket.emit('finalizarPedido', {\n                  pedido: this.pedido\n                })\n             }\n           }\n         ]\n       })\n\n       await alert.present();\n        \n      }\n  }\n\n  ionViewWillLeave() {\n    this.parar = true;\n    this.posicion.unsubscribe();\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PedidosMapaPageRoutingModule } from './pedidos-mapa-routing.module';\n\nimport { PedidosMapaPage } from './pedidos-mapa.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PedidosMapaPageRoutingModule\n  ],\n  declarations: [PedidosMapaPage]\n})\nexport class PedidosMapaPageModule {}\n"],"sourceRoot":"webpack:///"}