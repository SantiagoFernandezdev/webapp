{"version":3,"sources":["./src/app/Pages/EstadoCitas/chat/chat-routing.module.ts","./src/app/Pages/EstadoCitas/chat/video.directive.ts","./src/app/Pages/EstadoCitas/chat/chat.page.html","./src/app/Pages/Modales/modal-citas/modal-citas.page.html","./src/app/Pages/Modales/modal-citas/modal-citas-routing.module.ts","./src/app/Pages/Modales/modal-citas/modal-citas.page.scss","./src/app/Pages/EstadoCitas/chat/chat.page.ts","./src/app/Pages/EstadoCitas/chat/chat.module.ts","./src/app/Pages/EstadoCitas/chat/chat.page.scss","./src/app/Pages/Modales/modal-citas/modal-citas.page.ts","./src/app/Pages/Modales/modal-citas/modal-citas.module.ts"],"names":[],"mappings":"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","file":"Pages-EstadoCitas-chat-chat-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatPage } from './chat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatPageRoutingModule {}\n","import { Directive, HostListener, ElementRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[video-load]'\r\n})\r\n\r\nexport class VideoDirective {\r\n    \r\n    constructor(\r\n        private el: ElementRef\r\n    ) { }\r\n\r\n    @HostListener('canplay') cargando() {\r\n        this.el.nativeElement.currentTime = 0.3;\r\n    }\r\n}\r\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar color=\\\"blanco\\\">\\n\\n\\n        <div class=\\\"title\\\">\\n            <div class=\\\"taller\\\">\\n                <ion-buttons>\\n                    <ion-back-button defaultHref=\\\"/central/menu/miscitas\\\" icon=\\\"chevron-back-outline\\\">\\n                    </ion-back-button>\\n\\n                </ion-buttons>\\n                <ion-avatar *ngIf=\\\"imagen !== ''\\\">\\n                    <img [src]=\\\"imagen\\\">\\n                </ion-avatar>\\n                <div class=\\\"info\\\" *ngIf=\\\"nombre !== ''\\\">\\n                    <h4>{{ nombre }}</h4>\\n                    <h5 class=\\\"conx\\\" *ngIf=\\\"(escribiendo === false && conexion === 'conexion')\\\"> <span class=\\\"bola verde\\\"></span> Conectado</h5>\\n                    <h5 class=\\\"conx\\\" *ngIf=\\\"(escribiendo === false && conexion === 'desconexion')\\\"> <span class=\\\"bola rojo\\\"></span> Desconectado</h5>\\n                    <h5 class=\\\"small\\\" *ngIf=\\\"escribiendo\\\"> Escribiendo...</h5>\\n                </div>\\n            </div>\\n\\n        </div>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content #contenido>\\n    <ion-infinite-scroll #infinito position=\\\"top\\\" threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Cargando mensajes...\\\">\\n        </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n    <ion-grid>\\n        <ion-row *ngFor=\\\"let conver of conversacion\\\">\\n            <ion-col size=\\\"9\\\" class=\\\"final\\\" push=\\\"3\\\" *ngIf=\\\"local === conver.emisor\\\">\\n                <div class=\\\"grispo col \\\">\\n                    <div class=\\\"images\\\" *ngIf=\\\"conver.archivos.length > 0\\\">\\n                        <div class=\\\"imageChild\\\" *ngFor=\\\"let file of conver.archivos\\\">\\n                            <img *ngIf=\\\"file.type.includes('image')\\\" src=\\\"https://motocaliapp.com/Citas/{{ file.nameBD }}\\\" (click)=\\\"seleccionarMedia(file.nameBD, 'imagen')\\\" alt=\\\" \\\">\\n\\n                            <div *ngIf=\\\"file.nameBD === 'none'\\\">\\n                                <ion-spinner name=\\\"crescent\\\"></ion-spinner> El vídeo estará disponible en un momento\\n                            </div>\\n\\n                            <div *ngIf=\\\"file.nameBD !== 'none'\\\">\\n                                <div class=\\\"btn\\\" *ngIf=\\\"!file.type.includes('image') \\\" (click)=\\\"seleccionarMedia(file.nameBD, 'video') \\\" color=\\\"success\\\">\\n                                    <video video-load poster=\\\"/assets/icon/favicon.png\\\" src=\\\"https://motocaliapp.com/Citas/{{file.nameBD}}\\\"></video>\\n\\n\\n                                    <ion-button class=\\\"btn-f\\\" color=\\\"oscuro\\\" mode=\\\"ios\\\">\\n                                        <ion-icon name=\\\"play-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                                    </ion-button>\\n                                </div>\\n                            </div>\\n\\n\\n\\n                            <!-- <div class=\\\"btn\\\" *ngIf=\\\"!file.name.includes( 'image') \\\" (click)=\\\"seleccionarMedia(file.nameBD, 'video') \\\" color=\\\"success\\\">\\n                            <h4 class=\\\"btn-h\\\">Abrir Vídeo</h4>\\n                            <ion-button color=\\\"success\\\" mode=\\\"ios\\\">\\n                                <ion-icon name=\\\"play-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                            </ion-button>\\n                            <h4 class=\\\"btn-f\\\">MimotoApp </h4>\\n                        </div> -->\\n\\n\\n                            <!-- <video *ngIf=\\\"!file.name.includes( 'image') \\\" width=\\\"100% \\\" src=\\\"https://motocaliapp.com/Citas/ \\\" controls></video>-->\\n                        </div>\\n                    </div>\\n                    <div class=\\\"msg \\\">\\n                        {{ conver.mensaje }}\\n                    </div>\\n                    <div class=\\\"fh \\\">\\n                        <div class=\\\"fecha\\\">{{ conver.fechaMensaje }}</div>\\n\\n                    </div>\\n                </div>\\n            </ion-col>\\n            <ion-col size=\\\"11\\\" class=\\\" visi\\\" *ngIf=\\\"local !== conver.emisor \\\">\\n                <div class=\\\"imagen\\\">\\n                    <ion-avatar *ngIf=\\\"imagen !== ''\\\">\\n                        <img [src]=\\\"imagen\\\">\\n                    </ion-avatar>\\n                </div>\\n                <div class=\\\"grispi col\\\">\\n                    <div class=\\\"images\\\" *ngIf=\\\"conver.archivos.length> 0\\\">\\n                        <div class=\\\"imageChild\\\" *ngFor=\\\"let file of conver.archivos\\\">\\n                            <img *ngIf=\\\"file.type.includes('image')\\\" src=\\\"https://motocaliapp.com/Citas/{{ file.nameBD }}\\\" (click)=\\\"seleccionarMedia(file.nameBD, 'imagen')\\\" alt=\\\" \\\">\\n                            <div *ngIf=\\\"file.nameBD === 'none'\\\">\\n                                <ion-spinner name=\\\"crescent\\\"></ion-spinner> El vídeo estará disponible en un momento\\n                            </div>\\n\\n                            <div *ngIf=\\\"file.nameBD !== 'none'\\\">\\n                                <div class=\\\"btn\\\" *ngIf=\\\"!file.type.includes('image') \\\" (click)=\\\"seleccionarMedia(file.nameBD, 'video') \\\" color=\\\"success\\\">\\n                                    <video video-load poster=\\\"/assets/icon/favicon.png\\\" src=\\\"https://motocaliapp.com/Citas/{{file.nameBD}}\\\"></video>\\n\\n\\n                                    <ion-button class=\\\"btn-f\\\" color=\\\"oscuro\\\" mode=\\\"ios\\\">\\n                                        <ion-icon name=\\\"play-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                                    </ion-button>\\n                                </div>\\n                            </div>\\n\\n                            <!-- <div class=\\\"btn\\\" *ngIf=\\\"!file.name.includes( 'image') \\\" (click)=\\\"seleccionarMedia(file.nameBD, 'video') \\\" color=\\\"success\\\">\\n                                <h4 class=\\\"btn-h\\\">Abrir Vídeo</h4>\\n                                <ion-button color=\\\"success\\\" mode=\\\"ios\\\">\\n                                    <ion-icon name=\\\"play-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                                </ion-button>\\n                                <h4 class=\\\"btn-f\\\">MimotoApp </h4>\\n                            </div> -->\\n\\n\\n                        </div>\\n                    </div>\\n                    <div class=\\\"msg \\\">\\n                        {{ conver.mensaje }}\\n                    </div>\\n                    <div class=\\\"fh \\\">\\n                        <div class=\\\"fecha\\\">{{ conver.fechaMensaje }}</div>\\n\\n                    </div>\\n                </div>\\n\\n            </ion-col>\\n        </ion-row><br>\\n    </ion-grid>\\n\\n    <div class=\\\"fotos \\\" @entrada *ngIf=\\\"carrete.length> 0\\\">\\n        <div class=\\\"titulo\\\">Fotos para subir</div>\\n        <div class=\\\"carrete\\\">\\n            <div class=\\\"fotoHija\\\" *ngFor=\\\"let image of carrete; let i = index\\\">\\n                <img *ngIf=\\\"image.includes('jpg')\\\" src=\\\"{{image}}\\\" width=\\\"70px\\\">\\n                <video *ngIf=\\\"image.includes('mp4')\\\" src=\\\"{{image}}\\\" width=\\\"70px\\\" controls></video>\\n                <div class=\\\"eliminar\\\" (click)=\\\"eliminardelCarrete(i)\\\">\\n                    <ion-chip color=\\\"danger\\\">Eliminar</ion-chip>\\n                </div>\\n            </div>\\n        </div>\\n\\n    </div>\\n\\n</ion-content>\\n\\n<ion-footer class=\\\"flexible ion-no-border\\\">\\n    <div class=\\\"text\\\">\\n        <ion-textarea class=\\\"campo\\\" [(ngModel)]=\\\"mensaje\\\" placeholder=\\\"Escribe un mensaje\\\" (ionInput)=\\\"escribirMensaje()\\\" (ionBlur)=\\\"cambiar()\\\"></ion-textarea>\\n        <div class=\\\"opt\\\">\\n            <ion-button color=\\\"blanco\\\" fill=\\\"clear\\\" (click)=\\\"camaraOpciones()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"camera-outline\\\" color=\\\"medium\\\"></ion-icon>\\n            </ion-button>\\n        </div>\\n    </div>\\n    <div class=\\\"botones\\\">\\n        <ion-button (click)=\\\"enviarMensaje()\\\" fill=\\\"clear\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"send-outline\\\" color=\\\"success\\\"></ion-icon>\\n        </ion-button>\\n    </div>\\n</ion-footer>\";","export default \"<ion-header *ngIf=\\\"vista === 'buscar'\\\">\\n    <ion-toolbar color=\\\"blanco\\\">\\n\\n        <ion-title>Creando nuevas citas</ion-title>\\n        <ion-buttons fill=\\\"clear\\\" slot=\\\"end\\\" *ngIf=\\\"type !== 'chat'\\\">\\n            <ion-button (click)=\\\"descartar()\\\" fill=\\\"clear\\\">\\n                <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-header *ngIf=\\\"vista === 'media'\\\">\\n    <ion-toolbar color=\\\"dark\\\">\\n        <ion-buttons fill=\\\"clear\\\" slot=\\\"start\\\">\\n            <ion-button (click)=\\\"descartar()\\\" fill=\\\"clear\\\">\\n                <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <ion-title>Fotos y Vídeos</ion-title>\\n\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-header *ngIf=\\\"vista === 'carpetas'\\\">\\n    <ion-toolbar color=\\\"blanco\\\">\\n        <ion-buttons fill=\\\"clear\\\" slot=\\\"start\\\">\\n            <ion-button (click)=\\\"descartar()\\\" fill=\\\"clear\\\">\\n                <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <ion-title>Carpeta de Citas</ion-title>\\n\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen=\\\"true\\\" *ngIf=\\\"vista === 'buscar' || vista === 'chat' || vista === 'setting'\\\">\\n\\n\\n\\n    <div class=\\\"divider\\\" *ngIf=\\\"vista === 'buscar'\\\">\\n        <ion-slides #slide>\\n            <ion-slide>\\n                <ion-grid fixed>\\n\\n                    <ion-row>\\n                        <ion-col size=\\\"12\\\">\\n                            <ion-searchbar color=\\\"light\\\"></ion-searchbar>\\n                        </ion-col>\\n\\n                        <ion-col size=\\\"12\\\">\\n                            <div class=\\\"divider\\\"></div>\\n                        </ion-col>\\n                    </ion-row>\\n\\n                    <ion-row>\\n                        <ion-col size=\\\"12\\\">\\n                            <ion-list>\\n                                <ion-item *ngFor=\\\"let taller of listaTalleres\\\" (press)=\\\"opciones(taller.usuarioReceptor.nombrecompleto)\\\" (click)=\\\"crear(taller)\\\">\\n                                    <ion-avatar slot=\\\"start\\\">\\n                                        <img src=\\\"https://motocaliapp.com/{{taller.avatar}}\\\" width=\\\"100%\\\" alt=\\\"\\\">\\n                                    </ion-avatar>\\n                                    <ion-label class=\\\"ion-text-wrap\\\">\\n                                        <div>{{ taller.usuarioReceptor.nombrecompleto }}</div>\\n                                        <div>{{ taller.usuarioReceptor.nombreusuario }}</div>\\n                                    </ion-label>\\n\\n                                </ion-item>\\n                            </ion-list>\\n\\n                        </ion-col>\\n                    </ion-row>\\n\\n                </ion-grid>\\n            </ion-slide>\\n\\n            <ion-slide class=\\\"anchofull\\\">\\n                <ion-grid fixed>\\n                    <ion-row>\\n                        <ion-col size=\\\"12\\\">\\n                            <h3 class=\\\"opacity\\\">Creando un nuevo turno para {{usuario}}</h3>\\n                        </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col size=\\\"6\\\">\\n                            <ion-button expand=\\\"block\\\" mode=\\\"ios\\\" color=\\\"light\\\" (click)=\\\"cancelar()\\\">Cancelar </ion-button>\\n\\n                        </ion-col>\\n\\n                        <ion-col size=\\\"6\\\">\\n                            <ion-button expand=\\\"block\\\" mode=\\\"ios\\\" color=\\\"primary\\\" (click)=\\\"generarTicket()\\\">Generar </ion-button>\\n\\n                        </ion-col>\\n                    </ion-row>\\n                </ion-grid>\\n            </ion-slide>\\n        </ion-slides>\\n    </div>\\n\\n\\n\\n    <div>\\n\\n\\n\\n    </div>\\n\\n</ion-content>\\n\\n<ion-content fullscreen=\\\"true\\\" *ngIf=\\\"vista === 'media'\\\" color=\\\"darkgold\\\">\\n\\n    <app-video *ngIf=\\\"tipoArchivo === 'video'\\\" url=\\\"https://motocaliapp.com/Citas/{{ urlArchivo }}\\\"></app-video>\\n\\n    <ion-slides class=\\\"diapositiva\\\" [options]=\\\"slideOpt\\\" *ngIf=\\\"tipoArchivo === 'imagen'\\\">\\n        <ion-slide>\\n            <img src=\\\"https://motocaliapp.com/Citas/{{ urlArchivo }}\\\" alt=\\\"\\\">\\n        </ion-slide>\\n    </ion-slides>\\n</ion-content>\\n\\n\\n<ion-content fullscreen=\\\"true\\\" *ngIf=\\\"vista === 'carpetas'\\\">\\n    <div class=\\\"divider \\\">\\n        <ion-searchbar mode=\\\"ios\\\" (ionChange)=\\\"filtro( $event )\\\"></ion-searchbar>\\n    </div>\\n    <ion-list>\\n        <ion-item-sliding *ngFor=\\\"let cita of citas | miFiltro : texto\\\">\\n            <ion-item (click)=\\\"escogerChat(cita._id)\\\">\\n                <ion-avatar class=\\\"avatar\\\" slot=\\\"start\\\">\\n                    <img src=\\\"https://motocaliapp.com/{{cita.imagenTaller}}\\\" width=\\\"100%\\\" />\\n                </ion-avatar>\\n                <ion-label class=\\\"ion-text-wrap\\\">\\n                    <strong class=\\\"medium\\\">{{ cita.nombrecompleto }}</strong>\\n                    <p>@{{ cita.nombreusuario }} - Estado pendiente</p>Cita creada el {{ cita.fechainicio | fecha }}\\n                </ion-label>\\n                <div slot=\\\"end\\\" class=\\\"estadobol\\\" [ngClass]=\\\"{'estado-amarillo ': cita.estado === 'PENDIENTE', 'estado-azul ': cita.estado === 'EN PROGRESO', 'estado-verde ': cita.estado === 'TERMINADO'}\\\">\\n\\n                </div>\\n            </ion-item>\\n            <ion-item-options side=\\\"start\\\">\\n                <ion-item-option color=\\\"light\\\">\\n                    <ion-icon slot=\\\"icon-only\\\" name=\\\"ellipsis-vertical-outline\\\"></ion-icon>\\n                </ion-item-option>\\n                <ion-item-option color=\\\"secondary\\\">\\n                    <ion-icon slot=\\\"icon-only\\\" name=\\\"trash-outline\\\"></ion-icon>\\n                </ion-item-option>\\n            </ion-item-options>\\n        </ion-item-sliding>\\n    </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ModalCitasPage } from './modal-citas.page';\nconst routes: Routes = [\n  {\n    path: '',\n    component: ModalCitasPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ModalCitasPageRoutingModule {}\n","export default \"ion-item img {\\n  width: 100%;\\n}\\n\\nion-item {\\n  touch-action: pan-y !important;\\n}\\n\\nion-list {\\n  width: 100%;\\n}\\n\\nion-slides,\\nion-slide {\\n  width: 100%;\\n}\\n\\n.fullancho {\\n  min-height: 100%;\\n  height: auto;\\n}\\n\\n.diapositiva {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.estado {\\n  padding: 10px;\\n}\\n\\n.estadobol {\\n  width: 30px;\\n  height: 30px;\\n  border-radius: 100%;\\n}\\n\\n.estado-verde {\\n  background: #85B84F;\\n}\\n\\n.estado-amarillo {\\n  background: #FCD573;\\n}\\n\\n.estado-azul {\\n  background: #5591B1;\\n}\\n\\n.es-bottom {\\n  margin-bottom: 15px;\\n}\\n\\n.es-bottom-small {\\n  margin-bottom: 10px;\\n}\\n\\n.precio {\\n  height: 80px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 42px;\\n  opacity: 0.8;\\n  font-weight: bolder;\\n  color: var(--ion-color-success);\\n}\\n\\n.trabajo {\\n  border-bottom: 1px solid rgba(3, 3, 3, 0.1);\\n}\\n\\n.trabajo:nth-child(even) {\\n  --background: #f9f9f9;\\n}\\n\\nion-item-divider {\\n  margin-bottom: 10px;\\n}\\n\\n.ok {\\n  opacity: 0.3;\\n}\\n\\nvideo {\\n  max-height: 100%;\\n}\\n\\n.fl {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.aviso {\\n  --background: #FEE491;\\n}\\n\\n.aviso:hover {\\n  --background: #FEE491 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcbW9kYWwtY2l0YXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtBQUNKOztBQUVBO0VBQ0ksOEJBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7QUFDSjs7QUFFQTs7RUFFSSxXQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtFQUNBLFlBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksbUJBQUE7QUFDSjs7QUFFQTtFQUNJLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksbUJBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSwrQkFBQTtBQUNKOztBQUVBO0VBQ0ksMkNBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksWUFBQTtBQUNKOztBQUVBO0VBQ0ksZ0JBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtBQUNKOztBQUVBO0VBQ0ksZ0NBQUE7QUFDSiIsImZpbGUiOiJtb2RhbC1jaXRhcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbSBpbWcge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbmlvbi1pdGVtIHtcclxuICAgIHRvdWNoLWFjdGlvbjogcGFuLXkgIWltcG9ydGFudDtcclxufVxyXG5cclxuaW9uLWxpc3Qge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbmlvbi1zbGlkZXMsXHJcbmlvbi1zbGlkZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmZ1bGxhbmNobyB7XHJcbiAgICBtaW4taGVpZ2h0OiAxMDAlO1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG59XHJcblxyXG4uZGlhcG9zaXRpdmEge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5lc3RhZG8ge1xyXG4gICAgcGFkZGluZzogMTBweDtcclxufVxyXG5cclxuLmVzdGFkb2JvbCB7XHJcbiAgICB3aWR0aDogMzBweDtcclxuICAgIGhlaWdodDogMzBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XHJcbn1cclxuXHJcbi5lc3RhZG8tdmVyZGUge1xyXG4gICAgYmFja2dyb3VuZDogIzg1Qjg0RjtcclxufVxyXG5cclxuLmVzdGFkby1hbWFyaWxsbyB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjRkNENTczO1xyXG59XHJcblxyXG4uZXN0YWRvLWF6dWwge1xyXG4gICAgYmFja2dyb3VuZDogIzU1OTFCMTtcclxufVxyXG5cclxuLmVzLWJvdHRvbSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4uZXMtYm90dG9tLXNtYWxsIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbn1cclxuXHJcbi5wcmVjaW8ge1xyXG4gICAgaGVpZ2h0OiA4MHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogNDJweDtcclxuICAgIG9wYWNpdHk6IC44O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcclxuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XHJcbn1cclxuXHJcbi50cmFiYWpvIHtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDMsIDMsIDMsIDAuMSk7XHJcbn1cclxuXHJcbi50cmFiYWpvOm50aC1jaGlsZChldmVuKSB7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNmOWY5Zjk7XHJcbn1cclxuXHJcbmlvbi1pdGVtLWRpdmlkZXIge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLm9rIHtcclxuICAgIG9wYWNpdHk6IC4zO1xyXG59XHJcblxyXG52aWRlbyB7XHJcbiAgICBtYXgtaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4uZmwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuLmF2aXNvIHtcclxuICAgIC0tYmFja2dyb3VuZDogI0ZFRTQ5MTtcclxufVxyXG5cclxuLmF2aXNvOmhvdmVyIHtcclxuICAgIC0tYmFja2dyb3VuZDogI0ZFRTQ5MSAhaW1wb3J0YW50O1xyXG59Il19 */\";","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { EstadoCitasService } from '../../../providers/Api/EstadoCitas.service';\nimport { Socket } from 'ngx-socket-io';\nimport { Observable } from 'rxjs';\nimport { InicioService } from 'src/app/providers/Almacenamiento/inicio.service';\nimport { CargaElementosUsuariosService } from '../../../providers/cargas/usuarios.service';\nimport { trigger, transition, query, stagger, animate, style } from '@angular/animations';\nimport { IonContent, ModalController, ActionSheetController, IonInfiniteScroll, MenuController, AnimationController } from '@ionic/angular';\nimport { ModalCitasPage } from '../../Modales/modal-citas/modal-citas.page';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport * as moment from 'moment';\nimport { LoadingService } from '../../../providers/Utilidades/LoadingService.service';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions, CaptureVideoOptions } from '@ionic-native/media-capture/ngx';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\nimport { ConexionService } from '../../../providers/Conexiones/Conexion.service';\n\n\ndeclare var window: any;\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.page.html',\n  styleUrls: ['./chat.page.scss'],\n  animations: [\n      trigger('mensajes', [\n        transition('* => *', [\n          query(':enter', [\n            style({\n              transform: 'scale(0)',\n              opacity: 0\n            }),\n            stagger(100, [\n              animate('100ms', style({\n                transform: 'scale(1)',\n                opacity: 1\n              }))\n            ])\n          ], {optional: true})\n        ])\n      ]),\n      trigger('entrada', [\n        transition(':enter', [\n          style({\n            transform: 'scale(0)',\n            opacity: 0\n          }),\n          animate('300ms', style({\n            transform: 'scale(1)',\n            opacity: 1\n          }))\n        ])\n      ])\n  ]\n})\nexport class ChatPage implements OnInit {\n\n  color: any = '';\n  idCita: any = '';\n\n  data = [];\n  imagen: any = '';\n  taller: any = '';\n  conversacionTemporal: any[] = [];\n  conversacion: any[] = [];\n  mensaje = '';\n  usuario = '';\n  local = '';\n  nombre: any = '';\n  red = 'wifi';\n\n  tallerId = '';\n  usuarioID = '';\n  idActual = '';\n\n  dataInfoCita: any = {};\n  escribiendo = false;\n\n  carrete = [];\n  carreteArriba = [];\n\n  // Archivos\n\n  directorios: any[] = [];\n  urlInfo = {\n    url: '',\n    tipo: 'video'\n  };\n\n  // Mensajes Optimizacion\n\n  paginacion = 0;\n  cargar = false;\n  conexion = '';\n  cargoprimero = false;\n\n  video = false;\n\n  @ViewChild('contenido', {static: false}) contenido: IonContent;\n  @ViewChild('infinito', {static: false}) infinito: IonInfiniteScroll;\n\n  constructor(\n    private activeRoute: ActivatedRoute,\n    private apiEstadoCitas: EstadoCitasService,\n    private sockect: Socket,\n    private almacenamiento: InicioService,\n    private cargarElementos: CargaElementosUsuariosService,\n    private modalCtrl: ModalController,\n    private geo: Geolocation,\n    private camera: Camera,\n    private actionSheet: ActionSheetController,\n    private myLoading: LoadingService,\n    private media: MediaCapture,\n    private toast: ToastServices,\n    private conexiones: ConexionService,\n    private menu: MenuController,\n    private animationCtrl: AnimationController\n  ) {\n\n    this.cargarElementos.$cargarRed.subscribe(async (red: any) => {\n      this.red = red;\n      if (this.red !== 'none') {\n            // console.log('Me ejecuto siii')\n            this.almacenamiento.obtenerToken().then((info) => {\n\n              this.sockect.emit('conectar', info);\n              this.volver(info);\n\n            })\n      }\n    });\n\n    this.recibirMensaje().subscribe(async (data: any) => {\n      // console.log('2');\n      // tslint:disable-next-line:max-line-length\n      this.conversacion.push({id: data._id, taller: this.taller, usuario: this.usuario, emisor: data.emisor, mensaje: data.mensaje, fechaMensaje: data.fechaMensaje, archivos: data.archivos});\n      // // console.log('se jecuta el suscribe');\n      const audio = new Audio('/assets/Notificacion.mp3');\n      audio.play();\n    });\n\n\n    this.escribirOnCita().subscribe(async (data: any) => {\n      // console.log('3');\n      this.escribiendo = data.exe;\n\n    });\n\n\n    this.conexiones.$conexiones.subscribe((data: any) => {\n      // console.log('Data de la conexión ', data, this.idActual)\n      if (data.usuario === this.idActual) {\n          this.conexion = data.estado;\n      }\n    })\n\n    this.actualizarVideo().subscribe((data: any) => {\n      // console.log('Data de la conexión ', data, this.idActual)\n      this.conversacion = this.conversacion.map((item: any) => {\n        if (item.id) {\n          if (item.id === data._id) {\n            item.archivos = item.archivos.map((file) => {\n              if (file.nameBD === 'none') {\n                file.nameBD = data.nameSecret;\n              }\n              return file;\n            });\n          }\n        }\n        return item;\n      })\n      console.log(this.conversacion, 'Ultimo');\n    })\n\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.menu.enable(false, 'perfilMenu');\n    this.arrancar();\n\n  }\n\n  async volver(info) {\n    const cita =  await this.almacenamiento.obtenerCita();\n    if (cita) {\n\n      // console.log(info, 'Todo bien por aca');\n        \n      this.idCita = cita;\n        \n      this.apiEstadoCitas.obtenerCita(info.token, this.idCita).subscribe( async (data: any) => {\n\n                // console.log(data, ' data');\n                this.data = data.response;\n                if (data.response.length > 0) {\n                  \n          \n                  if (info.nusuario === data.response[0].idtaller.nombreusuario) {\n                    this.imagen = `https://motocaliapp.com/${data.response[0].usuariopedido.imagen[0].path}`;\n                    this.nombre = data.response[0].usuariopedido.nombrecompleto;\n                    this.sockect.emit('entrarChatCita', {\n                      _id: this.idCita,\n                      usuario: data.response[0].usuariopedido._id,\n                      usuariohost: data.response[0].idtaller._id\n                    });\n                    this.idActual = data.response[0].usuariopedido._id;\n          \n                  } else if (info.nusuario === data.response[0].usuariopedido.nombreusuario) {\n                    this.imagen = `https://motocaliapp.com/${data.response[0].idtaller.imagen[0].path}`;\n                    this.nombre = data.response[0].idtaller.nombrecompleto;\n    \n                    this.sockect.emit('entrarChatCita', {\n                      _id: this.idCita,\n                      usuario: data.response[0].idtaller._id,\n                      usuariohost: data.response[0].usuariopedido._id\n                    });\n                    this.idActual = data.response[0].idtaller._id;\n                  }\n                 // this.estado(data.response[0].estado);\n                  this.taller = data.response[0].idtaller.nombreusuario;\n          \n                  this.usuario = data.response[0].usuariopedido.nombreusuario;\n                  this.tallerId = data.response[0].idtaller._id;\n          \n                  this.usuarioID = data.response[0].usuariopedido._id;\n          \n                  this.dataInfoCita.fechaInicio = data.response[0].fechainicio;\n                  this.dataInfoCita.fechaprogreso = data.response[0].fechaprogreso;\n                  this.dataInfoCita.fechacumplido = data.response[0].fechacumplido;\n                  this.dataInfoCita.role = info.role;\n                  this.dataInfoCita.precio = data.response[0].precio;\n                  this.dataInfoCita.trabajos = data.response[0].listaTrabajos;\n          \n                  // console.log(this.conversacion.length, ' conversaciones');\n                  if (this.conversacion.length > 0) {\n                    // tslint:disable-next-line:max-line-length\n                    this.apiEstadoCitas.obtenerConversacionesPendientes(info.token, this.idCita, this.conversacion[this.conversacion.length - 1].fechaMensaje).subscribe(async (mensajes: any) => {\n    \n                      if (mensajes.exe) {\n                         mensajes.response.forEach((item) => {\n                          this.conversacion.push(item);\n                        })\n                      }\n                      // console.log(mensajes, this.conversacion, 'Recargar nuevos msg');\n            \n                    });\n                  }\n          \n                }\n            });\n            }\n  }\n\n  async arrancar() {\n    const cita =  await this.almacenamiento.obtenerCita();\n    if (cita) {\n      this.cargoprimero = true;\n\n      this.idCita = cita;\n      // console.log(cita, ' ionviewWillEnter');\n\n      this.almacenamiento.obtenerToken().then((info: any) => {\n \n      this.local = info.nusuario;\n      this.apiEstadoCitas.obtenerCita(info.token, this.idCita).subscribe( async (data: any) => {\n      this.data = data.response;\n      if (data.response.length > 0) {\n     \n        if (info.nusuario === data.response[0].idtaller.nombreusuario) {\n          this.imagen = `https://motocaliapp.com/${data.response[0].usuariopedido.imagen[0].path}`;\n          this.nombre = data.response[0].usuariopedido.nombrecompleto;\n          this.idActual = data.response[0].usuariopedido._id;\n\n          this.sockect.emit('entrarChatCita', {\n            _id: this.idCita,\n            usuario: data.response[0].usuariopedido._id,\n            usuariohost: data.response[0].idtaller._id\n          });\n\n        } else if (info.nusuario === data.response[0].usuariopedido.nombreusuario) {\n          this.imagen = `https://motocaliapp.com/${data.response[0].idtaller.imagen[0].path}`;\n          this.nombre = data.response[0].idtaller.nombrecompleto;\n          this.idActual = data.response[0].idtaller._id;\n          this.sockect.emit('entrarChatCita', {\n            _id: this.idCita,\n            usuario: data.response[0].idtaller._id,\n            usuariohost: data.response[0].usuariopedido._id\n          });\n        }\n       // this.estado(data.response[0].estado);\n        this.taller = data.response[0].idtaller.nombreusuario;\n\n        this.usuario = data.response[0].usuariopedido.nombreusuario;\n        this.tallerId = data.response[0].idtaller._id;\n\n        this.usuarioID = data.response[0].usuariopedido._id;\n\n        // Información de la cita\n\n        this.dataInfoCita.estado = data.response[0].estado;\n        this.dataInfoCita.fechaInicio = data.response[0].fechainicio;\n        this.dataInfoCita.fechaprogreso = data.response[0].fechaprogreso;\n        this.dataInfoCita.fechacumplido = data.response[0].fechacumplido;\n        this.dataInfoCita.role = info.role;\n        this.dataInfoCita.precio = data.response[0].precio;\n        this.dataInfoCita.trabajos = data.response[0].listaTrabajos;\n\n        this.apiEstadoCitas.obtenerConversaciones(info.token, this.idCita, this.paginacion.toString()).subscribe(async (mensajes: any) => {\n\n          if (mensajes.exe) {\n             mensajes.response.forEach((item) => {\n              this.conversacion.unshift(item);\n            })\n\n            setTimeout(() => {\n              this.scrollbajar();\n            }, 1000)\n          }\n          // console.log(mensajes, 'Me guta');\n\n        });\n\n        // Scrolling\n\n\n      }\n    });\n  });\n  }\n  }\n\n  loadData( event ) {\n    if ( this.cargar ) {\n      this.paginacion = this.paginacion + 10;\n      // console.log(event, 'Cargando data', this.paginacion);\n      this.almacenamiento.obtenerToken().then((info: any) => {\n        this.apiEstadoCitas.obtenerConversaciones(info.token, this.idCita, this.paginacion.toString()).subscribe(async (mensajes: any) => {\n\n          if (mensajes.exe) {\n              mensajes.response.forEach((item) => {\n                this.conversacion.unshift(item);\n              })\n          \n          }\n          // console.log(mensajes, 'Me guta');\n          event.target.complete();\n          if (mensajes.response.length === 0) {\n            this.infinito.disabled = true;\n          }\n          \n  \n        });\n      }).catch(() => {\n        this.toast.alertApplication('No se pudo traer mas mensajes', false)\n        event.target.complete();\n      });\n     \n    }\n  }\n\n  // valid( file ) {\n  //   return this.file.checkFile(this.file.dataDirectory + 'MimotoMedia/', file).then(() => {\n  //     return true;\n  //   }).catch(() => {\n  //     return false;\n  //   })\n  // }\n\n  // descargar( file ) {\n  //   // console.log('Bine');\n  //   this.myLoading.cargaProcesos('Descargando');\n  //   this.apiEstadoCitas.descargarArchivosChat(file).subscribe((descarga) => {\n  //     // console.log(descarga, ' Descargando');\n  //     this.myLoading.finalizarCargado();\n  //     this.file.listDir(this.file.dataDirectory, 'MimotoMedia').then((des) => {\n  //       // console.log(des);\n  //     }).catch((error) => {\n        \n  //       // console.log(error, ' Error al descargar')\n  //     })\n     \n  //   }, (err) => {\n  //     this.myLoading.finalizarCargado();\n  //     // console.log('Error al descargar', err)\n  //   });\n  // }\n\n\n  scrollbajar() {\n     this.contenido.scrollToBottom(0).then(() => {\n       // console.log('Vientos');\n       this.cargar = true;\n     });\n  }\n\n\n  // estado(status) {\n  //   switch (status) {\n  //     case 'PENDIENTE':\n  //       this.color = 'warning';\n  //       break;\n\n  //     case 'EN PROGRESO':\n  //       this.color = 'secondary';\n  //       break;\n\n  //     case 'TERMINADO':\n  //       this.color = 'success';\n  //       break;\n  //   }\n\n  //   this.dataInfoCita.estado = status;\n  // }\n\n  actualizarVideo() {\n    const myobserver = new Observable(observer => {\n      this.sockect.on('subirVideo', (data) => {\n        observer.next(data);\n        console.log(data, 'actualizado')\n      });\n    });\n\n    return myobserver;\n  }\n\n\n  async enviarMensaje() {\n    // console.log(this.carreteArriba);\n    if ( this.carreteArriba.length > 0 ) {\n        const info = await this.almacenamiento.obtenerToken();\n        this.myLoading.cargaProcesos('Subiendo mensaje con archivos media, por favor espere');\n        if ( info ) {\n          // console.log(info);\n          this.apiEstadoCitas.ingresarChat(info.token, {\n            _id: this.idCita,\n            mensaje: this.mensaje,\n            emisor: this.local,\n            taller: this.tallerId,\n            usuario: this.usuarioID\n          }).subscribe((data: any) => {\n              // console.log(data);\n              if (data.exe) {\n                const id = data.response._id;\n                this.carreteArriba = this.carreteArriba.sort((a, b) => {\n                  if (a.mime > b.mime) {\n                    return 1;\n                  }\n                  if (a.mime < b.mime) {\n                    return -1;\n                  }\n                  // a must be equal to b\n                  return 0;\n                });\n                console.log(this.carreteArriba, ' imagenes');\n                let cont = this.carreteArriba.length;\n                this.carreteArriba.forEach((item) => {\n                  // console.log(item, 'itm');\n                  this.apiEstadoCitas.subirArchivosChat(info.token, id, item.path, item.name, item.mime).subscribe((image: any) => {\n                        image.response = JSON.parse(image.response);\n                        if (image.response.exe) {\n                          cont--;\n\n                          if (cont === 0) {\n                            image.response.response.tipo = 'file';\n                            image.response.response.idEmit = this.idActual;\n\n                            if ( item.mime.includes('video')) {\n                              this.sockect.emit('subirarchivo', image.response.response);\n                            }\n                            \n                            this.sockect.emit('mensajeCita', image.response.response);\n                            image.response.response.id = image.response.response._id;\n                            this.conversacion.push(image.response.response);\n                            this.carrete = [];\n                            this.carreteArriba = [];\n                            this.mensaje = '';\n                            this.myLoading.finalizarCargado();\n                          }\n\n                        }\n                        // console.log(image, ' image cada vuelta');\n                  }, (error) => {\n                    // console.log('Error ', error);\n                    this.myLoading.finalizarCargado();\n                    this.toast.alertApplication('No se pudo subir el archivo de vídeo o imagen', true);\n                  });\n                });\n              }\n          });\n        }\n    } else {\n      if (this.mensaje !== '') {\n        this.conversacion.push({taller: this.taller, usuario: this.usuario, emisor: this.local, mensaje: this.mensaje, archivos: [], fechaMensaje: moment().format('YYYY-MM-DD HH:mm')});\n        this.sockect.emit('mensajeCita', {\n          _id: this.idCita,\n          mensaje: this.mensaje,\n          emisor: this.local,\n          taller: this.tallerId,\n          usuario: this.usuarioID,\n          tipo: 'msg',\n          idEmit: this.idActual\n        });\n        this.mensaje = '';\n      }\n    }\n  }\n\n  escribirMensaje() {\n    this.sockect.emit('escribiendoCita', {exe: true, _id: this.idCita});\n  }\n\n  cambiar() {\n    this.sockect.emit('escribiendoCita', {exe: false, _id: this.idCita});\n  }\n\n  recibirMensaje() {\n    const myobserver = new Observable(observer => {\n      this.sockect.on('mensajeCita', (data) => {\n        observer.next(data);\n         console.log(data);\n      });\n    });\n\n    return myobserver;\n  }\n\n  seleccionarMedia(url, type) {\n    this.urlInfo.url = url;\n    this.urlInfo.tipo = type;\n    this.modal('media');\n  }\n\n  async modal(type) {\n    const enterAnimation = (baseEl: any) => {\n      const backdropAnimation = this.animationCtrl.create()\n        .addElement(baseEl.querySelector('ion-backdrop'))\n        .fromTo('opacity', '0.01', 'var(--backdrop-opacity)');\n\n      const wrapperAnimation = this.animationCtrl.create()\n        .addElement(baseEl.querySelector('.modal-wrapper'))\n        .keyframes([\n          { offset: 0, opacity: '0', transform: 'scale(0)' },\n          { offset: 1, opacity: '0.99', transform: 'scale(1)' }\n        ]);\n\n      return this.animationCtrl.create()\n        .addElement(baseEl)\n        .easing('ease-out')\n        .duration(500)\n        .addAnimation([backdropAnimation, wrapperAnimation]);\n    }\n\n    const leaveAnimation = (baseEl: any) => {\n      return enterAnimation(baseEl).direction('reverse');\n    }\n    let data;\n    if (type === 'media') {\n      data = this.urlInfo;\n    } else {\n      data = this.dataInfoCita;\n    }\n    const modal = await this.modalCtrl.create({\n      component: ModalCitasPage,\n      componentProps: {\n        type,\n        data\n      },\n      mode: 'ios',\n      enterAnimation,\n      leaveAnimation\n    });\n\n    await modal.present();\n\n    const modalInfo: any = await modal.onWillDismiss();\n    if (modalInfo) {\n\n      if (modalInfo.data) {\n        if (modalInfo.data.estado) {\n          const data = {\n            listaTrabajos: modalInfo.data.info.trabajos,\n            estado: modalInfo.data.estado,\n            precio: modalInfo.data.info.precio\n          }\n          this.dataInfoCita.estado = modalInfo.data.estado;\n          // console.log(data);\n          this.almacenamiento.obtenerToken().then((info: any) => {\n            this.apiEstadoCitas.editarCita(info.token, this.idCita, data).subscribe((miCita: any) => {\n              // console.log('api', miCita);\n          \n              // console.log(miCita.response, ' Estado');\n            });\n          });\n        }\n      }\n    }\n  }\n\n\n\n\n  escribirOnCita() {\n    const myobserver = new Observable(observer => {\n      this.sockect.on('escribiendoCita', (data) => {\n        observer.next(data);\n      });\n    });\n\n    return myobserver;\n  }\n\n  async ubicacion() {\n    // console.log('Ubicacion');\n    const ok = await this.geo.getCurrentPosition();\n\n    if (ok) {\n      // console.log(ok);\n    }\n  }\n\n\n  // Camara\n\n  async camaraOpciones() {\n    const miHojaAccion = await this.actionSheet.create({\n      subHeader: '',\n      header: 'Selecciona cualquier opción para subir una foto, recuerda que solo puedes subir un vídeo por mensaje',\n\n      mode: 'md',\n      buttons: [\n        {\n          text: 'Tomar foto',\n          icon: 'camera-outline',\n          handler: () => {\n            this.tomarFoto(this.camera.PictureSourceType.CAMERA);\n          }\n        },\n\n        {\n          text: 'Grabar Vídeo',\n          icon: 'videocam-outline',\n          handler: () => {\n            if (!this.video) {\n              this.capturarVideo();\n            }\n          }\n        },\n        {\n          text: 'Seleccionar Imágen de galería',\n          icon: 'image-outline',\n          handler: () => {\n            this.tomarFoto(this.camera.PictureSourceType.PHOTOLIBRARY, 'image');\n          }\n        },\n        {\n          text: 'Seleccionar Vídeo de galería',\n          icon: 'image-outline',\n          handler: () => {\n            if (!this.video) {\n              this.tomarFoto(this.camera.PictureSourceType.PHOTOLIBRARY, 'video');\n            }\n          }\n        }\n      ]\n    });\n\n    return await miHojaAccion.present();\n  }\n\n  public tomarFoto(sourceType, mode?) {\n    const options: CameraOptions = {\n      quality: 80,\n      allowEdit: true,\n      correctOrientation: true,\n      destinationType: this.camera.DestinationType.FILE_URI,\n      mediaType: mode === 'image' ? this.camera.MediaType.PICTURE : this.camera.MediaType.VIDEO,\n      sourceType\n    };\n\n    this.camera.getPicture(options).then( async (imageData) => {\n       let mim = '';\n       let name = '';\n       // console.log('image data', imageData)\n       if (imageData.includes('jpg')){\n         mim = 'image/jpg';\n         name = 'image.jpg';\n       } else if (imageData.includes('png')) {\n        mim = 'image/png';\n        name = 'image.png';\n       } else if (imageData.includes('jpeg')) {\n        mim = 'image/jpeg';\n        name = 'image.jpeg';\n       } else if (imageData.includes('gif')) {\n        mim = 'image/gif';\n        name = 'image.gif';\n       } else {\n         name = 'video.mp4';\n         mim = 'video/mp4';\n       }\n       if (mim.includes('video') || mim.includes('Video')) {\n         this.video = true;\n       }\n       // console.log('Mi archivo', name, mim)\n       this.carreteArriba.push({path: imageData, name, mime: mim});\n       const url = window.Ionic.WebView.convertFileSrc( imageData );\n       this.carrete.push(url);\n       // console.log(this.carrete);\n       \n       this.camera.cleanup().then(() =>  console.log('Eliminado'));\n    });\n\n\n  }\n\n  capturarVideo() {\n    const opctions: CaptureVideoOptions = {\n      limit: 1,\n      duration: 30\n    }\n    this.media.captureVideo(opctions).then((url: MediaFile[]) => {\n       this.carreteArriba.push({path: url[0].fullPath, name: url[0].name, mime: url[0].type});\n       // console.log(url[0].name)\n       const image = window.Ionic.WebView.convertFileSrc( url[0].fullPath );\n       this.carrete.push(image);\n       this.video = true;\n       // console.log(this.carrete);\n    });\n  }\n\n  eliminardelCarrete(indice) {\n    this.carrete.splice(indice, 1);\n    this.carreteArriba.splice(indice, 1);\n\n    if (!this.carreteArriba.find(item => item.mime.includes('video') || item.mime.includes('Video') )) {\n        this.video = false;\n    }\n  }\n\n\n  verMensajes( event ) {\n      this.contenido.getScrollElement().then((e) => {\n        // console.log(' elemento ', e)\n      })\n  }\n\n\n  ionViewWillLeave() {\n    this.sockect.emit('salirChatCita', {\n      _id: this.idCita,\n    });\n\n    this.almacenamiento.eleminarCita().then((r) => {\n      if (r) {\n        return true;\n      }\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatPageRoutingModule } from './chat-routing.module';\n\nimport { ChatPage } from './chat.page';\nimport { ModalCitasPage } from '../../Modales/modal-citas/modal-citas.page';\nimport { ModalCitasPageModule } from '../../Modales/modal-citas/modal-citas.module';\nimport { PipesModule } from '../../../pipes/pipes.module';\nimport { ComponentsModule } from '../../../Components/components.module';\nimport { VideoDirective } from './video.directive';\n\n@NgModule({\n  entryComponents: [\n    ModalCitasPage\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ChatPageRoutingModule,\n    ModalCitasPageModule,\n    PipesModule,\n    ComponentsModule\n  ],\n  declarations: [\n    ChatPage,\n    VideoDirective\n  ]\n})\nexport class ChatPageModule {}\n","export default \".flexible {\\n  display: flex !important;\\n  align-items: flex-start;\\n  align-items: center;\\n  padding: 5px;\\n  background: #FFFFFF;\\n}\\n\\nion-content {\\n  --background: #FCF9FC;\\n}\\n\\nion-grid {\\n  width: 100%;\\n  margin: 0;\\n}\\n\\nion-avatar {\\n  width: 40px;\\n  height: 40px;\\n}\\n\\n.title {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  width: 100%;\\n  padding: 3px 5px;\\n}\\n\\n.taller {\\n  display: flex;\\n  align-items: flex-start;\\n  align-items: center;\\n}\\n\\n.info {\\n  padding: 0 5px;\\n  padding-top: 2px;\\n}\\n\\n.info h4,\\n.info h5 {\\n  color: #333333;\\n  margin: 0;\\n}\\n\\n.conx {\\n  font-size: 11px;\\n}\\n\\n.bola {\\n  display: inline-block;\\n  width: 8px;\\n  height: 8px;\\n  border-radius: 100%;\\n}\\n\\nion-row {\\n  margin-bottom: 10px;\\n}\\n\\n.btn {\\n  width: 100%;\\n  height: 300px;\\n  background: #fafafa;\\n  position: relative;\\n  overflow: hidden;\\n  border-radius: 10px;\\n}\\n\\n.btn .btn-h {\\n  position: absolute;\\n  top: 10px;\\n  opacity: 0.3;\\n  font-size: 16px;\\n}\\n\\n.btn .btn-f {\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  left: 50%;\\n  transform: translateX(-50%);\\n  opacity: 0.5;\\n  font-size: 16px;\\n}\\n\\n.imagen {\\n  padding: 0 5px;\\n}\\n\\n.visi {\\n  display: flex;\\n}\\n\\n.col {\\n  width: 90%;\\n  max-width: 300px;\\n  border-radius: 20px;\\n  padding: 2px 5px;\\n  border: 1px solid rgba(3, 3, 3, 0.1);\\n}\\n\\n.col .msg {\\n  white-space: pre-wrap;\\n  word-wrap: break-word;\\n  width: 100%;\\n  padding: 3px 8px;\\n  padding-bottom: 1px;\\n}\\n\\n.col .fh {\\n  opacity: 0.7;\\n  width: 100%;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n}\\n\\n.col .fh .fecha {\\n  opacity: 0.5;\\n}\\n\\n.grispi {\\n  background: #EDEAED;\\n}\\n\\n.grispo {\\n  background: #339B42;\\n  color: #FFFFFF;\\n}\\n\\n.text {\\n  width: 85%;\\n  height: 50px;\\n  border: 1px solid rgba(0, 0, 0, 0.1);\\n  background-color: #FFFFFF;\\n  border-radius: 30px;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.text ion-textarea {\\n  height: 50px;\\n  font-size: 14px;\\n}\\n\\n.botones {\\n  width: 15%;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.opt ion-button {\\n  --padding-end: 2px !important;\\n  --padding-start: 2px !important;\\n  --padding-bottom: 0px !important;\\n}\\n\\n.campo {\\n  width: 80%;\\n  padding: 0 5px;\\n}\\n\\n.fotos {\\n  width: 100%;\\n  position: fixed;\\n  bottom: 57px;\\n  left: 0px;\\n  box-shadow: 0px 3px 25px rgba(2, 2, 2, 0.1);\\n  background: #fff;\\n  max-height: 50%;\\n  overflow-y: scroll;\\n}\\n\\n.titulo {\\n  width: 100%;\\n  color: var(--ion-color-primary);\\n  padding: 10px;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n  background: #fff;\\n}\\n\\n.carrete {\\n  width: 100%;\\n  padding: 10px;\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.fotoHija {\\n  background-color: #fff;\\n  width: calc(50% - 5px);\\n  margin: 5px 2.5px;\\n  box-shadow: 0px 2px 5px rgba(3, 3, 3, 0.1);\\n  text-align: center;\\n  overflow: hidden;\\n}\\n\\nvideo {\\n  width: auto;\\n  min-width: 100%;\\n  max-width: 100%;\\n  filter: blur(3px);\\n}\\n\\n.final {\\n  display: flex !important;\\n  justify-content: flex-end !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcY2hhdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx3QkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0VBQ0EsU0FBQTtBQUNKOztBQUVBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUE7O0VBRUksY0FBQTtFQUNBLFNBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksbUJBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtFQUNBLFNBQUE7RUFDQSwyQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0FBQ0o7O0FBRUE7RUFDSSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0Esb0NBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksWUFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksWUFBQTtBQUNKOztBQUVBO0VBQ0ksbUJBQUE7QUFDSjs7QUFFQTtFQUNJLG1CQUFBO0VBQ0EsY0FBQTtBQUNKOztBQUVBO0VBQ0ksVUFBQTtFQUNBLFlBQUE7RUFDQSxvQ0FBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksWUFBQTtFQUNBLGVBQUE7QUFDSjs7QUFFQTtFQUNJLFVBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7QUFDSjs7QUFFQTtFQUNJLDZCQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtBQUNKOztBQUVBO0VBQ0ksVUFBQTtFQUNBLGNBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLFNBQUE7RUFDQSwyQ0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0VBQ0EsK0JBQUE7RUFDQSxhQUFBO0VBQ0EsMkNBQUE7RUFDQSxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksV0FBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtBQUNKOztBQUVBO0VBQ0ksc0JBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0VBQ0EsMENBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksd0JBQUE7RUFDQSxvQ0FBQTtBQUNKIiwiZmlsZSI6ImNoYXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZsZXhpYmxlIHtcclxuICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGJhY2tncm91bmQ6ICNGRkZGRkY7XHJcbn1cclxuXHJcbmlvbi1jb250ZW50IHtcclxuICAgIC0tYmFja2dyb3VuZDogI0ZDRjlGQztcclxufVxyXG5cclxuaW9uLWdyaWQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuXHJcbmlvbi1hdmF0YXIge1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbn1cclxuXHJcbi50aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogM3B4IDVweDtcclxufVxyXG5cclxuLnRhbGxlciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uaW5mbyB7XHJcbiAgICBwYWRkaW5nOiAwIDVweDtcclxuICAgIHBhZGRpbmctdG9wOiAycHg7XHJcbn1cclxuXHJcbi5pbmZvIGg0LFxyXG4uaW5mbyBoNSB7XHJcbiAgICBjb2xvcjogIzMzMzMzMztcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLmNvbngge1xyXG4gICAgZm9udC1zaXplOiAxMXB4O1xyXG59XHJcblxyXG4uYm9sYSB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB3aWR0aDogOHB4O1xyXG4gICAgaGVpZ2h0OiA4cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG59XHJcblxyXG5pb24tcm93IHtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbn1cclxuXHJcbi5idG4ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDMwMHB4O1xyXG4gICAgYmFja2dyb3VuZDogI2ZhZmFmYTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG59XHJcblxyXG4uYnRuIC5idG4taCB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDEwcHg7XHJcbiAgICBvcGFjaXR5OiAuMztcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG5cclxuLmJ0biAuYnRuLWYge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XHJcbiAgICBvcGFjaXR5OiAuNTtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG5cclxuLmltYWdlbiB7XHJcbiAgICBwYWRkaW5nOiAwIDVweDtcclxufVxyXG5cclxuLnZpc2kge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxufVxyXG5cclxuLmNvbCB7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgbWF4LXdpZHRoOiAzMDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgICBwYWRkaW5nOiAycHggNXB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgzLCAzLCAzLCAwLjEpO1xyXG59XHJcblxyXG4uY29sIC5tc2cge1xyXG4gICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xyXG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiAzcHggOHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDFweDtcclxufVxyXG5cclxuLmNvbCAuZmgge1xyXG4gICAgb3BhY2l0eTogLjc7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmNvbCAuZmggLmZlY2hhIHtcclxuICAgIG9wYWNpdHk6IC41O1xyXG59XHJcblxyXG4uZ3Jpc3BpIHtcclxuICAgIGJhY2tncm91bmQ6ICNFREVBRUQ7XHJcbn1cclxuXHJcbi5ncmlzcG8ge1xyXG4gICAgYmFja2dyb3VuZDogIzMzOUI0MjtcclxuICAgIGNvbG9yOiAjRkZGRkZGO1xyXG59XHJcblxyXG4udGV4dCB7XHJcbiAgICB3aWR0aDogODUlO1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLnRleHQgaW9uLXRleHRhcmVhIHtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxufVxyXG5cclxuLmJvdG9uZXMge1xyXG4gICAgd2lkdGg6IDE1JTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLm9wdCBpb24tYnV0dG9uIHtcclxuICAgIC0tcGFkZGluZy1lbmQ6IDJweCAhaW1wb3J0YW50O1xyXG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAycHggIWltcG9ydGFudDtcclxuICAgIC0tcGFkZGluZy1ib3R0b206IDBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uY2FtcG8ge1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIHBhZGRpbmc6IDAgNXB4O1xyXG59XHJcblxyXG4uZm90b3Mge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IDU3cHg7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggM3B4IDI1cHggcmdiYSgyLCAyLCAyLCAwLjEpO1xyXG4gICAgYmFja2dyb3VuZDogI2ZmZjtcclxuICAgIG1heC1oZWlnaHQ6IDUwJTtcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxufVxyXG5cclxuLnRpdHVsbyB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbn1cclxuXHJcbi5jYXJyZXRlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbn1cclxuXHJcbi5mb3RvSGlqYSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgd2lkdGg6IGNhbGMoNTAlIC0gNXB4KTtcclxuICAgIG1hcmdpbjogNXB4IDIuNXB4O1xyXG4gICAgYm94LXNoYWRvdzogMHB4IDJweCA1cHggcmdiYSgzLCAzLCAzLCAwLjEpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxudmlkZW8ge1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgICBtaW4td2lkdGg6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICBmaWx0ZXI6IGJsdXIoM3B4KTtcclxufVxyXG5cclxuLmZpbmFsIHtcclxuICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQgIWltcG9ydGFudDtcclxufSJdfQ== */\";","import { Component, OnInit, Input, ViewChild, ElementRef } from '@angular/core';\nimport { ModalController, ActionSheetController, IonSlides, AnimationController } from '@ionic/angular';\nimport { EstadoCitasService } from 'src/app/providers/Api/EstadoCitas.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\nimport { InicioService } from 'src/app/providers/Almacenamiento/inicio.service';\nimport * as moment from 'moment';\nimport { trigger, transition, animate, style } from '@angular/animations';\nmoment.locale('es');\n\n@Component({\n  selector: 'app-modal-citas',\n  templateUrl: './modal-citas.page.html',\n  styleUrls: ['./modal-citas.page.scss'],\n  animations: [\n    trigger('entrada', [\n      transition(':enter', [\n        style({\n          opacity: 0,\n          transform: 'scale(0)'\n        }),\n        animate('250ms', style({\n          opacity: 1,\n          transform: 'scale(1)'\n        }))\n      ]),\n\n      transition(':leave', [\n        style({\n          opacity: 1,\n          transform: 'scale(1)'\n        }),\n        animate('250ms', style({\n          opacity: 0,\n          transform: 'scale(0)'\n        }))\n      ])\n    ])\n  ]\n})\nexport class ModalCitasPage implements OnInit {\n\n  \n  @Input() type: any;\n  @Input() data: any;\n  \n\n  titulo = 'Configuración';\n  vista;\n  @ViewChild('slide', {static: false}) slide: IonSlides;\n  listaTalleres = [];\n  mensaje = '';\n  estado = '';\n  estadoCambio = '';\n  role = '';\n\n  \n  usuario  = '';\n  taller: any;\n\n  urlArchivo: any = '';\n  tipoArchivo: any = '';\n\n  slideOpt = {\n    zoom: {\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true\n    }\n  };\n\n  citas = [];\n  texto = '';\n\n\n  // Sistema de Trabajos en el local\n\n  listaCreados = [];\n  trabajos = [];\n  nuevoTrabajo = false;\n  textoTrabajo = '';\n  textoBuscar = '';\n\n  precioconfig = false;\n  precio = 0;\n  msgEstado = '';\n  msgpro = '';\n  msgter = '';\n  terminado = false;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private actionSheetCtrl: ActionSheetController,\n    private citasService: EstadoCitasService,\n    private utitlities: ToastServices,\n    private almacenamiento: InicioService,\n    private animationCtrl: AnimationController,\n    private toast: ToastServices\n  ) { \n    \n  }\n\n  ngOnInit() {\n  }\n\n   async ionViewWillEnter() {\n    \n    switch (this.type) {\n      case 'setting':\n        const ui = await this.almacenamiento.obtenerToken();\n\n        if (ui) {\n          this.citasService.obtenerListaTrabajos(ui.token).subscribe((res: any) => {\n            // console.log(res, 'Respuesta');\n            if (res.exe) {\n              this.listaCreados = res.response[0].listaTrabajos;\n            }\n            \n          })\n          // console.log(1)\n        }\n        // console.log(2)\n        this.vista = 'setting';\n        break;\n\n      case 'buscar':\n        this.titulo = 'Buscar Talleres';\n        this.vista = 'buscar';\n        setTimeout(() => {\n          this.slide.lockSwipes(true).then(() => {\n            // console.log('OK')\n          })\n        }, 500);\n\n        this.listarTalleres();\n\n        break;\n          case 'media':\n            this.vista = 'media';\n            this.urlArchivo = this.data.url;\n            this.tipoArchivo = this.data.tipo;\n            break;\n\n            case 'carpetas':\n            this.vista = 'carpetas';\n            // console.log(this.data, 'BUENA ESA VALLE')\n            if (this.data.role === 'TALLER_ROLE') {\n              const filtrado = this.data.info.filter((item) => item.usuariopedido._id === this.data.unico)\n              this.citas = filtrado;\n            } else {\n              const filtrado = this.data.info.filter((item) => item.idtaller._id === this.data.unico)\n              this.citas = filtrado;\n            }\n            \n            break;\n\n      default:\n        break;\n\n    }\n  }\n\n  filtro ( event ) {\n    this.texto = event.detail.value;\n  }\n\n  \n\n\n\n  async guardar() {\n    \n      const usuario = await this.almacenamiento.obtenerToken();\n  \n      if (usuario) {\n            this.modalCtrl.dismiss({\n              estado: this.estadoCambio,\n              info: {\n                trabajos: this.trabajos,\n                precio: this.precio\n              }\n            });\n            this.nuevoTrabajo = false;\n      }\n  }\n\n  escogerChat(cita) {\n    this.modalCtrl.dismiss({\n      salir: true,\n      cita\n    })\n  }\n\n  descartar() {\n    this.modalCtrl.dismiss({\n      salir: true\n    })\n  }\n\n \n  listarTalleres() {\n    this.almacenamiento.obtenerToken().then((info: any) => {\n      this.citasService.listadoTalleres(info.token).subscribe((data: any) => {\n\n        if (data.response.length > 0) {\n            data.response.forEach((item) => {\n              item.avatar = item.usuarioReceptor.imagen[0].path;\n              this.listaTalleres.push(item);\n            });\n        }\n        // console.log(this.listaTalleres, data);\n      })\n    })\n  }\n\n  async opciones(usuario) {\n    await this.slide.lockSwipes(true);\n    const actionSheet = await this.actionSheetCtrl.create({\n      translucent: true,\n      header: `Que quieres hacer con ${usuario}`,\n      buttons: [\n        {\n          text: 'Compartir Perfíl',\n          icon: 'arrow-redo-outline',\n          handler: () => {\n\n          }\n        },\n        {\n          text: 'Enviar mensaje',\n          icon: 'chatbubble-outline',\n          handler: () => {\n\n          }\n        },\n        {\n          text: 'Invitar a grupo',\n          icon: 'people-outline',\n          handler: () => {\n\n          }\n        },\n        {\n          text: 'Eliminar Usuario',\n          icon: 'trash-outline',\n          cssClass: 'eliminar',\n          handler: () => {\n\n          }\n        },\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          icon: 'close-outline'\n        }\n      ]\n    })\n\n    return await actionSheet.present();\n  }\n\n  async crear( item ) {\n    await this.slide.lockSwipes(false);\n    await this.slide.slideNext(300);\n    this.usuario = item.usuarioReceptor.nombrecompleto;\n    this.taller = item;\n    await this.slide.lockSwipes(true);\n  }\n\n  generarTicket() {\n    // console.log('Taller', this.taller.usuarioReceptor._id);\n    this.almacenamiento.obtenerToken().then((info: any) => {\n      this.citasService.crearCita(info.token, {idtaller: this.taller.usuarioReceptor._id}).subscribe(async (data) => {\n\n        // console.log(data);\n        await this.modalCtrl.dismiss({});\n  \n      }, async (error) => {\n        await this.utitlities.alertApplication('No se pudo agendar la cita', false);\n        await this.modalCtrl.dismiss({});\n      });\n    })\n  }\n\n  async cancelar() {\n    await this.slide.lockSwipes(false);\n    await this.slide.slidePrev(300);\n    await this.slide.lockSwipes(true);\n  }\n\n\n  // CONFIGURACIONES\n\n\n  filtroTrabajo( event ) {\n    this.textoBuscar = event.detail.value;\n  }\n\n\n\n  check( trabajo ): boolean {\n    return this.trabajos.find((item) => item === trabajo)\n  }\n\n  borrarTrabajo ( i: number ) {\n    this.trabajos.splice(i, 1);\n  }\n\n  habilitarTrabajo() {\n      this.nuevoTrabajo = true;\n  }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ModalCitasPageRoutingModule } from './modal-citas-routing.module';\n\nimport { ModalCitasPage } from './modal-citas.page';\nimport { ComponentsModule } from 'src/app/Components/components.module';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ModalCitasPageRoutingModule,\n    ComponentsModule,\n    PipesModule\n  ],\n  declarations: [ModalCitasPage]\n})\nexport class ModalCitasPageModule {}\n"],"sourceRoot":"webpack:///"}