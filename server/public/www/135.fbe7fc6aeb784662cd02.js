(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{cPm2:function(t,o,e){"use strict";e.r(o),e.d(o,"EmpInicioPageModule",function(){return j});var n=e("ofXK"),i=e("3Pt+"),a=e("TEn/"),r=e("tyNb"),s=e("mrSG"),c=e("R0Ic"),b=e("fXoL"),l=e("fsfq"),d=e("8A7y"),m=e("fmoy"),f=e("FlrC");function p(t,o){1&t&&(b.Ob(0,"ion-chip",6),b.wc(1,"El dominio no se encuentra disponible"),b.Nb()),2&t&&b.fc("@entrada",void 0)}function u(t,o){if(1&t){const t=b.Pb();b.Ob(0,"ion-button",7),b.Wb("click",function(){return b.pc(t),b.Yb(2).guardar()}),b.wc(1,"Crear Dominio"),b.Nb()}2&t&&b.fc("@entrada",void 0)}function h(t,o){if(1&t){const t=b.Pb();b.Ob(0,"div",2),b.Ob(1,"h2"),b.wc(2,"Crea un nombre de dominio en nuestra aplicaci\xf3n"),b.Nb(),b.Ob(3,"ion-input",3),b.Wb("ionChange",function(o){return b.pc(t),b.Yb().cambio(o)}),b.Nb(),b.Mb(4,"br"),b.Ob(5,"h4"),b.wc(6),b.Nb(),b.Mb(7,"br"),b.Mb(8,"br"),b.vc(9,p,2,1,"ion-chip",4),b.vc(10,u,2,1,"ion-button",5),b.Nb()}if(2&t){const t=b.Yb();b.Ab(3),b.fc("@entrada",t.ocupado?"alerta":"sinalerta"),b.Ab(3),b.yc("www.intasapp.com/",t.nombre,""),b.Ab(3),b.fc("ngIf",t.ocupado),b.Ab(1),b.fc("ngIf",!t.ocupado&&t.disponible)}}const O=[{path:"",component:(()=>{class t{constructor(t,o,e,n,i,a){this.almacenamiento=t,this.empresa=o,this.toast=e,this.router=n,this.entrada=i,this.menu=a,this.existe=!1,this.load=!1,this.nombre="",this.disponible=!1,this.ocupado=!1}ngOnInit(){}ionViewWillEnter(){this.menu.enable(!1,"perfil").then(()=>{this.comprobarDominio()})}comprobarDominio(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&this.empresa.obtenerDominios(t.token).subscribe(t=>Object(s.a)(this,void 0,void 0,function*(){console.log(t,"existe"),t.exe?(this.existe=t.existe,this.existe&&this.router.navigate(["/panel"])):(this.toast.toastError("No se pudo consultar el dominio, int\xe9ntelo m\xe1s tarde"),this.router.navigate(["/central/menu"])),this.load=!0}),t=>{this.load=!0,this.toast.toastError("No se pudo consultar el dominio, int\xe9ntelo m\xe1s tarde"),this.router.navigate(["/central/menu"])})})}cambio(t){return Object(s.a)(this,void 0,void 0,function*(){if(this.nombre=t.detail.value,this.nombre.length>5){const t=yield this.almacenamiento.obtenerToken();t&&(this.ocupado=!1,this.empresa.comprobarDominios(t.token,{nombre:this.nombre}).subscribe(t=>{console.log(t,"existe"),t.exe?(this.ocupado=t.existe,t.existe||(this.disponible=!0)):this.toast.toastError("No se pudo consultar el dominio, int\xe9ntelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo consultar el dominio, int\xe9ntelo m\xe1s tarde")}))}})}guardar(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(this.ocupado=!1,this.empresa.crearDominios(t.token,{nombre:this.nombre}).subscribe(t=>{console.log(t,"existe"),t.exe?this.toast.Especial("Dominio creado"):this.toast.toastError("No se pudo consultar el dominio, int\xe9ntelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo consultar el dominio, int\xe9ntelo m\xe1s tarde")}))})}}return t.\u0275fac=function(o){return new(o||t)(b.Lb(l.a),b.Lb(d.a),b.Lb(m.a),b.Lb(r.g),b.Lb(f.a),b.Lb(a.pb))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-emp-inicio"]],decls:6,vars:1,consts:[["color","oscuro"],["class","dominio",4,"ngIf"],[1,"dominio"],["debounce","500","placeholder","Escribe un nombre",3,"ionChange"],["color","danger","mode","ios",4,"ngIf"],["mode","ios","color","secondary","shape","round",3,"click",4,"ngIf"],["color","danger","mode","ios"],["mode","ios","color","secondary","shape","round",3,"click"]],template:function(t,o){1&t&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar",0),b.Ob(2,"ion-title"),b.wc(3,"Configurando interfaz"),b.Nb(),b.Nb(),b.Nb(),b.Ob(4,"ion-content"),b.vc(5,h,11,4,"div",1),b.Nb()),2&t&&(b.Ab(5),b.fc("ngIf",!o.existe&&o.load))},directives:[a.z,a.lb,a.jb,a.t,n.j,a.E,a.yb,a.r,a.j],styles:[".dominio[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:80px auto;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;animation:entrada 1s ease-in-out}.dominio[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px}.dominio[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border-radius:20px;box-shadow:0 3px 40px 2px rgba(0,0,0,.1)}.dominio[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#0374f7}.panel[_ngcontent-%COMP%]{width:100 .panel;padding:10px}@keyframes entrada{0%{opacity:0;transform:translateY(100px)}to{opacity:1;transform:translateY(0)}}"],data:{animation:[Object(c.m)("entrada",[Object(c.j)("alerta",Object(c.k)({background:"#FFF4F4"})),Object(c.j)("sinalerta",Object(c.k)({background:"#ffffff"})),Object(c.l)("sinalerta => alerta",[Object(c.e)("1s",Object(c.f)([Object(c.k)({transform:"translateX(-30px)",offset:.1}),Object(c.k)({transform:"translateX(30px)",offset:.2}),Object(c.k)({transform:"translateX(-30px)",offset:.5}),Object(c.k)({transform:"translateX(30px)",offset:.7}),Object(c.k)({transform:"translateX(0px)",offset:.9})]))]),Object(c.l)("alerta => sinalerta",[Object(c.e)("1s",Object(c.f)([Object(c.k)({transform:"translateX(-30px)",offset:.1}),Object(c.k)({transform:"translateX(30px)",offset:.2}),Object(c.k)({transform:"translateX(-30px)",offset:.5}),Object(c.k)({transform:"translateX(30px)",offset:.7}),Object(c.k)({transform:"translateX(0px)",offset:.9})]))]),Object(c.l)(":enter",[Object(c.k)({opacity:0,transform:"translateY(30px)"}),Object(c.e)("1s ease-in-out",Object(c.k)({opacity:1,transform:"translateY(0)"}))])])]}}),t})()}];let g=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[r.j.forChild(O)],r.j]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[n.b,i.e,a.mb,g]]}),t})()}}]);