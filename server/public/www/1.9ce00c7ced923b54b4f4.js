(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"5yQV":function(t,o,e){"use strict";e.d(o,"a",function(){return l});var i=e("AytR"),r=e("tk/3"),n=e("coGc"),a=e("lJxs"),c=e("IzEk"),s=e("MtjB"),d=e("PqYM"),b=e("fXoL");let l=(()=>{class t{constructor(t){this.http=t}hanflerError(t){return t.pipe(Object(n.a)(()=>Object(d.a)(3e3)),Object(a.a)(t=>{if(console.log("Entramos a intentos"),t instanceof ErrorEvent)throw new Error("Error de Red");if(404===t.status)throw new Error(" P\xe1gina no encontrada")}),Object(c.a)(3))}crearInventario(t,o){const e={headers:new r.c({"x-token":t})};return this.http.post(`${i.a}/ivt/tipo/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}actualizarInventario(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/cierre/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerInventarios(t){const o={headers:new r.c({"x-token":t})};return this.http.get(`${i.a}/ivt/tipo/`,o).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerInventario(t,o){const e={headers:new r.c({"x-token":t,"x-id":o})};return this.http.get(`${i.a}/ivt/tipo/uno`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarAcceso(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/tipo/accesos/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}BuscarUsuarios(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/empleados/buscar/`,{patron:o},e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearEmpleado(t,o){const e={headers:new r.c({"x-token":t})};return this.http.post(`${i.a}/empleados/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarEmpleado(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/empleados/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerEmpleados(t){const o={headers:new r.c({"x-token":t})};return this.http.get(`${i.a}/empleados/`,o).pipe(Object(s.a)(t=>this.hanflerError(t)))}eliminarEmpleados(t,o){const e={headers:new r.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/empleados/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearProveedor(t,o){const e={headers:new r.c({"x-token":t})};return this.http.post(`${i.a}/ivt/proveedores/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarProveedor(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/proveedores/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}eliminarProveedor(t,o){const e={headers:new r.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/ivt/proveedores/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProveedor(t,o){const e={headers:new r.c({"x-token":t,"x-ivt":o})};return this.http.get(`${i.a}/ivt/proveedores/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearCategoria(t,o){const e={headers:new r.c({"x-token":t})};return this.http.post(`${i.a}/ivt/categorias/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarCategoria(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/categorias/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}eliminarCategoria(t,o){const e={headers:new r.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/ivt/categorias/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerCategoria(t,o){const e={headers:new r.c({"x-token":t,"x-ivt":o})};return this.http.get(`${i.a}/ivt/categorias/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearProducto(t,o){const e={headers:new r.c({"x-token":t})};return this.http.post(`${i.a}/ivt/productos/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}editarProducto(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}eliminarProducto(t,o){const e={headers:new r.c({"x-token":t,"x-id":o})};return this.http.delete(`${i.a}/ivt/productos/`,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProducto(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/filtro/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProductoEstadistica(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/filtro/estadistica/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProductosPorInventario(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscarivt/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}buscarProducto(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscar`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearEntrada(t,o){const e={headers:new r.c({"x-token":t})};return this.http.post(`${i.a}/ivt/entradas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerEntrada(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}filtrarEntradas(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/buscar/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}filtrarEntradasPatron(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/buscar/patron/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}crearSalida(t,o){const e={headers:new r.c({"x-token":t})};return this.http.post(`${i.a}/ivt/salidas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerSalida(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}filtrarSalidas(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/buscar/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}filtrarSalidasPatron(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/buscar/patron/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}CargarInventarios(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/tipo/almacen/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}CierresInventario(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/cierre/buscar/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}MovCantidades(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/mov/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}MovCantidades2(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/mov/salidas/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerMovmientos(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/movimientos/filtro/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerAgotados(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/agotados/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}leerProximos(t,o){const e={headers:new r.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/proximos/`,o,e).pipe(Object(s.a)(t=>this.hanflerError(t)))}}return t.\u0275fac=function(o){return new(o||t)(b.Qb(r.a))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},SQQW:function(t,o,e){"use strict";e.d(o,"a",function(){return rt});var i=e("mrSG"),r=e("fXoL"),n=e("TEn/"),a=e("5yQV"),c=e("fsfq"),s=e("fmoy"),d=e("7JkF"),b=e("ofXK"),l=e("3Pt+"),h=e("fqim");const p=["slide"];function u(t,o){1&t&&(r.Mb(0,"div",11),r.Kb(1,"ion-spinner",12),r.rc(2," Creando Inventario... "),r.Lb())}function g(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-list"),r.Mb(1,"ion-item-divider",6),r.rc(2," Nombre del Inventario "),r.Lb(),r.Mb(3,"ion-item"),r.Mb(4,"ion-input",7),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().nombre=o}),r.Lb(),r.Lb(),r.Mb(5,"div",8),r.Mb(6,"ion-button",9),r.Ub("click",function(){return r.lc(t),r.Wb().crear()}),r.rc(7,"CREAR"),r.Lb(),r.Lb(),r.qc(8,u,3,0,"div",10),r.Lb()}if(2&t){const t=r.Wb();r.zb(4),r.dc("ngModel",t.nombre),r.zb(4),r.dc("ngIf",t.load)}}function v(t,o){1&t&&(r.Mb(0,"div",11),r.Kb(1,"ion-spinner",17),r.rc(2," Creando Proveedor... "),r.Lb())}function m(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-list"),r.Mb(1,"ion-item-divider",6),r.rc(2," Nombre del Proveedor "),r.Lb(),r.Mb(3,"ion-item"),r.Mb(4,"ion-input",13),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().nombrep=o}),r.Lb(),r.Lb(),r.Mb(5,"ion-item-divider",6),r.rc(6," Contacto del Proveedor "),r.Lb(),r.Mb(7,"ion-item"),r.Mb(8,"ion-input",14),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().tel1=o}),r.Lb(),r.Lb(),r.Mb(9,"ion-item"),r.Mb(10,"ion-input",15),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().tel2=o}),r.Lb(),r.Lb(),r.Mb(11,"ion-item"),r.Mb(12,"ion-input",16),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().correo=o}),r.Lb(),r.Lb(),r.Mb(13,"div",8),r.Mb(14,"ion-button",9),r.Ub("click",function(){return r.lc(t),r.Wb().crearProveedor()}),r.rc(15,"CREAR"),r.Lb(),r.Lb(),r.qc(16,v,3,0,"div",10),r.Lb()}if(2&t){const t=r.Wb();r.zb(4),r.dc("ngModel",t.nombrep),r.zb(4),r.dc("ngModel",t.tel1),r.zb(2),r.dc("ngModel",t.tel2),r.zb(2),r.dc("ngModel",t.correo),r.zb(4),r.dc("ngIf",t.load)}}function f(t,o){1&t&&(r.Mb(0,"div",11),r.Kb(1,"ion-spinner",17),r.rc(2," Creando Categor\xeda... "),r.Lb())}function M(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-list"),r.Mb(1,"ion-item-divider",6),r.rc(2," Nombre de la Categor\xeda "),r.Lb(),r.Mb(3,"ion-item"),r.Mb(4,"ion-input",18),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().nombrec=o}),r.Lb(),r.Lb(),r.Mb(5,"div",8),r.Mb(6,"ion-button",9),r.Ub("click",function(){return r.lc(t),r.Wb().crearCategoria()}),r.rc(7,"CREAR"),r.Lb(),r.Lb(),r.qc(8,f,3,0,"div",10),r.Lb()}if(2&t){const t=r.Wb();r.zb(4),r.dc("ngModel",t.nombrec),r.zb(4),r.dc("ngIf",t.load)}}function L(t,o){if(1&t&&(r.Mb(0,"ion-select-option",25),r.rc(1),r.Lb()),2&t){const t=o.$implicit;r.ec("value",t.nombre),r.zb(1),r.sc(t.nombre)}}function E(t,o){if(1&t&&(r.Mb(0,"ion-select-option",25),r.rc(1),r.Lb()),2&t){const t=o.$implicit;r.ec("value",t.nombre),r.zb(1),r.sc(t.nombre)}}function x(t,o){1&t&&(r.Mb(0,"div",11),r.Kb(1,"ion-spinner",17),r.rc(2," Creando nuevo Producto... "),r.Lb())}function C(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-list"),r.Mb(1,"ion-item-divider",6),r.Mb(2,"ion-label"),r.rc(3,"INFORMACI\xd3N"),r.Lb(),r.Lb(),r.Mb(4,"ion-item"),r.Mb(5,"ion-input",19),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().nombrepd=o}),r.Lb(),r.Lb(),r.Mb(6,"ion-item"),r.Mb(7,"ion-input",20),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().codigopd=o}),r.Lb(),r.Lb(),r.Mb(8,"ion-item-divider",6),r.Mb(9,"ion-label"),r.rc(10,"CATEGOR\xcdA"),r.Lb(),r.Lb(),r.Mb(11,"ion-item"),r.Mb(12,"ion-label"),r.rc(13,"Seleccione la categor\xeda"),r.Lb(),r.Mb(14,"ion-select",21),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().cambioCategoria(o)}),r.qc(15,L,2,2,"ion-select-option",22),r.Lb(),r.Lb(),r.Mb(16,"ion-item-divider",6),r.Mb(17,"ion-label"),r.rc(18,"PROVEEDOR"),r.Lb(),r.Lb(),r.Mb(19,"ion-item"),r.Mb(20,"ion-label"),r.rc(21,"Seleccione la proveedor"),r.Lb(),r.Mb(22,"ion-select",21),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().cambioProveedor(o)}),r.qc(23,E,2,2,"ion-select-option",22),r.Lb(),r.Lb(),r.Mb(24,"ion-item-divider",6),r.Mb(25,"ion-label",23),r.rc(26,"LIMITE DE EXISTENCIA "),r.Kb(27,"br"),r.rc(28," Escribe la cantidad en la cual se va a notificar que el producto esta pr\xf3ximo a agotarse."),r.Lb(),r.Lb(),r.Mb(29,"ion-item"),r.Mb(30,"ion-input",24),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().limite=o}),r.Lb(),r.Lb(),r.Mb(31,"div",8),r.Mb(32,"ion-button",9),r.Ub("click",function(){return r.lc(t),r.Wb().crearProducto()}),r.rc(33,"CREAR"),r.Lb(),r.Lb(),r.qc(34,x,3,0,"div",10),r.Lb()}if(2&t){const t=r.Wb();r.zb(5),r.dc("ngModel",t.nombrepd),r.zb(2),r.dc("ngModel",t.codigopd),r.zb(8),r.dc("ngForOf",t.categorias),r.zb(8),r.dc("ngForOf",t.proveedores),r.zb(7),r.dc("ngModel",t.limite),r.zb(4),r.dc("ngIf",t.load)}}function O(t,o){if(1&t&&(r.Mb(0,"ion-select-option",25),r.rc(1),r.Lb()),2&t){const t=o.$implicit;r.ec("value",t.nombre),r.zb(1),r.sc(t.nombre)}}function k(t,o){if(1&t&&(r.Mb(0,"ion-select-option",25),r.rc(1),r.Lb()),2&t){const t=o.$implicit;r.ec("value",t.nombre),r.zb(1),r.sc(t.nombre)}}function P(t,o){1&t&&(r.Mb(0,"div",11),r.Kb(1,"ion-spinner",17),r.rc(2," Editando nuevo Producto... "),r.Lb())}function z(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-list"),r.Mb(1,"ion-item-divider",6),r.Mb(2,"ion-label"),r.rc(3,"INFORMACI\xd3N"),r.Lb(),r.Lb(),r.Mb(4,"ion-item"),r.Mb(5,"ion-input",19),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().nombrepd=o}),r.Lb(),r.Lb(),r.Mb(6,"ion-item"),r.Mb(7,"ion-input",20),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().codigopd=o}),r.Lb(),r.Lb(),r.Mb(8,"ion-item-divider",6),r.Mb(9,"ion-label"),r.rc(10,"CATEGOR\xcdA"),r.Lb(),r.Lb(),r.Mb(11,"ion-item"),r.Mb(12,"ion-label"),r.rc(13,"Seleccione la categor\xeda"),r.Lb(),r.Mb(14,"ion-select",26),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().cambioCategoria(o)}),r.qc(15,O,2,2,"ion-select-option",22),r.Lb(),r.Lb(),r.Mb(16,"ion-item-divider",6),r.Mb(17,"ion-label"),r.rc(18,"PROVEEDOR"),r.Lb(),r.Lb(),r.Mb(19,"ion-item"),r.Mb(20,"ion-label"),r.rc(21,"Seleccione la proveedor"),r.Lb(),r.Mb(22,"ion-select",27),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().cambioProveedor(o)}),r.qc(23,k,2,2,"ion-select-option",22),r.Lb(),r.Lb(),r.Mb(24,"ion-item-divider",6),r.Mb(25,"ion-label"),r.rc(26,"LIMITE DE EXISTENCIA"),r.Lb(),r.Kb(27,"br"),r.rc(28," Escribe la cantidad en la cual se va a notificar que el producto esta pr\xf3ximo a agotarse. "),r.Lb(),r.Mb(29,"ion-item"),r.Mb(30,"ion-input",24),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().limite=o}),r.Lb(),r.Lb(),r.Mb(31,"div",8),r.Mb(32,"ion-button",9),r.Ub("click",function(){return r.lc(t),r.Wb().editarProducto()}),r.rc(33,"EDITAR PRODUCTO"),r.Lb(),r.Lb(),r.qc(34,P,3,0,"div",10),r.Lb()}if(2&t){const t=r.Wb();r.zb(5),r.dc("ngModel",t.nombrepd),r.zb(2),r.dc("ngModel",t.codigopd),r.zb(7),r.dc("value",t.selectCat),r.zb(1),r.dc("ngForOf",t.categorias),r.zb(7),r.dc("value",t.selectPro),r.zb(1),r.dc("ngForOf",t.proveedores),r.zb(7),r.dc("ngModel",t.limite),r.zb(4),r.dc("ngIf",t.load)}}function j(t,o){1&t&&(r.Mb(0,"ion-item"),r.Kb(1,"ion-skeleton-text",43),r.Mb(2,"ion-label"),r.Kb(3,"ion-skeleton-text",44),r.Kb(4,"ion-skeleton-text",45),r.Lb(),r.Lb())}const I=function(){return[1,1,1,1,1]};function w(t,o){1&t&&(r.Mb(0,"ion-list"),r.qc(1,j,5,0,"ion-item",42),r.Lb()),2&t&&(r.zb(1),r.dc("ngForOf",r.gc(1,I)))}function S(t,o){if(1&t&&(r.Mb(0,"div"),r.Mb(1,"strong"),r.rc(2,"C\xf3digo: "),r.Lb(),r.rc(3),r.Lb()),2&t){const t=r.Wb().$implicit;r.zb(3),r.tc(" ",t.codigo,"")}}function $(t,o){1&t&&(r.Mb(0,"ion-chip",53),r.rc(1,"AL DIA"),r.Lb())}function N(t,o){1&t&&(r.Mb(0,"ion-chip",54),r.rc(1,"SE EST\xc1 AGOTANDO"),r.Lb())}function W(t,o){1&t&&(r.Mb(0,"ion-chip",55),r.rc(1,"PRODUCTO AGOTADO"),r.Lb())}function y(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-item",3),r.Ub("click",function(){r.lc(t);const e=o.$implicit,i=o.index;return r.Wb(2).validarProducto(e,i)}),r.Mb(1,"ion-avatar",46),r.Kb(2,"img",47),r.Lb(),r.Mb(3,"ion-label"),r.Mb(4,"div"),r.rc(5),r.Lb(),r.qc(6,S,4,1,"div",5),r.Mb(7,"div"),r.Mb(8,"strong"),r.rc(9,"Categoria: "),r.Lb(),r.Mb(10,"strong",48),r.rc(11),r.Lb(),r.Lb(),r.Mb(12,"div",39),r.Mb(13,"strong"),r.rc(14,"Existencia: "),r.Mb(15,"span",49),r.rc(16),r.Lb(),r.Lb(),r.qc(17,$,2,0,"ion-chip",50),r.qc(18,N,2,0,"ion-chip",51),r.qc(19,W,2,0,"ion-chip",52),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=o.$implicit;r.zb(5),r.sc(t.nombre),r.zb(1),r.dc("ngIf",t.codigo),r.zb(5),r.sc(t.categoria),r.zb(5),r.sc(t.existencia),r.zb(1),r.dc("ngIf",t.existencia>t.limote),r.zb(1),r.dc("ngIf",t.existencia<=t.limite&&t.existencia>0),r.zb(1),r.dc("ngIf",0===t.existencia)}}function A(t,o){if(1&t&&(r.Mb(0,"div",11),r.Mb(1,"h3",56),r.rc(2,"No existen productos relacionados con: "),r.Mb(3,"strong"),r.rc(4),r.Lb(),r.Lb(),r.Lb()),2&t){const t=r.Wb(2);r.zb(4),r.sc(t.texto)}}function q(t,o){if(1&t&&(r.Mb(0,"div",57),r.rc(1),r.Xb(2,"decimales"),r.Lb()),2&t){const t=r.Wb(2);r.zb(1),r.tc(" $",r.Zb(2,1,t.productoEntrada.total,"es-CO")," ")}}function U(t,o){if(1&t&&(r.Mb(0,"ion-select-option",25),r.rc(1),r.Lb()),2&t){const t=o.$implicit;r.ec("value",t.nombre),r.zb(1),r.sc(t.nombre)}}function T(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-slides",null,28),r.Mb(2,"ion-slide"),r.Mb(3,"ion-searchbar",29),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().buscar(o)}),r.Lb(),r.Kb(4,"div",30),r.qc(5,w,2,2,"ion-list",5),r.Mb(6,"ion-list"),r.qc(7,y,20,7,"ion-item",31),r.Lb(),r.qc(8,A,5,1,"div",10),r.Lb(),r.Mb(9,"ion-slide"),r.Mb(10,"ion-card",32),r.Mb(11,"ion-card-content"),r.Mb(12,"h3",33),r.rc(13),r.Lb(),r.Mb(14,"ion-list"),r.Mb(15,"ion-item-divider",34),r.Mb(16,"ion-label"),r.rc(17,"Informaci\xf3n del producto"),r.Lb(),r.Lb(),r.Mb(18,"ion-item"),r.Mb(19,"ion-input",35),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().entradaCambioProd(o,"precio")})("ngModelChange",function(o){return r.lc(t),r.Wb().productoEntrada.precio=o}),r.Lb(),r.Lb(),r.Mb(20,"ion-item"),r.Mb(21,"ion-input",36),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().entradaCambioProd(o,"canti")})("ngModelChange",function(o){return r.lc(t),r.Wb().productoEntrada.cantidad=o}),r.Lb(),r.Lb(),r.qc(22,q,3,4,"div",37),r.Mb(23,"ion-item-divider",34),r.Mb(24,"ion-label"),r.rc(25,"Origen"),r.Lb(),r.Lb(),r.Mb(26,"ion-item"),r.Mb(27,"ion-label"),r.rc(28,"Seleccione la proveedor"),r.Lb(),r.Mb(29,"ion-select",27),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().cambioProveedor(o)}),r.qc(30,U,2,2,"ion-select-option",22),r.Lb(),r.Lb(),r.Mb(31,"ion-item"),r.Mb(32,"ion-input",38),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb().productoEntrada.origenextra=o}),r.Lb(),r.Lb(),r.Lb(),r.Mb(33,"div",39),r.Mb(34,"ion-button",40),r.Ub("click",function(){return r.lc(t),r.Wb().cancelar()}),r.rc(35,"CANCELAR"),r.Lb(),r.Mb(36,"ion-button",41),r.Ub("click",function(){return r.lc(t),r.Wb().guardarEntrada()}),r.rc(37,"GUARDAR"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=r.Wb();r.zb(5),r.dc("ngIf",t.load),r.zb(2),r.dc("ngForOf",t.productos),r.zb(1),r.dc("ngIf",t.mostrar),r.zb(5),r.sc(t.productoHistoria.nombre),r.zb(6),r.dc("ngModel",t.productoEntrada.precio),r.zb(2),r.dc("ngModel",t.productoEntrada.cantidad),r.zb(1),r.dc("ngIf",t.productoEntrada.total>0&&t.productoEntrada.total),r.zb(7),r.dc("value",t.selectPro),r.zb(1),r.dc("ngForOf",t.proveedores),r.zb(2),r.dc("ngModel",t.productoEntrada.origenextra)}}function D(t,o){1&t&&(r.Mb(0,"ion-item"),r.Kb(1,"ion-skeleton-text",43),r.Mb(2,"ion-label"),r.Kb(3,"ion-skeleton-text",44),r.Kb(4,"ion-skeleton-text",45),r.Lb(),r.Lb())}function R(t,o){1&t&&(r.Mb(0,"ion-list"),r.qc(1,D,5,0,"ion-item",42),r.Lb()),2&t&&(r.zb(1),r.dc("ngForOf",r.gc(1,I)))}function _(t,o){if(1&t&&(r.Mb(0,"div"),r.Mb(1,"strong"),r.rc(2,"C\xf3digo: "),r.Lb(),r.rc(3),r.Lb()),2&t){const t=r.Wb().$implicit;r.zb(3),r.tc(" ",t.codigo,"")}}function F(t,o){1&t&&(r.Mb(0,"ion-chip",53),r.rc(1,"AL DIA"),r.Lb())}function K(t,o){1&t&&(r.Mb(0,"ion-chip",54),r.rc(1,"SE EST\xc1 AGOTANDO"),r.Lb())}function H(t,o){1&t&&(r.Mb(0,"ion-chip",55),r.rc(1,"PRODUCTO AGOTADO"),r.Lb())}function G(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-item",3),r.Ub("click",function(){r.lc(t);const e=o.$implicit,i=o.index;return r.Wb(2).validarProducto(e,i)}),r.Mb(1,"ion-avatar",46),r.Kb(2,"img",47),r.Lb(),r.Mb(3,"ion-label"),r.Mb(4,"div"),r.rc(5),r.Lb(),r.qc(6,_,4,1,"div",5),r.Mb(7,"div"),r.Mb(8,"strong"),r.rc(9,"Categoria: "),r.Lb(),r.Mb(10,"strong",48),r.rc(11),r.Lb(),r.Lb(),r.Mb(12,"div",39),r.Mb(13,"strong"),r.rc(14,"Existencia: "),r.Mb(15,"span",49),r.rc(16),r.Lb(),r.Lb(),r.qc(17,F,2,0,"ion-chip",50),r.qc(18,K,2,0,"ion-chip",51),r.qc(19,H,2,0,"ion-chip",52),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=o.$implicit;r.zb(5),r.sc(t.nombre),r.zb(1),r.dc("ngIf",t.codigo),r.zb(5),r.sc(t.categoria),r.zb(5),r.sc(t.existencia),r.zb(1),r.dc("ngIf",t.existencia>t.limote),r.zb(1),r.dc("ngIf",t.existencia<=t.limite&&t.existencia>0),r.zb(1),r.dc("ngIf",0===t.existencia)}}function V(t,o){if(1&t&&(r.Mb(0,"div",11),r.Mb(1,"h3",56),r.rc(2,"No existen productos relacionados con: "),r.Mb(3,"strong"),r.rc(4),r.Lb(),r.Lb(),r.Lb()),2&t){const t=r.Wb(2);r.zb(4),r.sc(t.texto)}}function J(t,o){if(1&t&&(r.Mb(0,"div",61),r.rc(1),r.Xb(2,"decimales"),r.Lb()),2&t){const t=r.Wb(2);r.zb(1),r.tc(" $",r.Zb(2,1,t.productoSalida.total,"es-CO")," ")}}function X(t,o){if(1&t&&(r.Mb(0,"ion-select-option",25),r.rc(1),r.Lb()),2&t){const t=o.$implicit;r.ec("value",t._id),r.zb(1),r.sc(t.name)}}function Q(t,o){if(1&t&&(r.Mb(0,"div"),r.Mb(1,"strong"),r.rc(2,"C\xf3digo: "),r.Lb(),r.rc(3),r.Lb()),2&t){const t=r.Wb().$implicit;r.zb(3),r.tc(" ",t.codigo,"")}}function B(t,o){1&t&&(r.Mb(0,"ion-chip",53),r.rc(1,"AL DIA"),r.Lb())}function Z(t,o){1&t&&(r.Mb(0,"ion-chip",54),r.rc(1,"SE EST\xc1 AGOTANDO"),r.Lb())}function Y(t,o){1&t&&(r.Mb(0,"ion-chip",55),r.rc(1,"PRODUCTO AGOTADO"),r.Lb())}function tt(t,o){if(1&t&&(r.Mb(0,"ion-item"),r.Mb(1,"ion-avatar",46),r.Kb(2,"img",47),r.Lb(),r.Mb(3,"ion-label"),r.Mb(4,"div"),r.rc(5),r.Lb(),r.qc(6,Q,4,1,"div",5),r.Mb(7,"div"),r.Mb(8,"strong"),r.rc(9,"Categoria: "),r.Lb(),r.Mb(10,"strong",48),r.rc(11),r.Lb(),r.Lb(),r.Mb(12,"div",39),r.Mb(13,"strong"),r.rc(14,"Existencia: "),r.Mb(15,"span",49),r.rc(16),r.Lb(),r.Lb(),r.qc(17,B,2,0,"ion-chip",50),r.qc(18,Z,2,0,"ion-chip",51),r.qc(19,Y,2,0,"ion-chip",52),r.Lb(),r.Lb(),r.Kb(20,"ion-radio",25),r.Lb()),2&t){const t=o.$implicit;r.zb(5),r.sc(t.nombre),r.zb(1),r.dc("ngIf",t.codigo),r.zb(5),r.sc(t.categoria),r.zb(5),r.sc(t.existencia),r.zb(1),r.dc("ngIf",t.existencia>t.limote),r.zb(1),r.dc("ngIf",t.existencia<=t.limite&&t.existencia>0),r.zb(1),r.dc("ngIf",0===t.existencia),r.zb(1),r.ec("value",t._id)}}function ot(t,o){if(1&t){const t=r.Nb();r.Mb(0,"div"),r.Mb(1,"ion-item-divider",34),r.Mb(2,"ion-label",23),r.rc(3,"\xbf A que producto se le va a realizar "),r.Lb(),r.Kb(4,"br"),r.Lb(),r.Mb(5,"ion-searchbar",62),r.Ub("ionChange",function(o){return r.lc(t),r.Wb(2).productoHijo(o)}),r.Lb(),r.Mb(6,"ion-radio-group",21),r.Ub("ionChange",function(o){return r.lc(t),r.Wb(2).prodDestino(o)}),r.qc(7,tt,21,8,"ion-item",42),r.Lb(),r.Lb()}if(2&t){const t=r.Wb(2);r.zb(5),r.dc("placeholder","Buscar producto de "+t.selectPro),r.zb(2),r.dc("ngForOf",t.productosHijos)}}function et(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-item"),r.Mb(1,"ion-input",63),r.Ub("ngModelChange",function(o){return r.lc(t),r.Wb(2).productoSalida.destino=o}),r.Lb(),r.Lb()}if(2&t){const t=r.Wb(2);r.zb(1),r.dc("ngModel",t.productoSalida.destino)}}function it(t,o){if(1&t){const t=r.Nb();r.Mb(0,"ion-slides",null,28),r.Mb(2,"ion-slide"),r.Mb(3,"ion-searchbar",29),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().buscar(o)}),r.Lb(),r.Kb(4,"div",30),r.qc(5,R,2,2,"ion-list",5),r.Mb(6,"ion-list"),r.qc(7,G,20,7,"ion-item",31),r.Lb(),r.qc(8,V,5,1,"div",10),r.Lb(),r.Mb(9,"ion-slide"),r.Mb(10,"ion-card",32),r.Mb(11,"ion-card-content"),r.Mb(12,"h3",33),r.rc(13),r.Lb(),r.Mb(14,"ion-list"),r.Mb(15,"ion-item-divider",34),r.Mb(16,"ion-label"),r.rc(17,"Informaci\xf3n del producto"),r.Lb(),r.Lb(),r.Mb(18,"ion-item"),r.Mb(19,"ion-input",58),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().salidaCambioProd(o,"precio")})("ngModelChange",function(o){return r.lc(t),r.Wb().productoSalida.precio=o}),r.Lb(),r.Lb(),r.Mb(20,"ion-item"),r.Mb(21,"ion-input",59),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().salidaCambioProd(o,"canti")})("ngModelChange",function(o){return r.lc(t),r.Wb().productoSalida.cantidad=o}),r.Lb(),r.Lb(),r.qc(22,J,3,4,"div",60),r.Mb(23,"ion-item-divider",34),r.Mb(24,"ion-label"),r.rc(25,"Destino de Salida"),r.Lb(),r.Kb(26,"br"),r.Lb(),r.Mb(27,"ion-item"),r.Mb(28,"ion-label"),r.rc(29,"\xbfMover para otro Inventario?"),r.Lb(),r.Mb(30,"ion-select",27),r.Ub("ionChange",function(o){return r.lc(t),r.Wb().cambioInventario(o)}),r.qc(31,X,2,2,"ion-select-option",22),r.Lb(),r.Lb(),r.qc(32,ot,8,2,"div",5),r.qc(33,et,2,1,"ion-item",5),r.Lb(),r.Mb(34,"div",39),r.Mb(35,"ion-button",40),r.Ub("click",function(){return r.lc(t),r.Wb().cancelar()}),r.rc(36,"CANCELAR"),r.Lb(),r.Mb(37,"ion-button",41),r.Ub("click",function(){return r.lc(t),r.Wb().guardarSalida()}),r.rc(38,"GUARDAR"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=r.Wb();r.zb(5),r.dc("ngIf",t.load),r.zb(2),r.dc("ngForOf",t.productos),r.zb(1),r.dc("ngIf",t.mostrar),r.zb(5),r.sc(t.productoHistoria.nombre),r.zb(6),r.dc("ngModel",t.productoSalida.precio),r.zb(2),r.dc("ngModel",t.productoSalida.cantidad),r.zb(1),r.dc("ngIf",t.productoSalida.total>0&&t.productoSalida.total),r.zb(8),r.dc("value",t.selectPro),r.zb(1),r.dc("ngForOf",t.inventarios),r.zb(1),r.dc("ngIf",t.ivtPadre),r.zb(1),r.dc("ngIf",!t.ivtPadre)}}let rt=(()=>{class t{constructor(t,o,e,i,r){this.modalCtrl=t,this.ivtApi=o,this.almacenamiento=e,this.toast=i,this.socket=r,this.color="",this.vista="",this.titulo="",this.ivt={simple:!1,avanzado:!1},this.ivtTipo="",this.nombre="Mi inventario",this.nombrep="",this.tel1="",this.tel2="",this.correo="",this.nombrec="",this.load=!1,this.categorias=[],this.proveedores=[],this.nombrepd="",this.codigopd="",this.limite=0,this.selectCat="",this.selectPro="",this.productos=[],this.texto="",this.mostrar=!1,this.productoHistoria={},this.productoEntrada={producto:"",cantidad:void 0,precio:void 0,origen:"",origenextra:"",total:0,ivt:"",mensaje:"",nombre:"",codigo:""},this.productoSalida={producto:"",cantidad:void 0,precio:void 0,destino:"",destinoivt:"",prodDestino:"",total:0,ivt:"",mensaje:"",nombre:"",codigo:"",mensaje2:"",creador:"",producto2:"",nombre2:"",codigo2:""},this.ivtPadre=!1,this.inventarios=[],this.productosHijos=[],this.ivtSelect=""}ngOnInit(){}ionViewDidEnter(){this.entrada()}entrada(){return Object(i.a)(this,void 0,void 0,function*(){"crear"===this.tipo?(this.vista="crear",this.titulo="Creando Inventario",this.color="barra"):"proveedores"===this.tipo?(this.vista="proveedores",this.titulo="Creando Proveedor"):"categorias"===this.tipo?(this.vista="categorias",this.titulo="Creando Categor\xeda"):"productos"===this.tipo?(this.vista="productos",this.titulo="Creando Producto",yield this.cargarCategorias(),yield this.cargarProveedores()):"editarproductos"===this.tipo?(this.vista="editarproductos",this.titulo="Editar Producto",this.nombrepd=this.producto.nombre,this.codigopd=this.producto.codigo,this.limite=this.producto.limite,yield this.cargarCategorias(),yield this.cargarProveedores(),this.selectCat=this.producto.categoria,this.selectPro=this.producto.proveedor):"entradas"===this.tipo?(this.vista="entradas",this.color="success",this.titulo="Registrar Nueva Entrada",this.productoEntrada.ivt=this.inventario,this.cargarProveedores(),this.cargarInventario()):"salidas"===this.tipo&&(this.vista="salidas",this.color="success",this.titulo="Registrar Nueva Salida",this.productoSalida.ivt=this.inventario,this.cargarInventarios())})}cargarInventarios(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&(this.carga=!0,this.ivtApi.CargarInventarios(t.token,{creador:this.creador}).subscribe(t=>Object(i.a)(this,void 0,void 0,function*(){t.exe?(yield this.slide.lockSwipes(!0),t.response.forEach(t=>{t._id!==this.inventario?this.inventarios.push(t):this.accesos=t.accesos})):this.toast.toastError("No se traer la lista de inventarios, intentelo m\xe1s tarde"),this.load=!1}),t=>{this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1}))})}cargarInventario(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&(this.carga=!0,this.ivtApi.leerInventario(t.token,this.inventario).subscribe(t=>Object(i.a)(this,void 0,void 0,function*(){t.exe?this.accesos=t.accesos:this.toast.toastError("No se pudo traer el inventario, intentelo m\xe1s tarde"),this.load=!1}),t=>{this.toast.toastError("No se pudo traer el inventario, intentelo m\xe1s tarde"),this.load=!1}))})}crear(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.crearInventario(t.token,{tipo:"simple",nombre:this.nombre}).subscribe(t=>{t.exe?this.toast.toastExitoso("Inventario creado!"):this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde"),this.load=!1})})}crearProveedor(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.crearProveedor(t.token,{nombre:this.nombrep,tel1:this.tel1,tel2:this.tel2,correo:this.correo,ivt:this.inventario}).subscribe(t=>{t.exe?this.toast.toastExitoso("Proveedor creado!"):this.toast.toastError("No se pudo crear el proveedor, intentelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear el proveedor, intentelo m\xe1s tarde"),this.load=!1})})}crearCategoria(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.crearCategoria(t.token,{nombre:this.nombrec,ivt:this.inventario}).subscribe(t=>{t.exe?this.toast.toastExitoso("Categor\xeda creado!"):this.toast.toastError("No se pudo crear la categor\xeda, intentelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear la categor\xeda, intentelo m\xe1s tarde"),this.load=!1})})}crearProducto(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.crearProducto(t.token,{nombre:this.nombrepd.trim(),codigo:this.codigopd.trim(),categoria:this.selectCat,proveedor:this.selectPro,inventario:this.inventario,limite:this.limite}).subscribe(t=>{t.exe?(this.toast.toastExitoso("Producto creado!"),this.modalCtrl.dismiss({exe:!0})):this.toast.toastError("No se pudo crear el producto, int\xe9ntelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear el producto, intentelo m\xe1s tarde"),this.load=!1})})}editarProducto(){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0;const t=yield this.almacenamiento.obtenerToken();t&&""!==this.tipo&&this.ivtApi.editarProducto(t.token,{nombre:this.nombrepd.trim(),codigo:this.codigopd.trim(),categoria:this.selectCat,proveedor:this.selectPro,_id:this.producto._id,limite:this.limite}).subscribe(t=>{t.exe?this.toast.toastExitoso("Producto editado!"):this.toast.toastError("No se pudo editar el producto, int\xe9ntelo m\xe1s tarde"),this.load=!1,this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo editar el producto, intentelo m\xe1s tarde"),this.load=!1})})}cambioCategoria(t){this.selectCat=t.detail.value}cambioProveedor(t){this.selectPro=t.detail.value,this.productoEntrada.origen=t.detail.value}cambioInventario(t){return Object(i.a)(this,void 0,void 0,function*(){this.productoSalida.destinoivt=t.detail.value,this.ivtSelect=t.detail.value,this.ivtPadre=!0})}cargarCategorias(){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&this.ivtApi.leerCategoria(t.token,this.inventario).subscribe(t=>{t.exe?this.categorias=t.response:this.toast.toastError("No se pudo cargar los datos, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo cargar los datos, intentelo m\xe1s tarde")})})}cargarProveedores(){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(this.carga=!0,this.ivtApi.leerProveedor(t.token,this.inventario).subscribe(t=>{t.exe?("entradas"===this.vista&&this.slide.lockSwipes(!0).then(()=>{}).catch(()=>{}),this.proveedores=t.response):this.toast.toastError("No se pudo cargar los datos, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo cargar los datos, intentelo m\xe1s tarde")}))})}buscar(t){return Object(i.a)(this,void 0,void 0,function*(){this.load=!0,this.texto=t.detail.value;const o=yield this.almacenamiento.obtenerToken();o&&""!==this.tipo&&""!==t.detail.value?this.ivtApi.buscarProducto(o.token,{_id:this.inventario,patron:t.detail.value}).subscribe(t=>{t.exe?(this.productos=t.response,this.mostrar=0===t.response.length):this.toast.toastError("No se pudo consultar los productos, intentelo m\xe1s tarde"),this.load=!1},t=>{this.toast.toastError("No se pudo consultar los productos, intentelo m\xe1s tarde"),this.load=!1}):(this.load=!1,this.productos=[])})}validarProducto(t,o){return Object(i.a)(this,void 0,void 0,function*(){yield this.slide.lockSwipes(!1),yield this.slide.slideNext(300),yield this.slide.lockSwipes(!0),this.productoHistoria=t,this.productoEntrada.producto=this.productoHistoria._id,this.productoSalida.producto=this.productoHistoria._id})}cancelar(){return Object(i.a)(this,void 0,void 0,function*(){yield this.slide.lockSwipes(!1),yield this.slide.slidePrev(300),yield this.slide.lockSwipes(!0),this.productoHistoria="",this.productoEntrada={producto:"",cantidad:void 0,precio:void 0,origen:"",origenextra:"",total:0,ivt:"",mensaje:"",nombre:"",codigo:""},this.productoSalida={producto:"",cantidad:void 0,precio:void 0,destino:"",destinoivt:"",prodDestino:"",total:0,ivt:"",mensaje:"",nombre:"",codigo:"",mensaje2:"",creador:"",producto2:"",nombre2:"",codigo2:""},this.ivtPadre=!1,this.ivtSelect="",this.selectPro=""})}entradaCambioProd(t,o){"precio"===o?this.productoEntrada.precio=t.detail.value:"canti"===o&&(this.productoEntrada.cantidad=t.detail.value),this.productoEntrada.total=this.productoEntrada.precio*this.productoEntrada.cantidad}salidaCambioProd(t,o){"precio"===o?this.productoSalida.precio=t.detail.value:"canti"===o&&(this.productoSalida.cantidad=t.detail.value),this.productoSalida.total=this.productoSalida.precio*this.productoSalida.cantidad}productoHijo(t){return Object(i.a)(this,void 0,void 0,function*(){if(""!==t.detail.value){const o=yield this.almacenamiento.obtenerToken();o&&this.ivtApi.leerProductosPorInventario(o.token,{id:this.ivtSelect,patron:t.detail.value}).subscribe(t=>{t.exe?this.productosHijos=t.response:this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")},t=>{this.toast.toastError("No se pudo traer los productos del inventario destino, intentelo m\xe1s tarde")})}else this.productoSalida.prodDestino=""})}prodDestino(t){const o=this.productosHijos.filter(o=>o._id===t.detail.value);this.productoSalida.prodDestino=t.detail.value,this.productoSalida.producto2=o[0]._id,this.productoSalida.nombre2=o[0].nombre,this.productoSalida.codigo2=o[0].codigo}guardarEntrada(){return Object(i.a)(this,void 0,void 0,function*(){if(0!==this.productoEntrada.cantidad&&this.productoEntrada.cantidad&&0!==this.productoEntrada.precio&&this.productoEntrada.precio){const t=yield this.almacenamiento.obtenerToken();t&&(this.productoEntrada.nombre=this.productoHistoria.nombre,this.productoEntrada.codigo=this.productoHistoria.codigo,this.productoEntrada.mensaje=` Nueva entrada del producto ${this.productoEntrada.nombre} por una cantidad de ${this.productoEntrada.cantidad}. Creado por ${t.nombre}`,this.ivtApi.crearEntrada(t.token,this.productoEntrada).subscribe(o=>{o.exe?(this.socket.emit("eventoIVT",{mensaje:`Nueva entrada del producto ${this.productoEntrada.nombre} por una cantidad de ${this.productoEntrada.cantidad}. Creado por ${t.nombre}`,usuarios:this.accesos,id:this.inventario,tipo:"entrada"}),this.toast.toastExitoso("Entrada creada con \xe9xito!")):this.toast.toastError("No se pudo crear la entrada, intentelo m\xe1s tarde"),this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear la entrada, intentelo m\xe1s tarde")}))}else this.toast.toastError("Verifique que la cantidad o precio de venta esten diligenciados")})}guardarSalida(){return Object(i.a)(this,void 0,void 0,function*(){if(0!==this.productoSalida.cantidad&&this.productoSalida.cantidad&&0!==this.productoSalida.precio&&this.productoSalida.precio)if(this.productoSalida.cantidad>this.productoHistoria.existencia)this.toast.toastError(`Solo quedan ${this.productoHistoria.existencia} ${this.productoHistoria.nombre} en inventario, no puede sacar m\xe1s de esa cantidad`);else if(""!==this.ivtSelect&&""===this.productoSalida.prodDestino)this.toast.toastError("Debe de seleccionar el producto al cual se le va agregar la cantidad despachada");else{const t=yield this.almacenamiento.obtenerToken();t&&(this.productoSalida.creador=this.creador,this.productoSalida.nombre=this.productoHistoria.nombre,this.productoSalida.codigo=this.productoHistoria.codigo,this.productoSalida.mensaje=`Nueva Salida del producto ${this.productoSalida.nombre} por una cantidad de ${this.productoSalida.cantidad}. Creado por ${t.nombre}`,""!==this.productoSalida.prodDestino&&""!==this.productoSalida.destinoivt&&(this.productoSalida.mensaje2=`Nueva Entrada del producto ${this.productoSalida.nombre} por una cantidad de ${this.productoSalida.cantidad}. Creado por ${t.nombre}`),this.ivtApi.crearSalida(t.token,this.productoSalida).subscribe(o=>{o.exe?(this.socket.emit("eventoIVT",{mensaje:`Nueva Salida del producto ${this.productoSalida.nombre} por una cantidad de ${this.productoSalida.cantidad}. Creado por ${t.nombre}`,usuarios:this.accesos,creador:this.creador,id:this.inventario,tipo:"salida"}),this.toast.toastExitoso("Salida creada con \xe9xito!"),this.cancelar()):this.toast.toastError("No se pudo crear la salida, intentelo m\xe1s tarde"),this.modalCtrl.dismiss({exe:!0})},t=>{this.toast.toastError("No se pudo crear la salida, intentelo m\xe1s tarde")}))}else this.toast.toastError("Verifique que la cantidad o precio de venta esten diligenciados")})}cerrar(){this.modalCtrl.dismiss({})}}return t.\u0275fac=function(o){return new(o||t)(r.Jb(n.ob),r.Jb(a.a),r.Jb(c.a),r.Jb(s.a),r.Jb(d.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-ivt-modal"]],viewQuery:function(t,o){if(1&t&&r.vc(p,1),2&t){let t;r.kc(t=r.Vb())&&(o.slide=t.first)}},inputs:{tipo:"tipo",inventario:"inventario",producto:"producto",creador:"creador",accesos:"accesos"},decls:15,vars:9,consts:[[1,"ion-no-border"],[3,"color"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],[4,"ngIf"],["lines","none","color","light",1,"ion-padding"],["type","text","placeholder","Escribe el nombre del inventario",1,"ion-padding",3,"ngModel","ngModelChange"],[1,"ion-padding"],["mode","ios","shape","round","expand","block","color","warning",1,"marginTop","colorw",3,"click"],["class","center",4,"ngIf"],[1,"center"],["name","crescent"],["type","text","placeholder","Escribe el nombre del proveedor",1,"ion-padding",3,"ngModel","ngModelChange"],["type","number","placeholder","Tel\xe9fono de contacto",1,"ion-padding",3,"ngModel","ngModelChange"],["type","number","placeholder","Tel\xe9fono adicional",1,"ion-padding",3,"ngModel","ngModelChange"],["type","text","placeholder","Correo electr\xf3nico de contacto",1,"ion-padding",3,"ngModel","ngModelChange"],["color","success","name","crescent"],["type","text","placeholder","Escribe el nombre de la categor\xeda",1,"ion-padding",3,"ngModel","ngModelChange"],["type","text","placeholder","Escribe el nombre del producto",1,"ion-padding",3,"ngModel","ngModelChange"],["type","text","placeholder","Escribe el c\xf3digo del producto",1,"ion-padding",3,"ngModel","ngModelChange"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"ion-text-wrap"],["type","number","placeholder","Escribe la cantidad",1,"ion-padding",3,"ngModel","ngModelChange"],[3,"value"],["placeholder","Seleccione una",3,"value","ionChange"],[3,"value","ionChange"],["slide",""],["debounce","500","placeholder","Buscar Producto por c\xf3digo o nombre","mode","ios",1,"ion-text-left",3,"ionChange"],[1,"divider","light"],[3,"click",4,"ngFor","ngForOf"],["mode","ios"],[1,"tituloGrande","tprod"],["color","light"],["type","number","placeholder","Precio Unitario",3,"ngModel","ionChange","ngModelChange"],["type","number","placeholder","Cantidad",3,"ngModel","ionChange","ngModelChange"],["class","total ",4,"ngIf"],["type","text","placeholder","Otro",3,"ngModel","ngModelChange"],[1,"flexbet"],["color","light","expand","block","mode","ios","shape","round",1,"btn",3,"click"],["color","warning","expand","block","mode","ios","shape","round",1,"btn",3,"click"],[4,"ngFor","ngForOf"],["slot","start","animated","",2,"width","30px","height","30px"],["animated","",2,"width","100%","height","10px"],["animated","",2,"width","80%","height","10px"],["slot","start"],["src","/assets/Productos.png"],[1,"rojoi"],[1,"verdei"],["color","success",4,"ngIf"],["color","warning",4,"ngIf"],["color","danger",4,"ngIf"],["color","success"],["color","warning"],["color","danger"],[1,"tituloGrande"],[1,"total"],["type","number","placeholder","Precio Unitario de Venta",3,"ngModel","ionChange","ngModelChange"],["type","number","placeholder","Cantidad de Productos que salen",3,"ngModel","ionChange","ngModelChange"],["clss","ion-padding","class","total ",4,"ngIf"],["clss","ion-padding",1,"total"],["debounce","500",3,"placeholder","ionChange"],["type","text","placeholder","Nombre del cliente (opcional)",3,"ngModel","ngModelChange"]],template:function(t,o){1&t&&(r.Mb(0,"ion-header",0),r.Mb(1,"ion-toolbar",1),r.Mb(2,"ion-title"),r.rc(3),r.Lb(),r.Mb(4,"ion-buttons",2),r.Mb(5,"ion-button",3),r.Ub("click",function(){return o.cerrar()}),r.Kb(6,"ion-icon",4),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(7,"ion-content"),r.qc(8,g,9,2,"ion-list",5),r.qc(9,m,17,5,"ion-list",5),r.qc(10,M,9,2,"ion-list",5),r.qc(11,C,35,6,"ion-list",5),r.qc(12,z,35,8,"ion-list",5),r.qc(13,T,38,10,"ion-slides",5),r.qc(14,it,39,11,"ion-slides",5),r.Lb()),2&t&&(r.zb(1),r.dc("color",o.color),r.zb(2),r.sc(o.titulo),r.zb(5),r.dc("ngIf","crear"===o.vista),r.zb(1),r.dc("ngIf","proveedores"===o.vista),r.zb(1),r.dc("ngIf","categorias"===o.vista),r.zb(1),r.dc("ngIf","productos"===o.vista),r.zb(1),r.dc("ngIf","editarproductos"===o.vista),r.zb(1),r.dc("ngIf",o.carga&&"entradas"===o.vista),r.zb(1),r.dc("ngIf",o.carga&&"salidas"===o.vista))},directives:[n.z,n.jb,n.hb,n.k,n.j,n.A,n.t,b.j,n.L,n.G,n.F,n.E,n.wb,l.i,l.k,n.bb,n.qb,n.K,n.W,n.vb,b.i,n.X,n.ab,n.Z,n.T,n.l,n.m,n.Y,n.f,n.r,n.N,n.M,n.tb],pipes:[h.a],styles:[".marginTop[_ngcontent-%COMP%]{margin-top:30px}div[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{width:100%}.miflex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tarjeta[_ngcontent-%COMP%]{width:calc(50% - 10px);margin:5px;box-shadow:none;opacity:.5;border:1px solid rgba(3,3,3,.1);transition:all .1s;transform:scale(.8)}.headercard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.isSelect[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;transform:scale(1.1);border:2px solid var(--ion-color-success)}.colorw[_ngcontent-%COMP%]{color:#fff!important}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}ion-item[_ngcontent-%COMP%]:hover{--background:#e3e7d1!important}.tituloGrande[_ngcontent-%COMP%]{width:300px;text-align:center}.verdei[_ngcontent-%COMP%]{color:#1e8c4a}.rojoi[_ngcontent-%COMP%]{color:#c1302c}.flexbet[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}ion-slide[_ngcontent-%COMP%], ion-slides[_ngcontent-%COMP%]{width:100%;min-height:100%}ion-slide[_ngcontent-%COMP%]{display:flex;flex-direction:column}.tprod[_ngcontent-%COMP%]{width:100%;font-size:20px;background-color:#fffbe5;padding:10px}ion-card[_ngcontent-%COMP%]{width:100%;padding:auto 0}.btn[_ngcontent-%COMP%]{width:50%}"]}),t})()},fqim:function(t,o,e){"use strict";e.d(o,"a",function(){return r});var i=e("fXoL");let r=(()=>{class t{transform(t,o){return 0===t?0:new Intl.NumberFormat(o,{minimumFractionDigits:1}).format(t)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=i.Ib({name:"decimales",type:t,pure:!0}),t})()}}]);