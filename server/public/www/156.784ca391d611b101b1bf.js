(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{ytyx:function(i,o,e){"use strict";e.r(o),e.d(o,"RecordatorioPageModule",function(){return ii});var n=e("ofXK"),t=e("3Pt+"),r=e("TEn/"),c=e("tyNb"),a=e("mrSG"),s=e("R0Ic"),b=e("fXoL"),l=e("Gq8O"),d=e("71hY"),u=e("fsfq"),f=e("fmoy");let m=(()=>{class i{transform(i,o,e){return""===(o=o.toLowerCase())?[]:i.filter(i=>{i.usuarioEmisor.checked=!1,e.length>0&&e.find(o=>o.id===i.usuarioEmisor._id)&&(i.usuarioEmisor.checked=!0);const n=i.usuarioEmisor.nombrecompleto;if(i.usuarioEmisor.nombrecompleto=i.usuarioEmisor.nombrecompleto.toLowerCase(),i.usuarioEmisor.nombrecompleto.includes(o))return i.usuarioEmisor.nombrecompleto=n,n})}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=b.Kb({name:"filtroRepo",type:i,pure:!0}),i})();function p(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-content",3),b.Ob(1,"ion-list"),b.Ob(2,"ion-item-divider",4),b.wc(3," Recordatorios para mis clientes "),b.Nb(),b.Nb(),b.Ob(4,"div",5),b.Ob(5,"div",6),b.Ob(6,"div",7),b.Wb("click",function(){return b.pc(i),b.Yb().crear("predeterminado_cliente")}),b.Mb(7,"ion-icon",8),b.Nb(),b.Ob(8,"div",9),b.Ob(9,"ion-label",10),b.Ob(10,"strong"),b.wc(11,"Crear Predeterminado"),b.Nb(),b.Mb(12,"br"),b.Nb(),b.Nb(),b.Nb(),b.Ob(13,"div",6),b.Ob(14,"div",7),b.Wb("click",function(){return b.pc(i),b.Yb().crear("personalizado_cliente")}),b.Mb(15,"ion-icon",8),b.Nb(),b.Ob(16,"div",9),b.Ob(17,"ion-label",10),b.Ob(18,"strong"),b.wc(19,"Crear Personalizado"),b.Nb(),b.Mb(20,"br"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(21,"ion-list"),b.Ob(22,"ion-item-divider",4),b.wc(23," Opciones "),b.Nb(),b.Nb(),b.Ob(24,"div",5),b.Ob(25,"div",6),b.Ob(26,"div",11),b.Wb("click",function(){return b.pc(i),b.Yb().cerrar()}),b.Mb(27,"ion-icon",12),b.Nb(),b.Ob(28,"div",9),b.Ob(29,"ion-label",10),b.Ob(30,"strong"),b.wc(31,"Cerrar"),b.Nb(),b.Mb(32,"br"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()}}function h(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-header",13),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-chip",14),b.Wb("click",function(){return b.pc(i),b.Yb().cancelar()}),b.Mb(3,"ion-icon",15),b.Ob(4,"ion-label"),b.wc(5,"Cancelar"),b.Nb(),b.Nb(),b.Ob(6,"ion-title",16),b.wc(7,"Predeterminados"),b.Nb(),b.Ob(8,"ion-chip",17),b.Wb("click",function(){return b.pc(i),b.Yb().guardar()}),b.Mb(9,"ion-icon",15),b.Ob(10,"ion-label"),b.wc(11,"Guardar"),b.Nb(),b.Nb(),b.Nb(),b.Nb()}}function g(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-item"),b.Ob(1,"ion-avatar",35),b.Mb(2,"img",36),b.Nb(),b.Ob(3,"ion-label"),b.Ob(4,"strong"),b.wc(5),b.Nb(),b.Mb(6,"br"),b.wc(7),b.Nb(),b.Ob(8,"ion-checkbox",37),b.Wb("ionChange",function(o){return b.pc(i),b.Yb(2).selectPersona(o)}),b.Nb(),b.Nb()}if(2&i){const i=o.$implicit;b.Ab(2),b.hc("src","https://motocaliapp.com/",i.usuarioEmisor.image,"",b.qc),b.Ab(3),b.xc(i.usuarioEmisor.nombrecompleto),b.Ab(2),b.yc(" ",i.usuarioEmisor.nombreusuario," "),b.Ab(1),b.gc("checked",i.usuarioEmisor.checked),b.gc("value",i.usuarioEmisor._id)}}function O(i,o){1&i&&b.Mb(0,"ion-icon",38)}function v(i,o){1&i&&b.Mb(0,"ion-icon",39)}function N(i,o){1&i&&b.Mb(0,"ion-icon",38)}function k(i,o){1&i&&b.Mb(0,"ion-icon",39)}function w(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-content",18),b.Mb(1,"div",19),b.Ob(2,"ion-list"),b.Ob(3,"ion-item-divider",20),b.Ob(4,"ion-label",16),b.wc(5,"\xbfPara que cliente est\xe1 dirigido?"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"div",21),b.Ob(7,"ion-searchbar",22),b.Wb("ionChange",function(o){return b.pc(i),b.Yb().buscarPersona(o)}),b.Nb(),b.Nb(),b.Ob(8,"div",23),b.Ob(9,"ion-list"),b.vc(10,g,9,5,"ion-item",24),b.Zb(11,"filtroRepo"),b.Nb(),b.Nb(),b.Mb(12,"div",19),b.Ob(13,"ion-list"),b.Ob(14,"ion-item-divider",20),b.Ob(15,"ion-label",16),b.wc(16,"Frecuencia del recordatorio"),b.Nb(),b.Nb(),b.Nb(),b.Ob(17,"div",21),b.Ob(18,"div",25),b.Ob(19,"ion-card",26),b.Wb("click",function(){return b.pc(i),b.Yb().selectPredeterminado("diario")}),b.Ob(20,"ion-card-header",27),b.Ob(21,"div",28),b.vc(22,O,1,0,"ion-icon",29),b.vc(23,v,1,0,"ion-icon",30),b.Nb(),b.Nb(),b.Ob(24,"ion-card-content",10),b.Ob(25,"ion-label",10),b.wc(26,"Ejecutar cada d\xeda "),b.Nb(),b.Nb(),b.Nb(),b.Ob(27,"ion-card",26),b.Wb("click",function(){return b.pc(i),b.Yb().selectPredeterminado("mensual")}),b.Ob(28,"ion-card-header",27),b.Ob(29,"div",28),b.vc(30,N,1,0,"ion-icon",29),b.vc(31,k,1,0,"ion-icon",30),b.Nb(),b.Nb(),b.Ob(32,"ion-card-content",10),b.Ob(33,"ion-label",10),b.wc(34,"Ejecutar cada Mes "),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Mb(35,"div",19),b.Ob(36,"ion-list"),b.Ob(37,"ion-item-divider",20),b.Ob(38,"ion-label",16),b.wc(39,"Informaci\xf3n"),b.Nb(),b.Nb(),b.Nb(),b.Ob(40,"div",21),b.Ob(41,"ion-list"),b.Ob(42,"ion-item"),b.Ob(43,"ion-input",31),b.Wb("ngModelChange",function(o){return b.pc(i),b.Yb().informacion.titulo=o}),b.Nb(),b.Nb(),b.Ob(44,"ion-item"),b.Ob(45,"ion-textarea",32),b.Wb("ngModelChange",function(o){return b.pc(i),b.Yb().informacion.contenido=o}),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Mb(46,"div",19),b.Ob(47,"ion-list"),b.Ob(48,"ion-item-divider",20),b.Ob(49,"ion-label",16),b.wc(50,"Configuraciones"),b.Nb(),b.Nb(),b.Nb(),b.Ob(51,"div",21),b.Ob(52,"ion-list"),b.Ob(53,"ion-item",33),b.Mb(54,"ion-checkbox",34),b.Ob(55,"ion-label"),b.wc(56,"Seguir recordando "),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&i){const i=b.Yb();b.fc("@entrada",void 0),b.Ab(10),b.fc("ngForOf",b.cc(11,12,i.clientes,i.texto,i.personasSelect)),b.Ab(9),b.Db("isSelect",i.predeterminado.diario),b.Ab(3),b.fc("ngIf",!i.predeterminado.diario),b.Ab(1),b.fc("ngIf",i.predeterminado.diario),b.Ab(4),b.Db("isSelect",i.predeterminado.mensual),b.Ab(3),b.fc("ngIf",!i.predeterminado.mensual),b.Ab(1),b.fc("ngIf",i.predeterminado.mensual),b.Ab(12),b.fc("ngModel",i.informacion.titulo),b.Ab(2),b.fc("ngModel",i.informacion.contenido)}}function M(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-item"),b.Ob(1,"ion-avatar",35),b.Mb(2,"img",36),b.Nb(),b.Ob(3,"ion-label"),b.Ob(4,"strong"),b.wc(5),b.Nb(),b.Mb(6,"br"),b.wc(7),b.Nb(),b.Ob(8,"ion-checkbox",37),b.Wb("ionChange",function(o){return b.pc(i),b.Yb(2).selectPersona(o)}),b.Nb(),b.Nb()}if(2&i){const i=o.$implicit;b.Ab(2),b.hc("src","https://motocaliapp.com/",i.usuarioEmisor.image,"",b.qc),b.Ab(3),b.xc(i.usuarioEmisor.nombrecompleto),b.Ab(2),b.yc(" ",i.usuarioEmisor.nombreusuario," "),b.Ab(1),b.gc("checked",i.usuarioEmisor.checked),b.gc("value",i.usuarioEmisor._id)}}function C(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-item"),b.Ob(1,"ion-label"),b.wc(2),b.Nb(),b.Ob(3,"ion-input",47),b.Wb("ngModelChange",function(o){return b.pc(i),b.Yb(2).frecuencia.cantidad=o}),b.Nb(),b.Nb()}if(2&i){const i=b.Yb(2);b.Ab(2),b.xc(i.msgFrecuencia),b.Ab(1),b.fc("ngModel",i.frecuencia.cantidad)}}function y(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-content",18),b.Mb(1,"div",19),b.Ob(2,"ion-list"),b.Ob(3,"ion-item-divider",20),b.Ob(4,"ion-label",16),b.wc(5,"\xbfPara que cliente est\xe1 dirigido?"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"div",21),b.Ob(7,"ion-searchbar",22),b.Wb("ionChange",function(o){return b.pc(i),b.Yb().buscarPersona(o)}),b.Nb(),b.Nb(),b.Ob(8,"div",23),b.Ob(9,"ion-list"),b.vc(10,M,9,5,"ion-item",24),b.Zb(11,"filtroRepo"),b.Nb(),b.Nb(),b.Mb(12,"div",19),b.Ob(13,"ion-list"),b.Ob(14,"ion-item-divider",20),b.Ob(15,"ion-label",16),b.wc(16,"Frecuencia del recordatorio"),b.Nb(),b.Nb(),b.Nb(),b.Ob(17,"div",21),b.Ob(18,"ion-list"),b.Ob(19,"ion-item"),b.Ob(20,"ion-label"),b.wc(21,"Seleccione Frecuencia"),b.Nb(),b.Ob(22,"ion-select",40),b.Wb("ionChange",function(o){return b.pc(i),b.Yb().frecuenciaPersonalizada(o)}),b.Ob(23,"ion-select-option",41),b.wc(24,"Diario"),b.Nb(),b.Ob(25,"ion-select-option",42),b.wc(26,"Semanal"),b.Nb(),b.Ob(27,"ion-select-option",43),b.wc(28,"Mensual"),b.Nb(),b.Nb(),b.Nb(),b.vc(29,C,4,2,"ion-item",44),b.Nb(),b.Nb(),b.Mb(30,"div",19),b.Ob(31,"ion-list"),b.Ob(32,"ion-item-divider",20),b.Ob(33,"ion-label",16),b.wc(34,"Informaci\xf3n"),b.Nb(),b.Nb(),b.Nb(),b.Ob(35,"div",21),b.Ob(36,"ion-list"),b.Ob(37,"ion-item"),b.Ob(38,"ion-input",31),b.Wb("ngModelChange",function(o){return b.pc(i),b.Yb().informacion.titulo=o}),b.Nb(),b.Nb(),b.Ob(39,"ion-item"),b.Ob(40,"ion-textarea",32),b.Wb("ngModelChange",function(o){return b.pc(i),b.Yb().informacion.contenido=o}),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Mb(41,"div",19),b.Ob(42,"ion-list"),b.Ob(43,"ion-item-divider",20),b.Ob(44,"ion-label",16),b.wc(45,"Configuraciones"),b.Nb(),b.Nb(),b.Nb(),b.Ob(46,"div",21),b.Ob(47,"ion-list"),b.Ob(48,"ion-item",33),b.Ob(49,"ion-checkbox",45),b.Wb("ionChange",function(o){return b.pc(i),b.Yb().repetir(o)}),b.Nb(),b.Ob(50,"ion-label",16),b.wc(51,"Seguir recordando al usuario cada hora"),b.Nb(),b.Nb(),b.Ob(52,"ion-item-divider",46),b.Ob(53,"ion-label",16),b.wc(54,"Le recuerda al usuario hasta que confirme que visualiz\xf3 el recordatorio"),b.Nb(),b.Nb(),b.Ob(55,"ion-item",33),b.Ob(56,"ion-checkbox",45),b.Wb("ionChange",function(o){return b.pc(i),b.Yb().reprogramar(o)}),b.Nb(),b.Ob(57,"ion-label",16),b.wc(58,"Ejecutar de nuevo el recordatorio con el tiempo que tiene configurado"),b.Nb(),b.Nb(),b.Ob(59,"ion-item-divider",46),b.Ob(60,"ion-label",16),b.wc(61,"Programa una nueva fecha para la ejecuci\xf3n del recordatorio en base a la frecuencia configurada "),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&i){const i=b.Yb();b.fc("@entrada",void 0),b.Ab(10),b.fc("ngForOf",b.cc(11,8,i.clientes,i.texto,i.personasSelect)),b.Ab(12),b.fc("value",i.frecuencia.patron),b.Ab(7),b.fc("ngIf",""!==i.msgFrecuencia),b.Ab(9),b.fc("ngModel",i.informacion.titulo),b.Ab(2),b.fc("ngModel",i.informacion.contenido),b.Ab(9),b.fc("checked",i.recheckedRecord),b.Ab(7),b.fc("checked",i.repetirchecked)}}let x=(()=>{class i{constructor(i,o,e,n,t,r){this.modalCtrl=i,this.plt=o,this.apiSeguimiento=e,this.apiRecordatorio=n,this.almacenamiento=t,this.toastCtrl=r,this.configuracion=!0,this.predeterminado={semanal:!1,mensual:!1,diario:!1},this.clientes=[],this.texto="",this.personasSelect=[],this.msgFrecuencia="Cada cuantos d\xedas",this.tipo="",this.frecuencia={patron:"diario",cantidad:0},this.informacion={titulo:"",contenido:"",archivos:[]},this.repetirRecordatorio="SI",this.repetirProgramacion="SI",this.repetirchecked=!0,this.recheckedRecord=!0,this.plt.backButton.subscribe(i=>{this.configuracion?this.cerrar():this.configuracion=!1})}ngOnInit(){}ionViewWillEnter(){"editar"===this.type?(this.configuracion=!0,this.evaluar()):"informacion"===this.type||(this.configuracion=!1),this.alAbrir()}evaluar(){if("personalizado"===this.recordatorioData.tipo){this.vista="2";const i=this.recordatorioData;this.informacion=i.informacion,this.repetirProgramacion=i.repetirprograma,this.repetirRecordatorio=i.repetir,this.repetirchecked="SI"===i.repetirprograma,this.recheckedRecord="SI"===i.repetir,this.frecuencia=i.frecuencia,this.cambiarMensaje(i.frecuencia.patron),this.personasSelect=i.destinatarios}else if("predeterminado"===this.recordatorioData.tipo){this.vista="1";const i=this.recordatorioData;this.informacion=i.informacion,this.repetirProgramacion=i.repetirprograma,this.repetirRecordatorio=i.repetir,this.recheckedRecord="SI"===i.repetir,this.frecuencia=i.frecuencia,this.personasSelect=i.destinatarios,this.predeterminado[i.frecuencia.patron]=!0}}cambiarMensaje(i){switch(i){case"diario":this.msgFrecuencia="Cada cuantos d\xedas";break;case"semanal":this.msgFrecuencia="Cada cuantas semanas";break;case"mensual":this.msgFrecuencia="Cada cuantos meses"}}alAbrir(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();i&&this.apiSeguimiento.solicitudesAceptadas(i.token,"sin receptor","0").subscribe(i=>{i.exe&&i.response.length>0&&i.response.forEach(i=>{i.usuarioEmisor.image=i.usuarioEmisor.imagen.length>0?i.usuarioEmisor.imagen[0].path:"ruta de app"}),this.clientes=i.response},i=>{})})}buscarPersona(i){this.texto=i.detail.value}selectPersona(i){if(i.detail.checked){if(!this.personasSelect.find(o=>o.id===i.detail.value)){const o=this.clientes.filter(o=>o.usuarioEmisor._id===i.detail.value);this.personasSelect.push({id:i.detail.value,visto:"NO",dispositivo:o[0].usuarioEmisor.usuarioID})}}else this.personasSelect=this.personasSelect.filter(o=>o.id!==i.detail.value)}crear(i){switch(i){case"predeterminado_cliente":this.vista="1";break;case"personalizado_cliente":this.vista="2"}this.configuracion=!0}cancelar(){"editar"===this.type?this.cerrar():this.configuracion=!1}selectPredeterminado(i){switch(i){case"diario":this.predeterminado.diario=!this.predeterminado.diario,this.frecuencia.cantidad=1,this.frecuencia.patron="diario",this.predeterminado.mensual=!1;break;case"semanal":this.predeterminado.semanal=!this.predeterminado.semanal;break;case"mensual":this.frecuencia.cantidad=1,this.frecuencia.patron="mensual",this.predeterminado.mensual=!this.predeterminado.mensual,this.predeterminado.diario=!1}}frecuenciaPersonalizada(i){switch(this.frecuencia.patron=i.detail.value,i.detail.value){case"diario":this.msgFrecuencia="Cada cuantos d\xedas";break;case"semanal":this.msgFrecuencia="Cada cuantas semanas";break;case"mensual":this.msgFrecuencia="Cada cuantos meses"}}repetir(i){i.detail.checked?(this.repetirRecordatorio="SI",this.recheckedRecord=!0):(this.repetirRecordatorio="NO",this.recheckedRecord=!1)}reprogramar(i){i.detail.checked?(this.repetirProgramacion="SI",this.repetirchecked=!0):(this.repetirProgramacion="NO",this.repetirchecked=!1)}cerrar(){this.modalCtrl.dismiss({})}guardar(){return Object(a.a)(this,void 0,void 0,function*(){if(this.personasSelect.length>0&&""!==this.informacion.titulo&&""!==this.informacion.contenido&&""!==this.frecuencia.patron&&this.frecuencia.cantidad>0){const i=yield this.almacenamiento.obtenerToken(),o={tipo:"1"===this.vista?"predeterminado":"personalizado",destinos:this.personasSelect,informacion:this.informacion,frecuencia:this.frecuencia,repetir:this.repetirRecordatorio,repetirprograma:this.repetirProgramacion};i&&("editar"===this.type?(o._id=this.recordatorioData._id,this.apiRecordatorio.putRecordatorio(i.token,o).subscribe(i=>{i.exe?(this.toastCtrl.alertApplication("Recordatorio actualizado con \xe9xito",!0),this.cerrar()):this.toastCtrl.alertApplication("No se pudo actualizar el recordatorio, intentelo m\xe1s tarde",!1)},i=>{})):this.apiRecordatorio.postRecordatorio(i.token,o).subscribe(i=>{i.exe?(this.toastCtrl.alertApplication("Recordatorio creado con \xe9xito",!0),this.cerrar()):this.toastCtrl.alertApplication("No se pudo crear el recordatorio, intentelo m\xe1s tarde",!1)},i=>{}))}else this.toastCtrl.alertApplication("Debe completar toda la informaci\xf3n",!1)})}}return i.\u0275fac=function(o){return new(o||i)(b.Lb(r.qb),b.Lb(r.tb),b.Lb(l.a),b.Lb(d.a),b.Lb(u.a),b.Lb(f.a))},i.\u0275cmp=b.Fb({type:i,selectors:[["app-recordatorio-modal"]],inputs:{type:"type",recordatorioData:"recordatorioData"},decls:4,vars:4,consts:[["fullscreen","true",4,"ngIf"],["class","ion-no-border",4,"ngIf"],["fullscreen","true","color","muro",4,"ngIf"],["fullscreen","true"],["color","light",1,"ion-padding"],[1,"divider","caja-flex"],[1,"opt"],[1,"boton","btn-verde",3,"click"],["color","blanco","slot","icon-only","name","add-outline"],[1,"des"],[1,"ion-text-center"],[1,"boton","btn-rojo",3,"click"],["color","blanco","slot","icon-only","name","close-outline"],[1,"ion-no-border"],["slot","start","color","danger",3,"click"],["name","close"],[1,"ion-text-wrap"],["slot","end","color","success",3,"click"],["fullscreen","true","color","muro"],[1,"divider"],["color","light"],[1,"divider","blanco"],["mode","ios","placeholder","Buscar Cliente",1,"ion-margin-bottom",3,"ionChange"],[1,"blanco","ion-margin-bottom"],[4,"ngFor","ngForOf"],[1,"miflex"],["mode","md",1,"tarjeta",3,"click"],[1,"headercard"],[1,"boton","btn-gris"],["color","dark","slot","icon-only","name","megaphone-outline",4,"ngIf"],["color","success","slot","icon-only","name","megaphone-outline",4,"ngIf"],["type","text","placeholder","Titulo del Recordatorio",3,"ngModel","ngModelChange"],["rows","5","placeholder","Contenido del Recordatorio",3,"ngModel","ngModelChange"],["lines","none",1,"ion-margin-bottom"],["checked","true","slot","start","color","success"],["slot","start",1,"avatar"],[3,"src"],["slot","end","color","success",3,"checked","value","ionChange"],["color","dark","slot","icon-only","name","megaphone-outline"],["color","success","slot","icon-only","name","megaphone-outline"],["okText","Aceptar","cancelText","Cerrar",3,"value","ionChange"],["value","diario"],["value","semanal"],["value","mensual"],[4,"ngIf"],["slot","start","color","success",3,"checked","ionChange"],[1,"anuncio"],["type","number","value","1",3,"ngModel","ngModelChange"]],template:function(i,o){1&i&&(b.vc(0,p,33,0,"ion-content",0),b.vc(1,h,12,0,"ion-header",1),b.vc(2,w,57,16,"ion-content",2),b.vc(3,y,62,12,"ion-content",2)),2&i&&(b.fc("ngIf",!o.configuracion),b.Ab(1),b.fc("ngIf",o.configuracion),b.Ab(1),b.fc("ngIf",o.configuracion&&"1"===o.vista),b.Ab(1),b.fc("ngIf",o.configuracion&&"2"===o.vista))},directives:[n.j,r.t,r.L,r.G,r.A,r.K,r.z,r.lb,r.r,r.jb,r.U,r.yb,n.i,r.l,r.n,r.m,r.F,r.E,t.i,t.k,r.hb,r.q,r.d,r.f,r.X,r.xb,r.Y,r.sb],pipes:[m],styles:[".caja-flex[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-around}.avatar[_ngcontent-%COMP%]{width:50px;height:50px}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.opt[_ngcontent-%COMP%]{width:calc(50% - 10px);margin:5px;display:flex;align-items:center;flex-direction:column}.opt[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]{padding:5px}.boton[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:100%;color:#fff;display:flex;justify-content:center;align-items:center;font-size:40px;font-weight:100}.btn-verde[_ngcontent-%COMP%]:hover{background-color:#1e8c4a}.btn-verde[_ngcontent-%COMP%]{background-color:var(--ion-color-success)}.btn-amarillo[_ngcontent-%COMP%]{background-color:var(--ion-color-warning)}.btn-amarillo[_ngcontent-%COMP%]:hover{background-color:#aa8206}.btn-rojo[_ngcontent-%COMP%]{background-color:var(--ion-color-danger)}.btn-gris[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}.btn-rojo[_ngcontent-%COMP%]:hover{background-color:#9c2d3c}.miflex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tarjeta[_ngcontent-%COMP%]{width:calc(50% - 10px);margin:5px;box-shadow:none;opacity:.5;border:1px solid rgba(3,3,3,.1);transition:all .1s}.headercard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.isSelect[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;border:2px solid var(--ion-color-success)}.anuncio[_ngcontent-%COMP%]{background-color:#fffbe5!important}"],data:{animation:[Object(s.m)("entrada",[Object(s.l)(":enter",[Object(s.k)({opacity:0}),Object(s.e)("300ms",Object(s.k)({opacity:1}))]),Object(s.l)(":leave",[Object(s.k)({opacity:0})])])]}}),i})();var A=e("MUpS"),P=e("FlrC");let R=(()=>{class i{transform(i,o,e){e=e.toLowerCase(),console.log(e,i);let n=i;return""!==e&&(n=i.filter(i=>{const o=i.informacion.titulo.toLowerCase(),n=i.informacion.contenido.toLowerCase();if(o.includes(e)||n.includes(e))return i.nada=!1,i})),n=n.filter(i=>i.tipo===o),0===n.length?[{nada:!0}]:n}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=b.Kb({name:"filtroRecorList",type:i,pure:!0}),i})(),I=(()=>{class i{transform(i){return i.length>=50?i.substr(0,50)+"...":i}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=b.Kb({name:"recortar",type:i,pure:!0}),i})();function E(i,o){1&i&&(b.Ob(0,"ion-toolbar",14),b.Ob(1,"ion-buttons",15),b.Mb(2,"ion-back-button",16),b.Nb(),b.Ob(3,"ion-title"),b.wc(4,"Recordatorios"),b.Nb(),b.Nb()),2&i&&b.fc("@entrada",void 0)}function j(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-toolbar",17),b.Ob(1,"ion-title"),b.wc(2,"Opciones"),b.Nb(),b.Ob(3,"ion-buttons",18),b.Ob(4,"ion-button",19),b.Wb("click",function(){return b.pc(i),b.Yb().informacion()}),b.Mb(5,"ion-icon",20),b.Nb(),b.Ob(6,"ion-button",19),b.Wb("click",function(){return b.pc(i),b.Yb().modal("editar")}),b.Mb(7,"ion-icon",21),b.Nb(),b.Ob(8,"ion-button",19),b.Wb("click",function(){return b.pc(i),b.Yb().eliminarRecordatorio()}),b.Mb(9,"ion-icon",22),b.Nb(),b.Ob(10,"ion-button",19),b.Wb("click",function(){return b.pc(i),b.Yb().cerrarOpt()}),b.Mb(11,"ion-icon",23),b.Nb(),b.Nb(),b.Nb()}2&i&&b.fc("@entrada",void 0)}function _(i,o){1&i&&b.Mb(0,"ion-icon",31)}function S(i,o){if(1&i&&(b.Ob(0,"ion-label",32),b.Ob(1,"strong"),b.wc(2),b.Nb(),b.Mb(3,"br"),b.wc(4),b.Zb(5,"recortar"),b.Mb(6,"br"),b.Ob(7,"strong",33),b.wc(8),b.Nb(),b.Nb()),2&i){const i=b.Yb().$implicit;b.Ab(2),b.xc(i.informacion.titulo),b.Ab(2),b.yc(" ",b.ac(5,3,i.informacion.contenido)," "),b.Ab(4),b.yc("Frecuencia ",i.frecuencia.patron,"")}}function Y(i,o){1&i&&(b.Ob(0,"div",34),b.Ob(1,"h3"),b.wc(2,"No hay resultados"),b.Nb(),b.Nb())}function L(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-item",27),b.Wb("press",function(){b.pc(i);const e=o.$implicit;return b.Yb(2).opciones(e)}),b.vc(1,_,1,0,"ion-icon",28),b.vc(2,S,9,5,"ion-label",29),b.vc(3,Y,3,0,"div",30),b.Nb()}if(2&i){const i=o.$implicit;b.Db("select",i.checked),b.fc("lines",i.nada?"none":""),b.Ab(1),b.fc("ngIf",!i.nada),b.Ab(1),b.fc("ngIf",!i.nada),b.Ab(1),b.fc("ngIf",i.nada)}}function W(i,o){if(1&i&&(b.Ob(0,"div",24),b.Ob(1,"ion-list"),b.Ob(2,"ion-item-divider",25),b.wc(3,"Personalizados"),b.Nb(),b.Ob(4,"div",6),b.vc(5,L,4,6,"ion-item",26),b.Zb(6,"filtroRecorList"),b.Nb(),b.Nb(),b.Nb()),2&i){const i=b.Yb();b.Ab(5),b.fc("ngForOf",b.cc(6,1,i.lista,"personalizado",i.texto))}}function F(i,o){1&i&&b.Mb(0,"div",6)}function z(i,o){1&i&&b.Mb(0,"ion-icon",31)}function D(i,o){if(1&i&&(b.Ob(0,"ion-label",32),b.Ob(1,"strong"),b.wc(2),b.Nb(),b.Mb(3,"br"),b.wc(4),b.Zb(5,"recortar"),b.Mb(6,"br"),b.Ob(7,"strong",33),b.wc(8),b.Nb(),b.Nb()),2&i){const i=b.Yb().$implicit;b.Ab(2),b.xc(i.informacion.titulo),b.Ab(2),b.yc(" ",b.ac(5,3,i.informacion.contenido)," "),b.Ab(4),b.yc("Frecuencia ",i.frecuencia.patron,"")}}function T(i,o){1&i&&(b.Ob(0,"div",34),b.Ob(1,"h3"),b.wc(2,"No hay resultados"),b.Nb(),b.Nb())}function q(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-item",27),b.Wb("press",function(){b.pc(i);const e=o.$implicit;return b.Yb(2).opciones(e)}),b.vc(1,z,1,0,"ion-icon",28),b.vc(2,D,9,5,"ion-label",29),b.vc(3,T,3,0,"div",30),b.Nb()}if(2&i){const i=o.$implicit;b.Db("select",i.checked),b.fc("lines",i.nada?"none":""),b.Ab(1),b.fc("ngIf",!i.nada),b.Ab(1),b.fc("ngIf",!i.nada),b.Ab(1),b.fc("ngIf",i.nada)}}function U(i,o){if(1&i&&(b.Ob(0,"div",24),b.Ob(1,"ion-list"),b.Ob(2,"ion-item-divider",25),b.wc(3,"Predeterminados"),b.Nb(),b.Ob(4,"div",6),b.vc(5,q,4,6,"ion-item",26),b.Zb(6,"filtroRecorList"),b.Nb(),b.Nb(),b.Nb()),2&i){const i=b.Yb();b.Ab(5),b.fc("ngForOf",b.cc(6,1,i.lista,"predeterminado",i.texto))}}function $(i,o){1&i&&b.Mb(0,"div",35)}function Z(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-item",19),b.Wb("click",function(){b.pc(i);const e=o.$implicit;return b.Yb(2).ver(e)}),b.Mb(1,"ion-icon",31),b.Ob(2,"ion-label",32),b.Ob(3,"strong"),b.wc(4),b.Nb(),b.Mb(5,"br"),b.wc(6),b.Zb(7,"recortar"),b.Mb(8,"br"),b.Ob(9,"strong",33),b.wc(10),b.Nb(),b.Nb(),b.Nb()}if(2&i){const i=o.$implicit;b.Ab(4),b.xc(i.informacion.titulo),b.Ab(2),b.yc(" ",b.ac(7,3,i.informacion.contenido)," "),b.Ab(4),b.yc("Frecuencia ",i.frecuencia.patron,"")}}function J(i,o){if(1&i&&(b.Ob(0,"div",24),b.Ob(1,"ion-list"),b.Ob(2,"ion-item-divider",36),b.wc(3,"Personalizados"),b.Nb(),b.Ob(4,"div",6),b.vc(5,Z,11,5,"ion-item",37),b.Nb(),b.Nb(),b.Nb()),2&i){const i=b.Yb();b.Ab(5),b.fc("ngForOf",i.lista)}}function K(i,o){if(1&i){const i=b.Pb();b.Ob(0,"ion-fab",38),b.Ob(1,"ion-fab-button",39),b.Wb("click",function(){return b.pc(i),b.Yb().modal("normal")}),b.Mb(2,"ion-icon",40),b.Nb(),b.Nb()}}const G=[{path:"",component:(()=>{class i{constructor(i,o,e,n,t,r,c,a){this.modalCtrl=i,this.animationCtrl=o,this.apiSeguimiento=e,this.apiRecordatorios=n,this.almacenamiento=t,this.miToast=r,this.alertCtrl=c,this.entrada=a,this.lista=[],this.vista="1",this.role="",this.texto=""}ngOnInit(){}ionViewWillEnter(){this.listaRecordatorios()}refrescando(i){return Object(a.a)(this,void 0,void 0,function*(){yield this.listaRecordatorios(),i.target.complete()})}listaRecordatorios(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();if(i)return this.role=i.role,"USER_ROLE"!==i.role?this.apiRecordatorios.getRecordatorio(i.token).subscribe(i=>{i.exe?(i.response.forEach(i=>{i.checked=!1}),this.lista=i.response):this.miToast.alertApplication("No se pudo traer los recordatorios, intentelo m\xe1s tarde",!1)}):this.apiRecordatorios.getRecordatorioPersona(i.token).subscribe(i=>{i.exe?(i.response.forEach(i=>{i.checked=!1}),this.lista=i.response):this.miToast.alertApplication("No se pudo traer los recordatorios, intentelo m\xe1s tarde",!1)}),!0})}opciones(i){this.recordatorio||(this.vista="2",i.checked=!i.checked,this.recordatorio=i)}eliminarRecordatorio(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.alertCtrl.create({header:"Borrar Recordatorio",message:"\xbfEst\xe1 seguro de eliminar este recordatorio de forma permanente?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:()=>Object(a.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();i&&this.apiRecordatorios.deleteRecordatorio(i.token,this.recordatorio._id).subscribe(i=>{i.exe?(this.miToast.alertApplication("El recordatorio ha sido eliminado",!0),this.listaRecordatorios()):this.miToast.alertApplication("No se pudo borrar el recordatorio, intentelo m\xe1s tarde",!1),this.recordatorio=!1})})}]});return yield i.present()})}cerrarOpt(){this.vista="1",this.lista.forEach(i=>i.checked=!1),this.recordatorio=!1}modal(i){return Object(a.a)(this,void 0,void 0,function*(){const o=i=>{const o=this.animationCtrl.create().addElement(i.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),e=this.animationCtrl.create().addElement(i.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)  translateX(300px)"},{offset:1,opacity:"0.99",transform:"scale(1) translateX(0)"}]);return this.animationCtrl.create().addElement(i).easing("ease-out").duration(300).addAnimation([o,e])},e=yield this.modalCtrl.create({component:x,componentProps:{type:i,recordatorioData:this.recordatorio},mode:"ios",enterAnimation:o,leaveAnimation:i=>o(i).direction("reverse")});yield e.present(),(yield e.onWillDismiss())&&(this.recordatorio=!1,this.vista="1",this.listaRecordatorios())})}informacion(){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.modalCtrl.create({component:A.a,componentProps:{type:"recordatorio",data:this.recordatorio}});yield i.present(),yield i.onWillDismiss()})}filtrar(i){this.texto=i.detail.value}ver(i){this.entrada.mostrarSoloUna(i)}}return i.\u0275fac=function(o){return new(o||i)(b.Lb(r.qb),b.Lb(r.c),b.Lb(l.a),b.Lb(d.a),b.Lb(u.a),b.Lb(f.a),b.Lb(r.b),b.Lb(P.a))},i.\u0275cmp=b.Fb({type:i,selectors:[["app-recordatorio"]],decls:16,vars:8,consts:[[1,"ion-no-border"],["color","oscuro","mode","md",4,"ngIf"],["color","barra","mode","md",4,"ngIf"],["color","light"],["slot","fixed","pullFactor","0.5","pullMin","50","pullMax","150",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles"],[1,"divider"],[1,"divider","blanco"],["mode","ios","placeholder","Buscar Recordatorio",3,"ionChange"],["class","blanco",4,"ngIf"],["class","divider",4,"ngIf"],["class"," blanco",4,"ngIf"],["class","divider light",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],["color","oscuro","mode","md"],["slot","start"],["icon","chevron-back-outline","defaultHref","/central/menu"],["color","barra","mode","md"],["slot","end"],[3,"click"],["name","information-outline","slot","icon-only"],["name","pencil-outline","slot","icon-only"],["name","trash-outline","slot","icon-only"],["name","close-outline","slot","icon-only"],[1,"blanco"],["color","medium",1,"color-blanco"],[3,"select","lines","press",4,"ngFor","ngForOf"],[3,"lines","press"],["name","megaphone-outline","slot","start",4,"ngIf"],["class","ion-text-wrap",4,"ngIf"],["class","nada",4,"ngIf"],["name","megaphone-outline","slot","start"],[1,"ion-text-wrap"],[1,"color-verde"],[1,"nada"],[1,"divider","light"],["color","medium"],[3,"click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","barra",3,"click"],["name","add-outline"]],template:function(i,o){1&i&&(b.Ob(0,"ion-header",0),b.vc(1,E,5,1,"ion-toolbar",1),b.vc(2,j,12,1,"ion-toolbar",2),b.Nb(),b.Ob(3,"ion-content",3),b.Ob(4,"ion-refresher",4),b.Wb("ionRefresh",function(i){return o.refrescando(i)}),b.Mb(5,"ion-refresher-content",5),b.Nb(),b.Mb(6,"div",6),b.Ob(7,"div",7),b.Ob(8,"ion-searchbar",8),b.Wb("ionChange",function(i){return o.filtrar(i)}),b.Nb(),b.Nb(),b.Mb(9,"div",6),b.vc(10,W,7,5,"div",9),b.vc(11,F,1,0,"div",10),b.vc(12,U,7,5,"div",11),b.vc(13,$,1,0,"div",12),b.vc(14,J,6,1,"div",9),b.vc(15,K,3,0,"ion-fab",13),b.Nb()),2&i&&(b.Ab(1),b.fc("ngIf","1"===o.vista),b.Ab(1),b.fc("ngIf","2"===o.vista),b.Ab(8),b.fc("ngIf","USER_ROLE"!==o.role),b.Ab(1),b.fc("ngIf","USER_ROLE"!==o.role),b.Ab(1),b.fc("ngIf","USER_ROLE"!==o.role),b.Ab(1),b.fc("ngIf","USER_ROLE"===o.role),b.Ab(1),b.fc("ngIf","USER_ROLE"===o.role),b.Ab(1),b.fc("ngIf","USER_ROLE"!==o.role))},directives:[r.z,n.j,r.t,r.Q,r.R,r.U,r.yb,r.lb,r.k,r.g,r.h,r.jb,r.j,r.A,r.L,r.G,n.i,r.F,r.K,r.v,r.w],pipes:[R,I],styles:["ion-card[_ngcontent-%COMP%]{margin:0}.color-verde[_ngcontent-%COMP%]{color:var(--ion-color-success)}.select[_ngcontent-%COMP%]{border:2px solid var(--ion-color-success)!important}.nada[_ngcontent-%COMP%]{width:100%;padding:10px;background:#fafafa;opacity:.7;display:flex;justify-content:center;align-items:center}.nada[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:100}"],data:{animation:[Object(s.m)("entrada",[Object(s.l)(":enter",[Object(s.k)({opacity:0}),Object(s.e)("300ms",Object(s.k)({opacity:1}))])])]}}),i})()}];let X=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=b.Jb({type:i}),i.\u0275inj=b.Ib({imports:[[c.j.forChild(G)],c.j]}),i})();const B=[{path:"",component:x}];let V=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=b.Jb({type:i}),i.\u0275inj=b.Ib({imports:[[c.j.forChild(B)],c.j]}),i})();var H=e("iTUp");let Q=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=b.Jb({type:i}),i.\u0275inj=b.Ib({imports:[[n.b,t.e,r.mb,V,H.a]]}),i})(),ii=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=b.Jb({type:i}),i.\u0275inj=b.Ib({imports:[[n.b,t.e,r.mb,X,Q,H.a]]}),i})()}}]);