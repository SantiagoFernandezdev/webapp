(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+eMj":function(t,e,r){"use strict";r.r(e),r.d(e,"MenuPageModule",function(){return tt});var i=r("ofXK"),o=r("3Pt+"),n=r("TEn/"),a=r("tyNb"),s=r("mrSG"),c=r("R0Ic"),d=r("fXoL"),h=r("fsfq"),p=r("r3ab"),u=r("fmoy"),l=r("Gq8O"),b=r("cb8P"),f=r("1+ow"),g=r("oQG1"),m=r("71hY"),v=r("VYYF"),E=r("5yQV"),L=r("7JkF");function O(t,e){if(1&t&&(d.Mb(0,"ion-badge",19),d.rc(1),d.Lb()),2&t){const t=d.Wb();d.zb(1),d.sc(t.cantidadSeguimiento)}}function k(t,e){if(1&t&&(d.Mb(0,"ion-badge",20),d.rc(1),d.Lb()),2&t){const t=d.Wb();d.zb(1),d.sc(t.notificaciones)}}const x=function(){return["/central/menu/empleados"]};function w(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",21),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Empleados "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,x))}const M=function(){return["/central/menu/hoja"]};function j(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",22),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Hojas de Vida "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,M))}function $(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",22),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Hojas de Vida "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,M))}const R=function(){return["/central/menu/factura"]};function C(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",23),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Facturero "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,R))}const P=function(){return["/central/menu/recordatorios"]};function I(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",24),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Recordatorios "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,P))}function z(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",24),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Recordatorios "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,P))}const _=function(){return["/central/menu/ivt-inicio"]};function S(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",25),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Inventarios "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,_))}function y(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",25),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Inventarios "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,_))}const K=function(t){return["/central/tickets",t]};function A(t,e){if(1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",26),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Tickets "),d.Lb(),d.Lb()),2&t){const t=d.Wb();d.dc("routerLink",d.hc(1,K,t.id))}}const T=function(){return["/central/tickets"]};function q(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",26),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Tickets "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,T))}const J=function(){return["/central/pedidos"]};function N(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",27),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Pedidos "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,J))}function F(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",27),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Pedidos "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,J))}const U=function(){return["/central/patinadas"]};function Q(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",28),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Bandeja Patinadas "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,U))}const G=function(){return["/central/mispatinadas"]};function B(t,e){1&t&&(d.Mb(0,"ion-card",6),d.Mb(1,"ion-card-header"),d.Kb(2,"img",29),d.Lb(),d.Mb(3,"ion-card-title"),d.rc(4,"Mia Patinadas "),d.Lb(),d.Lb()),2&t&&d.dc("routerLink",d.gc(1,G))}const H=function(){return["/central/menu/solicitudes"]},V=function(){return["/central/menu/notificaciones"]},D=function(){return["/central/menu/inicioMapa"]},X=function(){return["/central/chats"]},Y=function(){return["/central/seguridad"]},W=[{path:"",component:(()=>{class t{constructor(t,e,r,i,o,n,a,s,c,d,h,p,u,l){this.almacenamiento=t,this.loading=e,this.toastService=r,this.navCtrl=i,this.apiSeguimiento=o,this.cargaElementos=n,this.router=a,this.menuCtrl=s,this.conexion=c,this.usuarioApi=d,this.apiRecordatorios=h,this.statusbar=p,this.ivtApi=u,this.socket=l,this.cantidadSeguimiento=0,this.notificaciones=0,this.recordatorios=0,this.red="wifi",this.role="",this.ivt=!1,this.id="",this.listaModulos=""}ngOnInit(){}ionViewWillEnter(){this.statusbar.backgroundColorByHexString("#273238"),this.capturarRole(),this.cargar(),this.modulos()}refrescando(t){this.capturarRole().then(()=>{t.detail.complete(),this.cargar(),this.modulos()}).catch(()=>{t.detail.complete(),this.cargar(),this.modulos()})}capturarRole(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(console.log("inicio",t),t._id&&""!==t._id?("TALLER_ROLE"===t.role&&this.socket.emit("ticket",{id:t._id}),this.role=t.role,this.id=t._id,this.apiSeguimiento.solicitudesRecibidas(t.token).subscribe(t=>{t.exe&&(this.cantidadSeguimiento=t.response.SeguimientoData.length)}),this.usuarioApi.notiCantidad(t.token).subscribe(t=>{t.exe&&(this.notificaciones=t.response)}),this.apiRecordatorios.getRecordatorioPersona(t.token).subscribe(t=>{this.recordatorios=t.response.length})):this.navCtrl.navigateRoot("/home"))})}modulos(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(t._id&&""!==t._id?this.usuarioApi.modulos(t.token).subscribe(t=>{t.exe?t.response.length>0&&(this.listaModulos=t.response[0].modulos):this.toastService.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")},t=>{this.toastService.toastError("No se pudo cargar los m\xf3dulos, intentelo m\xe1s tarde")}):this.navCtrl.navigateRoot("/home"))})}cargar(){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.almacenamiento.obtenerToken();t&&(t._id&&""!==t._id?this.ivtApi.leerInventarios(t.token).subscribe(t=>{t.exe?this.ivt=t.response.length>0:this.toastService.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde")},t=>{this.toastService.toastError("No se pudo crear el inventario, intentelo m\xe1s tarde")}):this.navCtrl.navigateRoot("/home"))})}terminar(){return Object(s.a)(this,void 0,void 0,function*(){try{const t=yield this.almacenamiento.obtenerToken();t?this.usuarioApi.cerrar(t.token).subscribe(t=>Object(s.a)(this,void 0,void 0,function*(){t.exe?(yield this.almacenamiento.terminarPartida())?this.loading.cargaProcesos("Cerrando sesi\xf3n, te esperamos pronto").then(()=>Object(s.a)(this,void 0,void 0,function*(){(yield this.conexion.destruir())?(this.role="",this.ivt=!1,this.navCtrl.navigateRoot("/home"),this.loading.finalizarCargado()):this.loading.finalizarCargado()})):this.navCtrl.navigateRoot("/home"):this.toastService.toastError("No se pudo cerrar la sesi\xf3n")}),t=>{this.toastService.toastError("No se pudo cerrar la sesi\xf3n")}):(this.navCtrl.navigateRoot("/home"),this.toastService.toastError("No se pudo cerrar la sesi\xf3n"))}catch(t){this.navCtrl.navigateRoot("/home"),this.loading.finalizarCargado(),yield this.toastService.toastError("No se pudo cerrar la sesi\xf3n")}})}}return t.\u0275fac=function(e){return new(e||t)(d.Jb(h.a),d.Jb(p.a),d.Jb(u.a),d.Jb(n.pb),d.Jb(l.a),d.Jb(b.a),d.Jb(a.g),d.Jb(n.nb),d.Jb(f.a),d.Jb(g.a),d.Jb(m.a),d.Jb(v.a),d.Jb(E.a),d.Jb(L.a))},t.\u0275cmp=d.Db({type:t,selectors:[["app-menu"]],decls:55,vars:26,consts:[[1,"ion-no-border"],["color","oscuro"],["color","light"],["slot","fixed","pullFactor","0.5","pullMin","50","pullMax","150",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles"],[1,"opts"],["mode","ios",3,"routerLink"],["src","/assets/Seguimiento.png","width","100px"],["mode","ios","color","barra",4,"ngIf"],["src","/assets/Notificaciones.png","width","100px"],["mode","ios","color","danger",4,"ngIf"],["mode","ios",3,"routerLink",4,"ngIf"],["src","/assets/Mapas.png","width","100px"],["src","/assets/Chats.png","width","100px"],["src","/assets/seguridad.png","width","100px"],[1,"light"],[1,"divider","light"],["color","danger",3,"click"],["name","power-outline","slot","start"],["mode","ios","color","barra"],["mode","ios","color","danger"],["src","/assets/Empleados.png","width","100px"],["src","/assets/Hoja.png","width","100px"],["src","/assets/NuevaFactura.png","width","100px"],["src","/assets/Anuncios.png","width","100px"],["src","/assets/Ivt.png","width","100px"],["src","/assets/Ticket.png","width","100px"],["src","/assets/Estados.png","width","100px"],["src","/assets/Patinada.png","width","100px"],["src","/assets/Mispatinadas.png","width","100px"]],template:function(t,e){1&t&&(d.Mb(0,"ion-header",0),d.Mb(1,"ion-toolbar",1),d.Mb(2,"ion-title"),d.rc(3,"Herramientas"),d.Lb(),d.Lb(),d.Lb(),d.Mb(4,"ion-content",2),d.Mb(5,"ion-refresher",3),d.Ub("ionRefresh",function(t){return e.refrescando(t)}),d.Kb(6,"ion-refresher-content",4),d.Lb(),d.Mb(7,"div",5),d.Mb(8,"ion-card",6),d.Mb(9,"ion-card-header"),d.Kb(10,"img",7),d.Lb(),d.Mb(11,"ion-card-title"),d.rc(12,"Solicitudes "),d.qc(13,O,2,1,"ion-badge",8),d.Lb(),d.Lb(),d.Mb(14,"ion-card",6),d.Mb(15,"ion-card-header"),d.Kb(16,"img",9),d.Lb(),d.Mb(17,"ion-card-title"),d.rc(18,"Notificaciones "),d.qc(19,k,2,1,"ion-badge",10),d.Lb(),d.Lb(),d.qc(20,w,5,2,"ion-card",11),d.qc(21,j,5,2,"ion-card",11),d.qc(22,$,5,2,"ion-card",11),d.qc(23,C,5,2,"ion-card",11),d.Mb(24,"ion-card",6),d.Mb(25,"ion-card-header"),d.Kb(26,"img",12),d.Lb(),d.Mb(27,"ion-card-title"),d.rc(28,"Sistema de Mapas "),d.Lb(),d.Lb(),d.qc(29,I,5,2,"ion-card",11),d.qc(30,z,5,2,"ion-card",11),d.qc(31,S,5,2,"ion-card",11),d.qc(32,y,5,2,"ion-card",11),d.qc(33,A,5,3,"ion-card",11),d.qc(34,q,5,2,"ion-card",11),d.qc(35,N,5,2,"ion-card",11),d.qc(36,F,5,2,"ion-card",11),d.Mb(37,"ion-card",6),d.Mb(38,"ion-card-header"),d.Kb(39,"img",13),d.Lb(),d.Mb(40,"ion-card-title"),d.rc(41,"Chats "),d.Lb(),d.Lb(),d.qc(42,Q,5,2,"ion-card",11),d.qc(43,B,5,2,"ion-card",11),d.Mb(44,"ion-card",6),d.Mb(45,"ion-card-header"),d.Kb(46,"img",14),d.Lb(),d.Mb(47,"ion-card-title"),d.rc(48,"Seguridad "),d.Lb(),d.Lb(),d.Lb(),d.Mb(49,"ion-list",15),d.Kb(50,"div",16),d.Mb(51,"ion-item",17),d.Ub("click",function(){return e.terminar()}),d.Kb(52,"ion-icon",18),d.Mb(53,"ion-label"),d.rc(54,"Cerrar sesi\xf3n"),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t&&(d.zb(8),d.dc("routerLink",d.gc(21,H)),d.zb(5),d.dc("ngIf","none"!==e.red),d.zb(1),d.dc("routerLink",d.gc(22,V)),d.zb(5),d.dc("ngIf","none"!==e.red),d.zb(1),d.dc("ngIf","TALLER_ROLE"===e.role),d.zb(1),d.dc("ngIf","USER_ROLE"===e.role),d.zb(1),d.dc("ngIf","TALLER_ROLE"===e.role&&e.listaModulos.includes("hoja")),d.zb(1),d.dc("ngIf","TALLER_ROLE"===e.role&&e.listaModulos.includes("factura")),d.zb(1),d.dc("routerLink",d.gc(23,D)),d.zb(5),d.dc("ngIf","USER_ROLE"===e.role),d.zb(1),d.dc("ngIf","TALLER_ROLE"===e.role&&e.listaModulos.includes("recordatorios")),d.zb(1),d.dc("ngIf","USER_ROLE"===e.role&&e.ivt),d.zb(1),d.dc("ngIf","TALLER_ROLE"===e.role&&e.listaModulos.includes("inventarios")),d.zb(1),d.dc("ngIf","TALLER_ROLE"===e.role&&e.listaModulos.includes("tickets")),d.zb(1),d.dc("ngIf","USER_ROLE"===e.role),d.zb(1),d.dc("ngIf","USER_ROLE"===e.role),d.zb(1),d.dc("ngIf","TALLER_ROLE"===e.role&&e.listaModulos.includes("pedidos")),d.zb(1),d.dc("routerLink",d.gc(24,X)),d.zb(5),d.dc("ngIf","TALLER_ROLE"===e.role&&e.listaModulos.includes("patinadas")),d.zb(1),d.dc("ngIf","TALLER_ROLE"===e.role&&e.listaModulos.includes("patinadas")),d.zb(1),d.dc("routerLink",d.gc(25,Y)))},directives:[n.z,n.jb,n.hb,n.t,n.P,n.Q,n.l,n.ub,a.h,n.n,n.p,i.j,n.L,n.F,n.A,n.K,n.i],styles:[".alerta[_ngcontent-%COMP%]{width:50px;height:100%}.opts[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.opts[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:calc(50% - 10px);margin:10px 5px;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:all .5s}.opts[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:22px;text-align:center}.opts[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{text-align:center;padding:5px}@media screen and (min-width:800px){.opts[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}}"],data:{animation:[Object(c.l)("alerta",[Object(c.i)("open",Object(c.j)({background:"#FFEBAD"})),Object(c.i)("close",Object(c.j)({background:"#FFFFFF"})),Object(c.k)("* => *",[Object(c.e)("300ms")])])]}}),t})()}];let Z=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(e){return new(e||t)},imports:[[a.i.forChild(W)],a.i]}),t})(),tt=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(e){return new(e||t)},imports:[[i.b,o.e,n.kb,Z]]}),t})()},"5yQV":function(t,e,r){"use strict";r.d(e,"a",function(){return p});var i=r("AytR"),o=r("tk/3"),n=r("coGc"),a=r("lJxs"),s=r("IzEk"),c=r("MtjB"),d=r("PqYM"),h=r("fXoL");let p=(()=>{class t{constructor(t){this.http=t}hanflerError(t){return t.pipe(Object(n.a)(()=>Object(d.a)(3e3)),Object(a.a)(t=>{if(console.log("Entramos a intentos"),t instanceof ErrorEvent)throw new Error("Error de Red");if(404===t.status)throw new Error(" P\xe1gina no encontrada")}),Object(s.a)(3))}crearInventario(t,e){const r={headers:new o.c({"x-token":t})};return this.http.post(`${i.a}/ivt/tipo/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}actualizarInventario(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/cierre/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerInventarios(t){const e={headers:new o.c({"x-token":t})};return this.http.get(`${i.a}/ivt/tipo/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerInventario(t,e){const r={headers:new o.c({"x-token":t,"x-id":e})};return this.http.get(`${i.a}/ivt/tipo/uno`,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarAcceso(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/tipo/accesos/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}BuscarUsuarios(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/empleados/buscar/`,{patron:e},r).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearEmpleado(t,e){const r={headers:new o.c({"x-token":t})};return this.http.post(`${i.a}/empleados/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarEmpleado(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/empleados/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerEmpleados(t){const e={headers:new o.c({"x-token":t})};return this.http.get(`${i.a}/empleados/`,e).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarEmpleados(t,e){const r={headers:new o.c({"x-token":t,"x-id":e})};return this.http.delete(`${i.a}/empleados/`,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearProveedor(t,e){const r={headers:new o.c({"x-token":t})};return this.http.post(`${i.a}/ivt/proveedores/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarProveedor(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/proveedores/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarProveedor(t,e){const r={headers:new o.c({"x-token":t,"x-id":e})};return this.http.delete(`${i.a}/ivt/proveedores/`,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProveedor(t,e){const r={headers:new o.c({"x-token":t,"x-ivt":e})};return this.http.get(`${i.a}/ivt/proveedores/`,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearCategoria(t,e){const r={headers:new o.c({"x-token":t})};return this.http.post(`${i.a}/ivt/categorias/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarCategoria(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/categorias/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarCategoria(t,e){const r={headers:new o.c({"x-token":t,"x-id":e})};return this.http.delete(`${i.a}/ivt/categorias/`,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerCategoria(t,e){const r={headers:new o.c({"x-token":t,"x-ivt":e})};return this.http.get(`${i.a}/ivt/categorias/`,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearProducto(t,e){const r={headers:new o.c({"x-token":t})};return this.http.post(`${i.a}/ivt/productos/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}editarProducto(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}eliminarProducto(t,e){const r={headers:new o.c({"x-token":t,"x-id":e})};return this.http.delete(`${i.a}/ivt/productos/`,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProducto(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/filtro/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProductoEstadistica(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/filtro/estadistica/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProductosPorInventario(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscarivt/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}buscarProducto(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/buscar`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearEntrada(t,e){const r={headers:new o.c({"x-token":t})};return this.http.post(`${i.a}/ivt/entradas/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerEntrada(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarEntradas(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/buscar/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarEntradasPatron(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/entradas/buscar/patron/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}crearSalida(t,e){const r={headers:new o.c({"x-token":t})};return this.http.post(`${i.a}/ivt/salidas/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerSalida(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarSalidas(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/buscar/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}filtrarSalidasPatron(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/salidas/buscar/patron/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}CargarInventarios(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/tipo/almacen/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}CierresInventario(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/cierre/buscar/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}MovCantidades(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/mov/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}MovCantidades2(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/mov/salidas/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerMovmientos(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/movimientos/filtro/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerAgotados(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/agotados/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}leerProximos(t,e){const r={headers:new o.c({"x-token":t})};return this.http.put(`${i.a}/ivt/productos/proximos/`,e,r).pipe(Object(c.a)(t=>this.hanflerError(t)))}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(o.a))},t.\u0275prov=h.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},oQG1:function(t,e,r){"use strict";r.d(e,"a",function(){return g});var i=r("tk/3"),o=r("PqYM"),n=r("Cfvw"),a=r("coGc"),s=r("lJxs"),c=r("IzEk"),d=r("MtjB"),h=r("JIr8"),p=r("AytR"),u=r("fXoL"),l=r("B7Rs"),b=r("fsfq"),f=r("TEn/");let g=(()=>{class t{constructor(t,e,r,i){this.http=t,this.transfer=e,this.almacenamiento=r,this.navCtrl=i}hanflerError(t){let e=0;return t.pipe(Object(a.a)(()=>Object(o.a)(5e3)),Object(s.a)(t=>{if(e++,console.log("Entramos a intentos"),t instanceof ErrorEvent){if(3===e)throw new Error("Error de Red")}else{if(!(t instanceof ProgressEvent))throw 404===t.status?new Error(" al realizar la solicictud "):401===t.status?(this.almacenamiento.terminarPartida().then(()=>{this.navCtrl.navigateRoot("/home")}),new Error("No tiene permisos para realizar la petici\xf3n ")):(console.log(t,"Error de servidor"),new Error(" No se pudo realizar la petici\xf3n, intentalo m\xe1s tarde "));if(3===e)throw new Error("Error de Red")}}),Object(c.a)(3))}registrar(t){return this.http.post(`${p.a}/usuarios`,t).pipe(Object(s.a)(t=>t.exe?(t.response.exe=t.exe,t.response.token=t.token,t.response):t),Object(d.a)(t=>this.hanflerError(t)))}usuario(t){return this.http.post(`${p.a}/usuarios/unico`,{buscar:t}).pipe(Object(d.a)(t=>this.hanflerError(t)))}iniciarPartida(t,e){const r={headers:new i.c({"x-dispositivoID":e})};return this.http.post(`${p.a}/login`,t,r).pipe(Object(s.a)(t=>(console.log(t),t.exe?(t.response.exe=t.exe,t.response.token=t.token,t.response):t.exe)),Object(d.a)(t=>this.hanflerError(t)))}fotoPerfilUsuarioMoto(t,e,r){const i={fileKey:"archivo",httpMethod:"PUT",headers:{"x-token":e},params:{tipo:r}},o=this.transfer.create();return Object(n.a)(o.upload(t,`${p.a}/upload`,i)).pipe(Object(h.a)(t=>{throw console.log("No se pudo subir la imagen "),new Error("No se pudo subir la imagen ")}))}fotoPortada(t,e,r){const i={fileKey:"archivo",httpMethod:"PUT",headers:{"x-token":e},params:{old:r}},o=this.transfer.create();return Object(n.a)(o.upload(t,`${p.a}/upload/portada/`,i)).pipe(Object(h.a)(t=>{throw console.log("No se pudo subir la imagen "),new Error("No se pudo subir la imagen ")}))}viewImagen(t){const e={headers:new i.c({"x-token":t})};return this.http.get(`${p.a}/ver`,e).pipe(Object(d.a)(t=>this.hanflerError(t)))}buscarUsuario(t,e){const r={headers:new i.c({"x-token":e})};return this.http.get(`${p.a}/usuarios/${t}`,r).pipe(Object(d.a)(t=>this.hanflerError(t)))}cerrar(t){const e={headers:new i.c({"x-token":t})};return this.http.put(`${p.a}/usuarios/cerrar/`,{},e).pipe(Object(d.a)(t=>this.hanflerError(t)))}usuarioDatos(t){const e={headers:new i.c({"x-token":t})};return this.http.put(`${p.a}/usuarios/uno/`,{},e).pipe(Object(d.a)(t=>this.hanflerError(t)))}editarUusuario(t,e){const r={headers:new i.c({"x-token":t})};return this.http.put(`${p.a}/usuarios/editar/uno/`,e,r).pipe(Object(d.a)(t=>this.hanflerError(t)))}buscarPerfilUsuario(t,e){const r={headers:new i.c({"x-token":e})};return this.http.get(`${p.a}/usuarios/perfil/${t}`,r).pipe(Object(d.a)(t=>this.hanflerError(t)))}traerMisNotificaciones(t,e){const r={headers:new i.c({"x-token":t,"x-desde":e.toString()})};return this.http.get(`${p.a}/notificaciones/misnotificaciones/`,r).pipe(Object(d.a)(t=>this.hanflerError(t)))}notiCantidad(t){const e={headers:new i.c({"x-token":t})};return this.http.get(`${p.a}/notificaciones/numero/`,e).pipe(Object(d.a)(t=>this.hanflerError(t)))}ActualizarNotificaciones(t,e){const r={headers:new i.c({"x-token":t})};return this.http.put(`${p.a}/notificaciones/misnotificaciones/cambiarestado/`,{id:e},r).pipe(Object(d.a)(t=>this.hanflerError(t)))}validarClave(t,e){const r={headers:new i.c({"x-token":t})};return this.http.put(`${p.a}/usuarios/claves/`,e,r).pipe(Object(d.a)(t=>this.hanflerError(t)))}editarClaves(t,e){const r={headers:new i.c({"x-token":t})};return this.http.put(`${p.a}/usuarios/claves/editar`,e,r).pipe(Object(d.a)(t=>this.hanflerError(t)))}editarClaves2(t){return this.http.put(`${p.a}/usuarios/claves/editar/dos`,t).pipe(Object(d.a)(t=>this.hanflerError(t)))}listarPaises(){return this.http.get(`${p.a}/paises`).pipe(Object(d.a)(t=>this.hanflerError(t)))}listarCiudades(t){const e={headers:new i.c({"x-pais":t})};return this.http.get(`${p.a}/ciudad`,e).pipe(Object(d.a)(t=>this.hanflerError(t)))}CodigoComprobar(t){return this.http.put(`${p.a}/codigos`,t).pipe(Object(d.a)(t=>this.hanflerError(t)))}EditarCodigo(t){return this.http.put(`${p.a}/codigos/cambiar`,t).pipe(Object(d.a)(t=>this.hanflerError(t)))}negocios(){return this.http.get(`${p.a}/tiponegocio`).pipe(Object(d.a)(t=>this.hanflerError(t)))}modulos(t){const e={headers:new i.c({"x-token":t})};return this.http.get(`${p.a}/modulos`,e).pipe(Object(d.a)(t=>this.hanflerError(t)))}modulosTALLER(t,e){const r={headers:new i.c({"x-token":t})};return this.http.post(`${p.a}/modulos`,e,r).pipe(Object(d.a)(t=>this.hanflerError(t)))}Cambio(t){return this.http.post(`${p.a}/cambio`,t).pipe(Object(d.a)(t=>this.hanflerError(t)))}Validar(t){return this.http.put(`${p.a}/cambio`,t).pipe(Object(d.a)(t=>this.hanflerError(t)))}}return t.\u0275fac=function(e){return new(e||t)(u.Qb(i.a),u.Qb(l.a),u.Qb(b.a),u.Qb(f.pb))},t.\u0275prov=u.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},r3ab:function(t,e,r){"use strict";r.d(e,"a",function(){return a});var i=r("mrSG"),o=r("fXoL"),n=r("TEn/");let a=(()=>{class t{constructor(t){this.loadingCtrl=t}cargaProcesos(t){return Object(i.a)(this,void 0,void 0,function*(){return this.loading=yield this.loadingCtrl.create({message:t}),this.loading.present()})}finalizarCargado(){this.loading.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(n.mb))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);