(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{B9W8:function(i,n,o){"use strict";o.r(n),o.d(n,"FacturaConfiguracionPageModule",function(){return N});var t=o("ofXK"),e=o("3Pt+"),c=o("TEn/"),a=o("tyNb"),r=o("mrSG"),s=o("fXoL"),b=o("fsfq"),l=o("6POk"),u=o("fmoy");function d(i,n){if(1&i){const i=s.Pb();s.Ob(0,"div",5),s.Ob(1,"ion-button",6),s.Wb("click",function(){return s.pc(i),s.Yb().habilitar()}),s.wc(2,"ABRIR CONFIGURACI\xd3N"),s.Nb(),s.Nb()}}function f(i,n){1&i&&(s.Ob(0,"ion-item",7),s.Ob(1,"ion-label"),s.wc(2,"PORCENTAJE DEL IVA"),s.Nb(),s.Nb())}function m(i,n){if(1&i){const i=s.Pb();s.Ob(0,"ion-item",8),s.Ob(1,"ion-input",19),s.Wb("ngModelChange",function(n){return s.pc(i),s.Yb(2).ivaValor=n}),s.Nb(),s.Nb()}if(2&i){const i=s.Yb(2);s.Ab(1),s.fc("ngModel",i.ivaValor)}}function h(i,n){if(1&i){const i=s.Pb();s.Ob(0,"ion-list"),s.Ob(1,"ion-item",7),s.Ob(2,"ion-label"),s.wc(3,"NIT DE LA EMPRESA"),s.Nb(),s.Nb(),s.Ob(4,"ion-item",8),s.Ob(5,"ion-input",9),s.Wb("ngModelChange",function(n){return s.pc(i),s.Yb().nit=n}),s.Nb(),s.Nb(),s.Ob(6,"ion-item",7),s.Ob(7,"ion-label"),s.wc(8,"DIRECCI\xd3N DE LA EMPRESA"),s.Nb(),s.Nb(),s.Ob(9,"ion-item",8),s.Ob(10,"ion-input",9),s.Wb("ngModelChange",function(n){return s.pc(i),s.Yb().direccion=n}),s.Nb(),s.Nb(),s.Ob(11,"ion-item",7),s.Ob(12,"ion-label"),s.wc(13,"R\xc9GIMEN DE LA EMPRESA"),s.Nb(),s.Nb(),s.Ob(14,"ion-item",8),s.Ob(15,"ion-select",10),s.Wb("ionChange",function(n){return s.pc(i),s.Yb().regimenc(n)}),s.Ob(16,"ion-select-option",11),s.wc(17,"R\xe9gimen simplificado"),s.Nb(),s.Ob(18,"ion-select-option",11),s.wc(19,"R\xe9gimen com\xfan"),s.Nb(),s.Nb(),s.Nb(),s.Ob(20,"ion-item",7),s.Ob(21,"ion-label"),s.wc(22,"TITULAR DE LA EMPRESA (OPCIONAL)"),s.Nb(),s.Nb(),s.Ob(23,"ion-item",8),s.Ob(24,"ion-input",9),s.Wb("ngModelChange",function(n){return s.pc(i),s.Yb().titular=n}),s.Nb(),s.Nb(),s.Ob(25,"ion-item",12),s.Ob(26,"ion-label"),s.Ob(27,"div",13),s.wc(28," CONSECUTIVO "),s.Ob(29,"strong"),s.wc(30),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(31,"ion-item",14),s.Ob(32,"ion-label"),s.wc(33,"HABILITAR IVA"),s.Nb(),s.Ob(34,"ion-toggle",15),s.Wb("ionChange",function(n){return s.pc(i),s.Yb().cambiar(n)}),s.Nb(),s.Nb(),s.Mb(35,"br"),s.vc(36,f,3,0,"ion-item",16),s.vc(37,m,2,1,"ion-item",17),s.Mb(38,"br"),s.Ob(39,"ion-button",18),s.Wb("click",function(){return s.pc(i),s.Yb().guardar()}),s.wc(40,"GUDARDAR CONFIGURACI\xd3N"),s.Nb(),s.Nb()}if(2&i){const i=s.Yb();s.Ab(5),s.fc("ngModel",i.nit),s.Ab(5),s.fc("ngModel",i.direccion),s.Ab(5),s.fc("value",i.regimen),s.Ab(9),s.fc("ngModel",i.titular),s.Ab(6),s.xc(i.consecutivo),s.Ab(4),s.fc("checked",i.iva),s.Ab(2),s.fc("ngIf",i.iva),s.Ab(1),s.fc("ngIf",i.iva)}}const g=[{path:"",component:(()=>{class i{constructor(i,n,o){this.almacenamiento=i,this.apiFactura=n,this.toast=o,this.nuevo=!1,this.mostrar=!1,this.nit="",this.direccion="",this.regimen="",this.titular="",this.iva=!1,this.ivaValor=0,this.consecutivo="",this.proceso=!1}ngOnInit(){}ionViewWillEnter(){this.mostrar=!1,this.consultar()}consultar(){return Object(r.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();i&&this.apiFactura.consultarConfiguracion(i.token).subscribe(i=>{i.exe?i.response?(this.regimen=i.response.regimen,this.direccion=i.response.direccion,this.titular=i.response.titular,this.nit=i.response.nit,this.iva=i.response.iva,this.ivaValor=i.response.valorIva,this.consecutivo=i.response.consecutivo,this.mostrar=!0):this.nuevo=!0:this.toast.toastError("No se pudo consultar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")},i=>{this.toast.toastError("No se pudo consultar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")})})}habilitar(){this.nuevo=!1,this.mostrar=!0}cambiar(i){this.iva=i.detail.checked}regimenc(i){this.regimen=i.detail.value}guardar(){return Object(r.a)(this,void 0,void 0,function*(){const i=yield this.almacenamiento.obtenerToken();i&&this.apiFactura.editarConfiguracion(i.token,{regimen:this.regimen,direccion:this.direccion,titular:this.titular,iva:this.iva,nit:this.nit,valorIva:this.ivaValor}).subscribe(i=>{i.exe?this.toast.toastExitoso("Configuraci\xf3n actualizada"):this.toast.toastError("No se pudo guardar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")},i=>{this.toast.toastError("No se pudo guardar la informaci\xf3n de la configuraci\xf3n, intentelo mpas tarde")})})}}return i.\u0275fac=function(n){return new(n||i)(s.Lb(b.a),s.Lb(l.a),s.Lb(u.a))},i.\u0275cmp=s.Fb({type:i,selectors:[["app-factura-configuracion"]],decls:8,vars:2,consts:[[1,"ion-no-border"],["color","oscuro"],["slot","start","icon","chevron-back-outline","defaultHref","/central/menu/factura"],["class","ion-padding",4,"ngIf"],[4,"ngIf"],[1,"ion-padding"],["expand","block","mode","ios","color","success",3,"click"],["lines","none","mode","ios"],["mode","ios"],["placeholder","Escribir",3,"ngModel","ngModelChange"],["placeholder","Seleccionar","okText","Aceptar","cancelText","Cancelar",3,"value","ionChange"],["value","R\xe9gimen simplificado"],["lines","none","mode","ios",1,"sinfondo"],[1,"flexbet"],["lines","none","mode","ios","color","light"],["slot","end","color","success","mode","ios",3,"checked","ionChange"],["lines","none","mode","ios",4,"ngIf"],["mode","ios",4,"ngIf"],["expand","block","mode","ios","color","secondary",3,"click"],["type","number","placeholder","Escribir",3,"ngModel","ngModelChange"]],template:function(i,n){1&i&&(s.Ob(0,"ion-header",0),s.Ob(1,"ion-toolbar",1),s.Mb(2,"ion-back-button",2),s.Ob(3,"ion-title"),s.wc(4,"Configuraci\xf3n"),s.Nb(),s.Nb(),s.Nb(),s.Ob(5,"ion-content"),s.vc(6,d,3,0,"div",3),s.vc(7,h,41,8,"ion-list",4),s.Nb()),2&i&&(s.Ab(6),s.fc("ngIf",n.nuevo),s.Ab(1),s.fc("ngIf",n.mostrar))},directives:[c.z,c.lb,c.g,c.h,c.jb,c.t,t.j,c.j,c.L,c.F,c.K,c.E,c.yb,e.i,e.k,c.X,c.xb,c.Y,c.kb,c.d,c.sb],styles:[".flexbet[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.cien[_ngcontent-%COMP%]{width:100%}"]}),i})()}];let p=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=s.Jb({type:i}),i.\u0275inj=s.Ib({imports:[[a.j.forChild(g)],a.j]}),i})(),N=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=s.Jb({type:i}),i.\u0275inj=s.Ib({imports:[[t.b,e.e,c.mb,p]]}),i})()}}]);