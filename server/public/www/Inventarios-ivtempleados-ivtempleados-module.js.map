{"version":3,"sources":["./src/app/pages/Inventarios/ivtempleados/ivtempleados.page.ts","./src/app/pages/Inventarios/ivtempleados/ivtempleados.module.ts","./src/app/pages/Inventarios/ivtempleados/ivtempleados.page.scss","./src/app/pages/Inventarios/ivtempleados/ivtempleados.page.html","./src/app/pages/Inventarios/ivtempleados/ivtempleados-routing.module.ts"],"names":[],"mappings":"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","file":"Inventarios-ivtempleados-ivtempleados-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { InventariosService } from '../../../providers/Api/Inventarios.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-ivtempleados',\n  templateUrl: './ivtempleados.page.html',\n  styleUrls: ['./ivtempleados.page.scss'],\n})\nexport class IVTempleadosPage implements OnInit {\n  \n  empleados = [];\n  buscados = [];\n  accesos = [];\n\n  load = false;\n\n  marcar = false;\n  id = '';\n\n  ivt: any = {};\n  cargauno = false;\n\n  constructor(\n    private almacenamiento: InicioService,\n    private IVTapi: InventariosService,\n    private toast: ToastServices,\n    private active: ActivatedRoute,\n    private loading: LoadingController\n  ) { }\n\n  ngOnInit() {\n  }\n\n  async ionViewWillEnter() {\n    this.id = this.active.snapshot.paramMap.get('id');\n    await this.traerEmpleados()\n  }\n\n  refrescando( event) {\n    this.traerEmpleados().then(() => {\n      event.target.complete();\n    }).catch(() => {\n      event.target.complete();\n    });\n  }\n\n\n\n  async traerEmpleados() {\n    this.load = true;\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n        \n        this.IVTapi.leerEmpleados(info.token).subscribe((data: any) => {\n            // console.log(data);\n            if (data.exe) {\n\n                let arr = [];\n\n                data.response.forEach((item) => {\n                  if (item.usuario.imagen.length > 0) {\n                    item.usuario.imagen = `https://motocaliapp.com/${item.usuario.imagen[0].path}`;\n                  } else {\n                    item.usuario.imagen = '/assets/notfound.png';\n                  }\n                })\n                arr = data.response;\n\n                // console.log(this.id);\n\n                this.IVTapi.leerInventario(info.token, this.id).subscribe((re: any) => {\n                    // console.log(re, 'mio');\n                    if (re.exe) {\n                      this.ivt = re.response;\n                      arr.forEach((item) => {\n                        if (re.response.accesos.find((acceso) => acceso === item.usuario._id )) {\n                            item.checked = true;\n                          }\n\n                          // console.log('bien')\n                      })\n                      this.cargauno = true;\n                      // console.log(this.cargauno)\n                      this.empleados = arr;\n                    }\n\n                  \n                })\n\n            } else {\n              this.toast.toastError('No se pudo traer la información, intentelo más tarde');\n            }\n\n            this.load = false;\n        }, (err) => {\n          this.toast.toastError('No se pudo traer la información, intentelo más tarde');\n        })\n\n      }\n  }\n\n  async marcando( event ) {\n    // console.log(event.detail)\n    if (this.cargauno) {\n      const loading = await this.loading.create({\n        message: 'Procesando información...',\n        translucent: true,\n        mode: 'ios'\n      })\n  \n      await loading.present();\n  \n      const info = await this.almacenamiento.obtenerToken();\n  \n      if ( info ) {\n        // tslint:disable-next-line:max-line-length\n        this.IVTapi.editarAcceso(info.token, {id: event.detail.value, estado: event.detail.checked, _id: this.id}).subscribe(async (re: any) => {\n                \n          if (re.exe) {\n          }\n  \n          await loading.dismiss();\n      }, async (err) => {\n        await loading.dismiss();\n      })\n      }\n    }\n  }\n\n  ionViewDidLeave() {\n    // console.log('sale');\n    this.cargauno = false;\n    this.empleados = [];\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IVTempleadosPageRoutingModule } from './ivtempleados-routing.module';\n\nimport { IVTempleadosPage } from './ivtempleados.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IVTempleadosPageRoutingModule\n  ],\n  declarations: [IVTempleadosPage]\n})\nexport class IVTempleadosPageModule {}\n","export default \".cen {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.tituloGrande {\\n  width: 300px;\\n  text-align: center;\\n}\\n\\n.verdei {\\n  color: #1E8C4A;\\n}\\n\\nion-item-divider {\\n  border: 0px !important;\\n  margin-bottom: 15px;\\n}\\n\\n.rojoi {\\n  color: #C1302C;\\n}\\n\\n.padreflex {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.numero {\\n  display: flex;\\n  align-items: center;\\n  padding-right: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcaXZ0ZW1wbGVhZG9zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxZQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLGNBQUE7QUFDSjs7QUFFQTtFQUNJLHNCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLGNBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUFDSiIsImZpbGUiOiJpdnRlbXBsZWFkb3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNlbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi50aXR1bG9HcmFuZGUge1xyXG4gICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4udmVyZGVpIHtcclxuICAgIGNvbG9yOiAjMUU4QzRBO1xyXG59XHJcblxyXG5pb24taXRlbS1kaXZpZGVyIHtcclxuICAgIGJvcmRlcjogMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4ucm9qb2kge1xyXG4gICAgY29sb3I6ICNDMTMwMkM7XHJcbn1cclxuXHJcbi5wYWRyZWZsZXgge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLm51bWVybyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XHJcbn0iXX0= */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar color=\\\"success\\\">\\n\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button icon=\\\"chevron-back-outline\\\" defaultHref=\\\"/central/menu/ivt-inicio\\\"></ion-back-button>\\n        </ion-buttons>\\n\\n        <ion-title>Mis Empleados</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refrescando($event)\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"50\\\" pullMax=\\\"150\\\">\\n        <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" refreshingSpinner=\\\"circles\\\">\\n        </ion-refresher-content>\\n    </ion-refresher>\\n\\n    <ion-searchbar mode=\\\"ios\\\" placeholder=\\\"Buscar Empleado\\\"></ion-searchbar>\\n\\n\\n\\n    <div class=\\\"divider light\\\"></div>\\n\\n    <div class=\\\"divider\\\"></div>\\n\\n    <div class=\\\"cen\\\" *ngIf=\\\"empleados.length === 0\\\">\\n        <img src=\\\"/assets/Empleadoslista.png\\\" width=\\\"100px\\\" alt=\\\"\\\">\\n        <h3 class=\\\"tituloGrande\\\">No tiene empleados registrados</h3>\\n    </div>\\n\\n    <div class=\\\"carga\\\" *ngIf=\\\"load\\\">\\n        <ion-list>\\n            <ion-item *ngFor=\\\"let e of [1,1,1,1,1]\\\">\\n                <ion-skeleton-text slot=\\\"start\\\" animated style=\\\"width: 50px; height: 50px\\\"></ion-skeleton-text>\\n                <ion-label>\\n                    <ion-skeleton-text animated style=\\\"width: 50%; height: 20px\\\"></ion-skeleton-text>\\n                    <ion-skeleton-text animated style=\\\"width: 90%; height: 20px\\\"></ion-skeleton-text>\\n                </ion-label>\\n            </ion-item>\\n        </ion-list>\\n\\n    </div>\\n\\n\\n    <ion-list *ngIf=\\\"empleados.length > 0\\\">\\n        <ion-item-divider lines=\\\"none\\\" color=\\\"muro\\\">\\n            <div class=\\\"padreflex\\\">\\n                <div class=\\\"titulo\\\">\\n                    <h3>Registrados</h3>\\n                </div>\\n                <div class=\\\"numero\\\">\\n                    <img src=\\\"/assets/Empleadoslista.png\\\" width=\\\"25px\\\" height=\\\"25px\\\" alt=\\\"\\\">\\n                    <h3>{{ empleados.length }}</h3>\\n                </div>\\n            </div>\\n        </ion-item-divider>\\n        <ion-item-sliding *ngFor=\\\"let empleado of empleados\\\">\\n            <ion-item>\\n                <ion-avatar slot=\\\"start\\\">\\n                    <img [src]=\\\"empleado.usuario.imagen\\\" width=\\\"100%\\\" height=\\\"100%\\\" alt=\\\"\\\">\\n                </ion-avatar>\\n                <ion-label>\\n                    <span>{{ empleado.usuario.nombrecompleto }}</span><br> <strong class=\\\"verdei\\\">@{{ empleado.usuario.nombreusuario }}</strong>\\n                    <div *ngIf=\\\"empleado.cargo\\\" class=\\\"rojoi\\\">Cargo: {{ empleado.cargo }}</div>\\n                    <div *ngIf=\\\"empleado.alias\\\" class=\\\"rojoi\\\">Alías: {{ empleado.alias }}</div>\\n                </ion-label>\\n\\n                <ion-checkbox [checked]=\\\"empleado.checked\\\" slot=\\\"end\\\" color=\\\"danger\\\" value=\\\"{{ empleado.usuario._id }}\\\" (ionChange)=\\\"marcando( $event )\\\"></ion-checkbox>\\n\\n            </ion-item>\\n\\n\\n        </ion-item-sliding>\\n    </ion-list>\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IVTempleadosPage } from './ivtempleados.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IVTempleadosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class IVTempleadosPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}